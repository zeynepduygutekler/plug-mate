{"version":3,"sources":["ConfirmAlert.js","withDnDContext.js","OnlyAlert.js","ConflictAlert.js","ScheduleControlPopup.js","Calendar.js","index.js"],"names":["ConfirmAlert","state","message","_this","props","onConfirm","onCancel","react_default","a","createElement","class","index_es","icon","faExclamationTriangle","style","color","this","onClick","Component","DragDropContext","HTML5Backend","OnlyAlert","onOK","messages","split","map","word","ScheduleControlPopup","exitPopup","e","target","document","getElementById","closeButtonClicked","event_rrule","includes","checked","substring","length","device_type","Fragment","id","defaultValue","event_name","type","faClock","ScheduleControlPopup_ScheduleControlTimepicker","time","event_start","display","marginRight","marginLeft","event_end","ScheduleControlPopup_ScheduleControlRepeat","fontWeight","ScheduleControlPopup_ScheduleControlApply","devices","okButtonClicked","deleteButtonClicked","ScheduleControlTimepicker","hour","Number","am_pm","toString","minute","value","ScheduleControlRepeat","htmlFor","width","name","ScheduleControlApply","device","ScheduleControlPopup_ScheduleControlApplyItem","ScheduleControlApplyItem","replace","from24to12","new_hour","am_or_pm","finalTime","from12to24","formatForDatabaseAdd","book","current_user_id","rrule","user_id","event_id","start","end","title","device_type_id","resourceId","formatForDatabaseUpdate","n","indexOf","database_id","processHourInput","getDates","today","Date","mondayDate","tuesdayDate","wednesdayDate","thursdayDate","fridayDate","saturdayDate","sundayDate","getDay","setDate","getDate","getFullYear","getMonth","withDragDropContext","Calendar","Object","classCallCheck","_super","call","refetchBonusAchievementsData","fetch","then","response","json","data","setState","achievements_books","setTimeout","refetchWeeklyAchievementsData","weekly_achievements_books","refetchPointsWalletData","points_wallet_books","updateAchievementsBooks","newBook","method","headers","Content-Type","body","JSON","stringify","newBooks","assign","updateWeeklyAchievementsBooks","updatePointsWalletBooks","handleAchievementsUpdate","handleWeeklyAchievementsUpdate","handlePointsWalletUpdate","handleAchievementsFormSubmit","handleWeeklyAchievementsFormSubmit","handlePointsWalletFormSubmit","isNonWorkingTime","schedulerData","getScrollSpecialMoment","startMoment","endMoment","date","moment","eventClicked","event","slotName","getSlotById","ReactDOM","render","src_ScheduleControlPopup","check_start_time","check_end_time","src_OnlyAlert","unmountComponentAtNode","_step","hasConflict","conflictedEvents","plugload_option","querySelectorAll","repeat_option","new_days_to_loop_over","_iterator","createForOfIteratorHelper","s","done","repeat_day","push","err","f","new_start","new_end","new_start_for_this","new_end_for_this","existing_start_for_this","existing_end_for_this","_i","_new_days_to_loop_ove","new_day","_step2","_iterator2","plugload","events","forEach","current_resource_id","existing_days_to_loop_over","_i2","_existing_days_to_loo","existing_day","_step3","_iterator3","day","current_plugload_conflicted","concat","ConflictAlert","updateEventStart","window","calendar","updateEventEnd","newFreshId","item","newEvent","bgColor","showPopover","onAddClick","addEvent","viewModel","onUpdateClick","refetchData","schedule_based","objectSpread2","first_schedule","points","presencecontrol","key","console","log","click","onDeleteClick","removeEvent","slotId","format","toUpperCase","_step4","_iterator4","_i3","_new_days_to_loop_ove2","_step5","_iterator5","_i4","_existing_days_to_loo2","_step6","_iterator6","anotherNewEvent","newStart","_step7","_iterator7","_i5","_new_days_to_loop_ove3","_step8","_iterator8","_i6","_existing_days_to_loo3","_step9","_iterator9","newEnd","_step10","_iterator10","_i7","_new_days_to_loop_ove4","_step11","_iterator11","_i8","_existing_days_to_loo4","_step12","_iterator12","moveEvent","_step13","_iterator13","_i9","_new_days_to_loop_ove5","_step14","_iterator14","_i10","_existing_days_to_loo5","_step15","_iterator15","conflictOccurred","action","SchedulerData","ViewTypes","Day","checkConflict","recurringEventsEnabled","scrollToSpecialMomentEnabled","crossResourceMove","getScrollSpecialMomentFunc","isNonWorkingTimeFunc","setResources","setEvents","assertThisInitialized","lib_default","eventItemClick","compare","b","comparison","RemoteControlDashboard","books","fetchData","sort","updateBook","src_RemoteControlList","float","RemoteControlList","_this2","src_RemoteControlEditableItem","device_state","marginBottom","src_RemoteToggleButton","defaultChecked","margin","RemoteControlEditableItem","handleUpdate","_this3","_this4","src_RemoteControlItem","onFormSubmit","RemoteControlItem","_this5","handleFormSubmit","onConfirm1","to_be_confirmed","Main","first_remote","wanted_id","className","onConfirm2","onCancel1","to_be_cancelled","onCancel2","onChange","preventDefault","childNodes","src_ConfirmAlert","_this6","remote_control_outer_ring","remote_control_image","textAlign","src","alt","data-yes","data-no","RemoteToggleButton","_this7","_super5","master","Small","Name","disabled","sort_events","src_RemoteControlDashboard","ScheduleControlDashboard","dates","chosen_day","_this8","events_datas","input","eventId","finalStart","finalEnd","_getDates","_getDates2","slicedToArray","charAt","createNewBook","csrftoken","cookieValue","cookie","cookies","i","trim","decodeURIComponent","getCookie","X-CSRFToken","deleteBook","bookId","filter","removeCalendarHeader","removeChild","addLines","j","getElementsByClassName","borderRight","chooseMonday","src_Calendar","chooseTuesday","chooseWednesday","chooseThursday","chooseFriday","chooseSaturday","chooseSunday","_this9","_getDates3","_getDates4","src_ScheduleControlItem","ScheduleControlItem","today_date","src_ScheduleControlDashboard","PresenceControlDashboard","_this10","_super8","_this11","src_PresenceControlList","PresenceControlList","_this12","src_PresenceControlEditableItem","presence_setting","PresenceControlEditableItem","_this13","_this14","src_PresenceControlItem","PresenceControlItem","_this15","first_presence","handleSettingUpdate","evt","src_PresenceControlPopup","handleOtherUpdate","handleEnterClick","cancelButtonClicked","keyCode","handlePresenceIconClick","display_value","display_text","presence_control_outer_ring","presence_control_image","exitClick","height","overflowY","position","label","PresenceControlPopup","_this16","onKeyUp","src_PresenceControlDashboard","remotecontrolelement","infoiconremote","scheduleelement","infoiconschedule","presenceelement","infoiconpresence","onload","remotecontrolelemRect","getBoundingClientRect","infoiconremoteRect","offsetremote","right","onmouseover","onmouseout","scheduleelemRect","infoiconscheduleRect","offsetschedule","presenceelemRect","infoiconpresenceRect","offsetpresence","onresize","isChromium","chrome","winNav","navigator","vendorName","vendor","isOpera","opr","isIEedge","userAgent","match","onkeydown","ctrlKey","which"],"mappings":"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","file":"static/js/main.acf46299.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass ConfirmAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onConfirm: this.props.onConfirm,\r\n        onCancel: this.props.onCancel\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"confirm_alert_cancel\" onClick={this.state.onCancel}> Cancel </button>\r\n                            <button class=\"confirm_alert_confirm\" onClick={this.state.onConfirm}> Confirm </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ConfirmAlert;","// This is the component that wraps the calendar in a drag and drop context to allow dragging. \r\n\r\nimport { DragDropContext } from \"react-dnd\";\r\nimport HTML5Backend from \"react-dnd-html5-backend\";\r\n\r\nexport default DragDropContext(HTML5Backend);\r\n","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass OnlyAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onOK: this.props.onOK\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"alert_ok\" onClick={this.state.onOK}> OK </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OnlyAlert;","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass OnlyAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onOK: this.props.onOK\r\n    }\r\n    render() {\r\n        var array = this.state.message.split(\"<new>\");\r\n        const messages = array.map(word => (\r\n            <p style={{color:\"black\"}}> {word} </p>\r\n        ))\r\n\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        {messages}\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"alert_ok\" onClick={this.state.onOK}> OK </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OnlyAlert;","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faClock, faTrash } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nclass ScheduleControlPopup extends Component {\r\n\r\n    componentDidMount() {\r\n        // Automatically select day\r\n        if (this.props.event_rrule.includes(\"MO,TU,WE,TH,FR,SA,SU\")) {\r\n            document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"MO\")) {\r\n            // Automatically select Monday\r\n            document.getElementById(\"ScheduleRepeatMonday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"TU\")) {\r\n            // Automatically select Tuesday\r\n            document.getElementById(\"ScheduleRepeatTuesday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"WE\")) {\r\n            // Automatically select Wednesday\r\n            document.getElementById(\"ScheduleRepeatWednesday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"TH\")) {\r\n            // Automatically select Thursday\r\n            document.getElementById(\"ScheduleRepeatThursday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"FR\")) {\r\n            // Automatically select Friday\r\n            document.getElementById(\"ScheduleRepeatFriday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"SA\")) {\r\n            // Automatically select Saturday\r\n            document.getElementById(\"ScheduleRepeatSaturday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"SU\")) {\r\n            // Automatically select Sunday\r\n            document.getElementById(\"ScheduleRepeatSunday\").checked = true;\r\n        }\r\n\r\n        // Automatically select plug load\r\n        if (this.props.device_type.includes(\"Desktop\")) {\r\n            // Automatically select Desktop\r\n            document.getElementById(\"ScheduleApplyDesktop\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Monitor\")) {\r\n            // Automatically select Monitor\r\n            document.getElementById(\"ScheduleApplyMonitor\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Laptop\")) {\r\n            // Automatically select Laptop\r\n            document.getElementById(\"ScheduleApplyLaptop\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Task Lamp\")) {\r\n            // Automatically select Task Lamp\r\n            document.getElementById(\"ScheduleApplyTaskLamp\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Fan\")) {\r\n            // Automatically select Fan\r\n            document.getElementById(\"ScheduleApplyFan\").checked = true;\r\n        }\r\n    }\r\n\r\n    exitPopup = (e) => {\r\n        if (e.target === document.getElementById(\"schedule_popup_overlay\")) {\r\n            this.props.closeButtonClicked();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div id=\"schedule_popup_overlay\" onClick={this.exitPopup}>\r\n                    <div id=\"schedule_popup\">\r\n                        <p id=\"schedule_device_type\"> {this.props.device_type} </p>\r\n                        <button id=\"schedule_popup_close\" onClick={this.props.closeButtonClicked}> &times; </button>\r\n                        <br/>\r\n                        <input id=\"schedule_name_input\" defaultValue={this.props.event_name.substring(0,this.props.event_name.length-22)} type=\"text\" />\r\n                        <div id=\"schedule_time_input\">\r\n                            <FontAwesomeIcon icon={faClock} style={{color:\"#4E73DF\"}} />\r\n                            <ScheduleControlTimepicker type=\"Start\" time={this.props.event_start.substring(this.props.event_start.length-8, this.props.event_start.length)} />\r\n                            <p style={{display: \"inline-block\", marginRight:\"-5px\", marginLeft:\"5px\"}}> - </p>\r\n                            <ScheduleControlTimepicker type=\"End\" time={this.props.event_end.substring(this.props.event_end.length-8, this.props.event_end.length)} />\r\n                        </div>\r\n                        <div id=\"schedule_repeat_input\">\r\n                            <ScheduleControlRepeat />\r\n                        </div>\r\n                        <div id=\"schedule_apply_input\">\r\n                            <p style={{fontWeight:\"bold\"}}> Also apply to: </p>\r\n                            <ScheduleControlApply devices={[\"Desktop\", \"Monitor\", \"Laptop\", \"Fan\", \"Task Lamp\"]} />\r\n                        </div>\r\n                        <br/>\r\n                        <button id=\"schedule_popup_ok\" onClick={this.props.okButtonClicked}> OK </button>\r\n                        <button id=\"schedule_popup_delete\" onClick={this.props.deleteButtonClicked}> Delete </button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlTimepicker extends Component {\r\n    render() {\r\n        var hour = this.props.time.substring(0,2);\r\n        if (Number(hour) >= 12) {\r\n            var am_pm = \"PM\"\r\n        } else {\r\n            am_pm = \"AM\"\r\n        }\r\n        if (Number(hour) > 12 && Number(hour) < 22) {\r\n            hour = \"0\" + (Number(hour)-12).toString();\r\n        } else {\r\n            if (Number(hour) >= 22) {\r\n                hour = (Number(hour)-12).toString();\r\n            } else {\r\n                if (hour === \"00\") {\r\n                    hour = \"12\"\r\n                }\r\n            }\r\n        }\r\n        var minute = this.props.time.substring(3,5);\r\n\r\n\r\n\r\n        return (\r\n            <div id={this.props.type + \"Time\"}>\r\n                <select id={this.props.type + \"Hour\"} defaultValue={hour}>\r\n                    <option value=\"01\"> 1 </option>\r\n                    <option value=\"02\"> 2 </option>\r\n                    <option value=\"03\"> 3 </option>\r\n                    <option value=\"04\"> 4 </option>\r\n                    <option value=\"05\"> 5 </option>\r\n                    <option value=\"06\"> 6 </option>\r\n                    <option value=\"07\"> 7 </option>\r\n                    <option value=\"08\"> 8 </option>\r\n                    <option value=\"09\"> 9 </option>\r\n                    <option value=\"10\"> 10 </option>\r\n                    <option value=\"11\"> 11 </option>\r\n                    <option value=\"12\"> 12 </option>\r\n                </select>\r\n                <span style={{marginLeft:\"-10px\", marginRight:\"1px\"}}> : </span>\r\n                <select id={this.props.type + \"Minute\"} defaultValue={minute}>\r\n                    <option value=\"00\"> 00 </option>\r\n                    <option value=\"15\"> 15 </option>\r\n                    <option value=\"30\"> 30 </option>\r\n                    <option value=\"45\"> 45 </option>\r\n                </select>\r\n                <select id={this.props.type + \"AMPM\"} defaultValue={am_pm}>\r\n                    <option value=\"AM\"> AM </option>\r\n                    <option value=\"PM\"> PM </option>\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlRepeat extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <p style={{fontWeight:\"bold\"}}> Repeat: </p>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    id=\"ScheduleRepeatEveryDay\"\r\n                    value=\"Every Day\"\r\n                    onClick={function(e) {\r\n                        if (e.target.checked) {\r\n                            document.getElementById(\"ScheduleRepeatMonday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatTuesday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatWednesday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatThursday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatFriday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatSaturday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatSunday\").checked = true;\r\n                        } else {\r\n                            document.getElementById(\"ScheduleRepeatMonday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatTuesday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatWednesday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatThursday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatFriday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatSaturday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatSunday\").checked = false;\r\n                        }\r\n                    }}\r\n                />\r\n                <label htmlFor=\"ScheduleRepeatEveryDay\" style={{marginLeft: \"2px\"}}> Every Day </label>\r\n                <br />\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Monday\"\r\n                        id=\"ScheduleRepeatMonday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatTuesday\").checked && document.getElementById(\"ScheduleRepeatWednesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Monday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Tuesday\"\r\n                        id=\"ScheduleRepeatTuesday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatWednesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Tuesday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Wednesday\"\r\n                        id=\"ScheduleRepeatWednesday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Wednesday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Thursday\"\r\n                        id=\"ScheduleRepeatThursday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Thursday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Friday\"\r\n                        id=\"ScheduleRepeatFriday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Friday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Saturday\"\r\n                        id=\"ScheduleRepeatSaturday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatFriday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Saturday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Sunday\"\r\n                        id=\"ScheduleRepeatSunday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatFriday\").checked && document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Sunday </label>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlApply extends Component {\r\n    render() {\r\n        const devices = this.props.devices.map(device =>\r\n            <ScheduleControlApplyItem device_type={device} />\r\n        )\r\n        return(\r\n            <>\r\n                {devices}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlApplyItem extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"ScheduleApplyOption\"\r\n                    id={\"ScheduleApply\" + this.props.device_type.replace(/\\s/g,'')}\r\n                />\r\n                <label style={{marginLeft: \"2px\"}}> {this.props.device_type} </label>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default ScheduleControlPopup;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport moment from 'moment';\r\nimport Scheduler, { SchedulerData, ViewTypes } from 'react-big-scheduler';\r\nimport 'react-big-scheduler/lib/css/style.css';\r\nimport withDragDropContext from './withDnDContext';\r\nimport OnlyAlert from './OnlyAlert';\r\nimport ConflictAlert from './ConflictAlert';\r\nimport ScheduleControlPopup from './ScheduleControlPopup';\r\nimport './index.css';\r\n\r\nfunction from24to12(hour) {\r\n    var new_hour = Number(hour.substring(0,2));\r\n    var am_or_pm = new_hour >= 12 ? \"PM\" : \"AM\";\r\n    new_hour = (new_hour % 12) || 12;\r\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \" \" + am_or_pm;\r\n\r\n    if (finalTime.length !== 8) {\r\n        finalTime = \"0\" + finalTime\r\n    }\r\n    return (finalTime);\r\n}\r\n\r\nfunction from12to24(hour) {\r\n    var new_hour = Number(hour.substring(0,2))\r\n    if (hour.substring(6,8) === \"PM\" && new_hour !== 12) {\r\n        new_hour = new_hour + 12;\r\n    }\r\n    if (hour.substring(6,8) === \"AM\" && new_hour === 12) {\r\n        new_hour = \"00\"\r\n    }\r\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \":00\"\r\n    if (finalTime.length !== 8) {\r\n        finalTime = \"0\" + finalTime\r\n    }\r\n    return(finalTime)\r\n}\r\n\r\nfunction formatForDatabaseAdd(book, current_user_id) {\r\n    var event_rrule = \"\"\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"MO\")) {\r\n        event_rrule = event_rrule + \"Monday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TU\")) {\r\n        event_rrule = event_rrule + \"Tuesday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"WE\")) {\r\n        event_rrule = event_rrule + \"Wednesday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TH\")) {\r\n        event_rrule = event_rrule + \"Thursday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"FR\")) {\r\n        event_rrule = event_rrule + \"Friday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SA\")) {\r\n        event_rrule = event_rrule + \"Saturday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SU\")) {\r\n        event_rrule = event_rrule + \"Sunday, \"\r\n    }\r\n\r\n\r\n    const devices = [\"Desktop\", \"Laptop\", \"Monitor\", \"Task Lamp\", \"Fan\"]\r\n\r\n    return({\r\n        user_id: Number(current_user_id),\r\n        event_id: book.id,\r\n        event_start: book.start.substring(book.start.length-8, book.start.length),\r\n        event_end: book.end.substring(book.end.length-8, book.end.length),\r\n        event_name: book.title.substring(0, book.title.length-22),\r\n        event_rrule: event_rrule.substring(0,event_rrule.length-2),\r\n        device_type_id: book.resourceId,\r\n        device_type: devices[book.resourceId - 1]\r\n    })\r\n}\r\n\r\nfunction formatForDatabaseUpdate(book, current_user_id) {\r\n    var event_rrule = \"\"\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"MO\")) {\r\n        event_rrule = event_rrule + \"Monday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TU\")) {\r\n        event_rrule = event_rrule + \"Tuesday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"WE\")) {\r\n        event_rrule = event_rrule + \"Wednesday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TH\")) {\r\n        event_rrule = event_rrule + \"Thursday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"FR\")) {\r\n        event_rrule = event_rrule + \"Friday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SA\")) {\r\n        event_rrule = event_rrule + \"Saturday, \"\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SU\")) {\r\n        event_rrule = event_rrule + \"Sunday, \"\r\n    }\r\n\r\n    const devices = [\"Desktop\", \"Laptop\", \"Monitor\", \"Task Lamp\", \"Fan\"]\r\n\r\n    if (typeof book.id === \"string\") {\r\n        var n = book.id.indexOf(\"-\")\r\n        var event_id = Number(book.id.substring(0,n))\r\n    } else {\r\n        event_id = book.id\r\n    }\r\n    return({\r\n        user_id: Number(current_user_id),\r\n        event_id: event_id,\r\n        event_start: book.start.substring(book.start.length-8, book.start.length),\r\n        event_end: book.end.substring(book.end.length-8, book.end.length),\r\n        event_name: book.title.substring(0, book.title.length-22),\r\n        event_rrule: event_rrule.substring(0,event_rrule.length-2),\r\n        device_type_id: book.resourceId,\r\n        device_type: devices[book.resourceId - 1],\r\n        id: book.database_id\r\n    })\r\n}\r\n\r\nfunction processHourInput(type) {\r\n    var hour = document.getElementById(type + \"Hour\").value;\r\n    if (document.getElementById(type + \"AMPM\").value === \"PM\") {\r\n        if (document.getElementById(type + \"Hour\").value !== \"12\") {\r\n            hour = (Number(document.getElementById(type + \"Hour\").value) + 12).toString();\r\n        }\r\n    } else {\r\n        if (document.getElementById(type + \"Hour\").value === \"12\") {\r\n            hour = \"00\";\r\n        }\r\n    }\r\n    return(hour)\r\n}\r\n\r\nfunction getDates() {\r\n    var today = new Date();\r\n    var mondayDate = new Date();\r\n    var tuesdayDate = new Date();\r\n    var wednesdayDate = new Date();\r\n    var thursdayDate = new Date();\r\n    var fridayDate = new Date();\r\n    var saturdayDate = new Date();\r\n    var sundayDate = new Date();\r\n\r\n    if (today.getDay() === 0) {\r\n        // Today is Sunday\r\n        mondayDate.setDate(today.getDate() - 6);\r\n        tuesdayDate.setDate(today.getDate() - 5);\r\n        wednesdayDate.setDate(today.getDate() - 4);\r\n        thursdayDate.setDate(today.getDate() - 3);\r\n        fridayDate.setDate(today.getDate() - 2);\r\n        saturdayDate.setDate(today.getDate() - 1);\r\n        sundayDate.setDate(today.getDate());\r\n    } else {\r\n        mondayDate.setDate(today.getDate() + (1 - today.getDay()));\r\n        tuesdayDate.setDate(today.getDate() + (2 - today.getDay()));\r\n        wednesdayDate.setDate(today.getDate() + (3 - today.getDay()));\r\n        thursdayDate.setDate(today.getDate() + (4 - today.getDay()));\r\n        fridayDate.setDate(today.getDate() + (5 - today.getDay()));\r\n        saturdayDate.setDate(today.getDate() + (6 - today.getDay()));\r\n        sundayDate.setDate(today.getDate() + (7 - today.getDay()));\r\n    }\r\n\r\n    mondayDate = mondayDate.getFullYear() + \"-\" + ((mondayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (mondayDate.getMonth() + 1).toString() : (mondayDate.getMonth() + 1)) + \"-\" + (mondayDate.getDate().toString().length === 1 ? \"0\" + mondayDate.getDate().toString() : mondayDate.getDate())\r\n    tuesdayDate = tuesdayDate.getFullYear() + \"-\" + ((tuesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (tuesdayDate.getMonth() + 1).toString() : (tuesdayDate.getMonth() + 1)) + \"-\" + (tuesdayDate.getDate().toString().length === 1 ? \"0\" + tuesdayDate.getDate().toString() : tuesdayDate.getDate())\r\n    wednesdayDate = wednesdayDate.getFullYear() + \"-\" + ((wednesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (wednesdayDate.getMonth() + 1).toString() : (wednesdayDate.getMonth() + 1)) + \"-\" + (wednesdayDate.getDate().toString().length === 1 ? \"0\" + wednesdayDate.getDate().toString() : wednesdayDate.getDate())\r\n    thursdayDate = thursdayDate.getFullYear() + \"-\" + ((thursdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (thursdayDate.getMonth() + 1).toString() : (thursdayDate.getMonth() + 1))  + \"-\" + (thursdayDate.getDate().toString().length === 1 ? \"0\" + thursdayDate.getDate().toString() : thursdayDate.getDate())\r\n    fridayDate = fridayDate.getFullYear() + \"-\" + ((fridayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (fridayDate.getMonth() + 1).toString() : (fridayDate.getMonth() + 1)) + \"-\" + (fridayDate.getDate().toString().length === 1 ? \"0\" + fridayDate.getDate().toString() : fridayDate.getDate())\r\n    saturdayDate = saturdayDate.getFullYear() + \"-\" + ((saturdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (saturdayDate.getMonth() + 1).toString() : (saturdayDate.getMonth() + 1)) + \"-\" + (saturdayDate.getDate().toString().length === 1 ? \"0\" + saturdayDate.getDate().toString() : saturdayDate.getDate())\r\n    sundayDate = sundayDate.getFullYear() + \"-\" + ((sundayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (sundayDate.getMonth() + 1).toString() : (sundayDate.getMonth() + 1)) + \"-\" + (sundayDate.getDate().toString().length === 1 ? \"0\" + sundayDate.getDate().toString() : sundayDate.getDate())\r\n\r\n    return([mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate])\r\n}\r\n\r\nclass Calendar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let schedulerData = new SchedulerData(\r\n            this.props.date,\r\n            ViewTypes.Day,\r\n            false,\r\n            false,\r\n            {\r\n                checkConflict: true,\r\n                recurringEventsEnabled: true,\r\n                scrollToSpecialMomentEnabled: true,\r\n                crossResourceMove: false\r\n            }, {\r\n                getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\r\n                isNonWorkingTimeFunc: this.isNonWorkingTime\r\n            }\r\n        );\r\n        schedulerData.setResources([{id:1, name:\"Desktop\"}, {id:5, name:\"Fan\"}, {id:2, name:\"Laptop\"}, {id:3, name:\"Monitor\"}, {id:4, name:\"Task Lamp\"}]);\r\n        schedulerData.setEvents(this.props.events);\r\n        this.state = {\r\n            viewModel: schedulerData,\r\n            achievements_books: [],\r\n            weekly_achievements_books: [],\r\n            points_wallet_books: [],\r\n            key: 1\r\n        };\r\n        window.calendar = this;\r\n    }\r\n\r\n    render() {\r\n        const { viewModel } = this.state;\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Scheduler\r\n                        key={this.state.key}\r\n                        schedulerData={viewModel}\r\n                        eventItemClick={this.eventClicked}\r\n                        updateEventStart={this.updateEventStart}\r\n                        updateEventEnd={this.updateEventEnd}\r\n                        moveEvent={this.moveEvent}\r\n                        newEvent={this.newEvent}\r\n                        conflictOccurred={this.conflictOccurred}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refetchBonusAchievementsData();\r\n        this.refetchWeeklyAchievementsData();\r\n        this.refetchPointsWalletData();\r\n    }\r\n\r\n    refetchBonusAchievementsData = () => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({achievements_books: data})\r\n        })\r\n\r\n        setTimeout(this.refetchBonusAchievementsData, 10000)\r\n    }\r\n\r\n    refetchWeeklyAchievementsData = () => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_weekly/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({weekly_achievements_books: data})\r\n        })\r\n\r\n        setTimeout(this.refetchWeeklyAchievementsData, 10000)\r\n    }\r\n\r\n    refetchPointsWalletData = () => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({points_wallet_books: data})\r\n        })\r\n\r\n        setTimeout(this.refetchPointsWalletData, 10000)\r\n    }\r\n\r\n    updateAchievementsBooks = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    updateWeeklyAchievementsBooks = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_weekly/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.weekly_achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({weekly_achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    updatePointsWalletBooks = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.points_wallet_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({points_wallet_books: newBooks})\r\n        })\r\n    }\r\n\r\n    handleAchievementsUpdate = (book) => {\r\n        book.id = this.props.current_user_id;\r\n        this.updateAchievementsBooks(book);\r\n    }\r\n\r\n    handleWeeklyAchievementsUpdate = (book) => {\r\n        book.id = this.props.current_user_id;\r\n        this.updateWeeklyAchievementsBooks(book);\r\n    }\r\n\r\n    handlePointsWalletUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updatePointsWalletBooks(book);\r\n    }\r\n\r\n    handleAchievementsFormSubmit = () => {\r\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\r\n    }\r\n\r\n    handleWeeklyAchievementsFormSubmit = () => {\r\n        this.handleWeeklyAchievementsUpdate(this.state.weekly_achievements_books[0])\r\n    }\r\n\r\n    handlePointsWalletFormSubmit = () => {\r\n        this.handlePointsWalletUpdate(this.state.points_wallet_books[0])\r\n    }\r\n\r\n    isNonWorkingTime = (schedulerData, time) => {\r\n        return true;\r\n    }\r\n\r\n    getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n        var time = this.props.date + \" 07:00:00\";\r\n        return moment(time);\r\n    }\r\n\r\n    eventClicked = (schedulerData, event) => {\r\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\r\n\r\n        function closeButtonClicked() {\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function deleteButtonClicked() {\r\n            // Update database (Delete)\r\n            window.calendar.props.onDeleteClick(event.database_id)\r\n            window.calendar.props.refetchData();\r\n\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData\r\n            });\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\";\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\r\n                                      window.calendar.props.mondayDate.substring(5,7) +\r\n                                      window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    var newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData\r\n                    })\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n\r\n                    // Update weekly achievement\r\n                    if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\r\n                        window.calendar.setState({\r\n                            weekly_achievements_books: [\r\n                                {\r\n                                    ...window.calendar.state.weekly_achievements_books[0],\r\n                                    schedule_based: 20\r\n                                }\r\n                            ]\r\n                        }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\r\n                        // If first time clicking, update achievement\r\n                        if (window.calendar.state.achievements_books[0].first_schedule === 0) {\r\n                            window.calendar.setState({\r\n                                achievements_books: [\r\n                                    {\r\n                                        ...window.calendar.state.achievements_books[0],\r\n                                        first_schedule: 70\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handleAchievementsFormSubmit()})\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 90\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\r\n                        } else {\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 20\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                        }\r\n\r\n                    }\r\n                    console.log(event);\r\n                    window.calendar.props.refetchData();\r\n                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n         ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={event.start}\r\n                event_end={event.end}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n        let newFreshId = 0;\r\n        schedulerData.events.forEach(item => {\r\n            if (item.database_id >= newFreshId || item.id >= newFreshId) newFreshId = item.database_id + 1;\r\n        });\r\n\r\n        let newEvent = {\r\n            id: newFreshId,\r\n            title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n            start: start,\r\n            end: end,\r\n            resourceId: slotId,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"FREQ=WEEKLY;DTSTART=\" + this.props.mondayDate.substring(0,4) + this.props.mondayDate.substring(5,7) + this.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" + this.props.sundayDate.substring(0,4) + this.props.sundayDate.substring(5,7) + this.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\" + this.props.day.substring(0,2).toUpperCase()\r\n        }\r\n\r\n        schedulerData.addEvent(newEvent);\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            // Update database (Add)\r\n            window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id))\r\n            window.calendar.props.refetchData();\r\n\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n        function deleteButtonClicked() {\r\n            schedulerData.removeEvent(newEvent);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData\r\n            })\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== newEvent.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    newEvent.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                     document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                     document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                     document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(newEvent, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(newEvent, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\r\n                                      window.calendar.props.mondayDate.substring(5,7) +\r\n                                      window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        newEvent.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        newEvent.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData\r\n                    })\r\n\r\n                    // Update database (Add)\r\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Update weekly achievement\r\n                    if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\r\n                        window.calendar.setState({\r\n                            weekly_achievements_books: [\r\n                                {\r\n                                    ...window.calendar.state.weekly_achievements_books[0],\r\n                                    schedule_based: 20\r\n                                }\r\n                            ]\r\n                        }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\r\n\r\n                        // If first time clicking, update achievement\r\n                        if (window.calendar.state.achievements_books[0].first_schedule === 0) {\r\n                            window.calendar.setState({\r\n                                achievements_books: [\r\n                                    {\r\n                                        ...window.calendar.state.achievements_books[0],\r\n                                        first_schedule: 70\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handleAchievementsFormSubmit()})\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 90\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\r\n                        } else {\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 20\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                        }\r\n                    }\r\n                    console.log(newEvent);\r\n                    window.calendar.props.refetchData();\r\n                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Add Schedule: \" + slotName}\r\n                event_rrule={newEvent.rrule}\r\n                event_start={newEvent.start}\r\n                event_end={newEvent.end}\r\n                event_name={newEvent.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    updateEventStart = (schedulerData, event, newStart) => {\r\n        var old_start = event.start;\r\n        schedulerData.updateEventStart(event, newStart);\r\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(newStart).format('HH:mm')) + \" - \" + from24to12(moment(event.end).format('HH:mm')) + \")\";\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            // Update database (Update)\r\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n            window.calendar.props.refetchData();\r\n\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n        function deleteButtonClicked() {\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData\r\n            })\r\n\r\n            // Update database\r\n            window.calendar.props.onDeleteClick(event.database_id);\r\n            window.calendar.props.refetchData();\r\n\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day =  day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\r\n                                      window.calendar.props.mondayDate.substring(5,7) +\r\n                                      window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    var newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData\r\n                    })\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n\r\n\r\n                    // Update weekly achievement\r\n                    if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\r\n                        window.calendar.setState({\r\n                            weekly_achievements_books: [\r\n                                {\r\n                                    ...window.calendar.state.weekly_achievements_books[0],\r\n                                    schedule_based: 20\r\n                                }\r\n                            ]\r\n                        }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\r\n                        // If first time clicking, update achievement\r\n                        if (window.calendar.state.achievements_books[0].first_schedule === 0) {\r\n                            window.calendar.setState({\r\n                                achievements_books: [\r\n                                    {\r\n                                        ...window.calendar.state.achievements_books[0],\r\n                                        first_schedule: 70\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handleAchievementsFormSubmit()})\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 90\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\r\n                        } else {\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 20\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                        }\r\n                    }\r\n                    console.log(event);\r\n                    window.calendar.props.refetchData();\r\n                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={newStart}\r\n                event_end={event.end}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    updateEventEnd = (schedulerData, event, newEnd) => {\r\n        var old_end = event.end;\r\n        schedulerData.updateEventEnd(event, newEnd);\r\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(event.start).format('HH:mm')) + \" - \" + from24to12(moment(newEnd).format('HH:mm')) + \")\";\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Update database (Update)\r\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n            window.calendar.props.refetchData();\r\n        }\r\n        function deleteButtonClicked() {\r\n            // Update database (Delete)\r\n            window.calendar.props.onDeleteClick(event.database_id)\r\n            window.calendar.props.refetchData();\r\n\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData\r\n            })\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\r\n                                      window.calendar.props.mondayDate.substring(5,7) +\r\n                                      window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    let newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData\r\n                    })\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Update weekly achievement\r\n                    if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\r\n                        window.calendar.setState({\r\n                            weekly_achievements_books: [\r\n                                {\r\n                                    ...window.calendar.state.weekly_achievements_books[0],\r\n                                    schedule_based: 20\r\n                                }\r\n                            ]\r\n                        }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\r\n                        // If first time clicking, update achievement\r\n                        if (window.calendar.state.achievements_books[0].first_schedule === 0) {\r\n                            window.calendar.setState({\r\n                                achievements_books: [\r\n                                    {\r\n                                        ...window.calendar.state.achievements_books[0],\r\n                                        first_schedule: 70\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handleAchievementsFormSubmit()})\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 90\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\r\n                        } else {\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 20\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                        }\r\n                    }\r\n                    console.log(event);\r\n                    window.calendar.props.refetchData();\r\n                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={event.start}\r\n                event_end={newEnd}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n        var old_start = event.start;\r\n        var old_end = event.end;\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(start).format('HH:mm')) + \" - \" + from24to12(moment(end).format('HH:mm')) + \")\";\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Update database (Update)\r\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n            window.calendar.props.refetchData();\r\n        }\r\n\r\n        function deleteButtonClicked() {\r\n            // Update database (Delete)\r\n            window.calendar.props.onDeleteClick(event.database_id);\r\n            window.calendar.props.refetchData();\r\n\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData\r\n            })\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\r\n                                      window.calendar.props.mondayDate.substring(5,7) +\r\n                                      window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    var newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData\r\n                    })\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Update weekly achievement\r\n                    if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\r\n                        window.calendar.setState({\r\n                            weekly_achievements_books: [\r\n                                {\r\n                                    ...window.calendar.state.weekly_achievements_books[0],\r\n                                    schedule_based: 20\r\n                                }\r\n                            ]\r\n                        }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\r\n                        // If first time clicking, update achievement\r\n                        if (window.calendar.state.achievements_books[0].first_schedule === 0) {\r\n                            window.calendar.setState({\r\n                                achievements_books: [\r\n                                    {\r\n                                        ...window.calendar.state.achievements_books[0],\r\n                                        first_schedule: 70\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handleAchievementsFormSubmit()})\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 90\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\r\n                        } else {\r\n                            window.calendar.setState({\r\n                                points_wallet_books: [\r\n                                    {\r\n                                        ...window.calendar.state.points_wallet_books[0],\r\n                                        points: window.calendar.state.points_wallet_books[0].points + 20\r\n                                    }\r\n                                ]\r\n                            }, function() {window.calendar.handlePointsWalletFormSubmit()})\r\n                        }\r\n                    }\r\n                    console.log(event);\r\n                    window.calendar.props.refetchData();\r\n                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={start}\r\n                event_end={end}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n        ReactDOM.render(\r\n            <OnlyAlert\r\n                message={\"This is conflicting with a schedule set for \" + slotName + \".\"}\r\n                onOK={function() {\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                }}\r\n            />, document.getElementById(\"confirm-alert\")\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default withDragDropContext(Calendar);","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ConfirmAlert from './ConfirmAlert';\nimport Calendar from './Calendar';\n\nfunction compare(a,b) {\n    let comparison = 0;\n    if (a.device_type > b.device_type) {\n        comparison = 1;\n    } else if (a.device_type < b.device_type) {\n        comparison = -1\n    }\n    return comparison\n}\n\n// Remote Control\n\nclass RemoteControlDashboard extends Component {\n    state = {\n        books: [],\n        key: 1\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    fetchData = () => {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/remote/')\n        .then(response => response.json())\n        .then(data => {\n            data.sort(compare);\n            this.setState({books: data, key: this.state.key+1})\n        })\n\n        setTimeout(this.fetchData, 5000)\n    }\n\n    updateBook = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/remote/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook)\n                } else {\n                    return book;\n                }\n            });\n            this.setState({books: newBooks});\n        })\n    }\n\n    render() {\n        return (\n            <>\n                <div id=\"remote_control_space\">\n                    <RemoteControlList\n                        key={this.state.key}\n                        books={this.state.books}\n                        onUpdateClick={this.updateBook}\n                    />\n                </div>\n                <p style={{float:\"right\"}}> Note: It will take around 5 seconds for your devices to be switched ON/OFF. </p>\n            </>\n        )\n    }\n}\n\nclass RemoteControlList extends Component {\n    render() {\n        const books = this.props.books.map(book => (\n            <RemoteControlEditableItem\n                key={book.id}\n                id={book.id}\n                user_id={book.user_id}\n                device_type={book.device_type}\n                device_state={book.device_state}\n                onUpdateClick={this.props.onUpdateClick}\n            />\n        ));\n        return (\n            <>\n                <div style={{float:\"right\"}}>\n                    <p style={{marginLeft:\"50px\", marginBottom:\"5px\"}}> Master </p>\n                    <RemoteToggleButton id=\"master\" defaultChecked={true} books={this.props.books} />\n                </div>\n                <br/>\n                <br/>\n                <div style={{margin:\"auto\", width:\"fit-content\"}}>\n                    {books}\n                </div>\n            </>\n        )\n    }\n}\n\nclass RemoteControlEditableItem extends Component {\n    handleUpdate = (book) => {\n        book.id = this.props.id;\n        this.props.onUpdateClick(book);\n    }\n\n    render() {\n        const component = () => {\n            return (\n                <>\n                    <RemoteControlItem\n                        id={this.props.id}\n                        user_id={this.props.user_id}\n                        device_type={this.props.device_type}\n                        device_state={this.props.device_state}\n                        onFormSubmit={this.handleUpdate}\n                    />\n                </>\n            )\n        }\n        return (\n            component()\n        )\n    }\n}\n\nclass RemoteControlItem extends Component {\n    state = {\n        user_id: this.props.user_id,\n        device_type: this.props.device_type,\n        device_state: this.props.device_state,\n        achievements_books: [],\n        points_wallet_books: []\n    }\n\n    componentDidMount() {\n        // Fetch data for achievements\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({achievements_books: data})\n        })\n\n        // Fetch data for points wallet\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({points_wallet_books: data})\n        })\n\n        Main();\n    }\n\n    updateAchievementsBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.achievements_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({achievements_books: newBooks})\n        })\n    }\n\n    updatePointsWalletBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.points_wallet_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({points_wallet_books: newBooks})\n        })\n    }\n\n    handleAchievementsUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updateAchievementsBooks(book);\n    }\n\n    handlePointsWalletUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updatePointsWalletBooks(book);\n    }\n\n    handleAchievementsFormSubmit = () => {\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\n    }\n\n    handlePointsWalletFormSubmit = () => {\n        this.handlePointsWalletUpdate(this.state.points_wallet_books[0])\n    }\n\n    handleFormSubmit = () => {\n        this.props.onFormSubmit({...this.state});\n    }\n\n    onConfirm1 = () => {\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_confirmed).checked = false;\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n        Main();\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_remote === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_remote: 60\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 60\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n             // Open the calendar for today\n             const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n             var today = new Date();\n             var wanted_id = days[today.getDay()] + \"Calendar\";\n             document.getElementById(wanted_id).className=\"selected\";\n             setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onConfirm2 = () => {\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_confirmed).checked = true;\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n        Main();\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_remote === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_remote: 60\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 60\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onCancel1 = () => {\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_cancelled).checked = true;\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onCancel2 = () => {\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_cancelled).checked = false;\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onChange = (e) => {\n        e.preventDefault();\n        if (this.state.device_type === \"Desktop\" || this.state.device_type === \"Laptop\") {\n            if (this.state.device_state === true) {\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\n                    // Switch OFF\n                    this.setState({device_state: false}, function() {this.handleFormSubmit()})\n                } else {\n                    ReactDOM.render(<ConfirmAlert\n                                        message={\"You are switching off your \" + this.state.device_type + \".\"}\n                                        onConfirm = {this.onConfirm1}\n                                        onCancel = {this.onCancel1}\n                                    />, document.getElementById(\"confirm-alert\"))\n                }\n            } else {\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\n                    // Switch ON\n                    this.setState({device_state: true}, function() {this.handleFormSubmit()})\n                } else {\n                    ReactDOM.render(<ConfirmAlert\n                                        message={\"You are switching on your \" + this.state.device_type + \".\"}\n                                        onConfirm = {this.onConfirm2}\n                                        onCancel = {this.onCancel2}\n                                    />, document.getElementById(\"confirm-alert\"))\n                }\n            }\n        } else {\n            // Update database\n            this.setState({device_state: e.target.checked}, function() {this.handleFormSubmit()})\n            Main();\n\n            // If first time clicking, update achievement\n            if (this.state.achievements_books[0].first_remote === 0) {\n                this.setState({\n                    achievements_books: [\n                        {\n                            ...this.state.achievements_books[0],\n                            first_remote: 60\n                        }\n                    ]\n                }, function() {this.handleAchievementsFormSubmit()})\n                this.setState({\n                    points_wallet_books: [\n                        {\n                            ...this.state.points_wallet_books[0],\n                            points: this.state.points_wallet_books[0].points + 60\n                        }\n                    ]\n                }, function() {this.handlePointsWalletFormSubmit()})\n                window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n        }\n    }\n\n    render() {\n\n        if (this.state.device_state === false) {\n            var remote_control_outer_ring = \"greyRing\";\n            var remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\n        } else {\n            remote_control_outer_ring = \"greenRing\";\n            remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\n        }\n\n        return (\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxRemote\"} className=\"containerRemote\">\n                <p style={{textAlign:\"center\", fontWeight:\"bold\", color:\"black\"}}> {this.state.device_type} </p>\n                <div id={this.state.device_type.replace(/\\s/g,'') + \"IconRemote\"}>\n                    <div class={remote_control_outer_ring}>\n                        <div class=\"whiteRing\">\n                            <img class=\"PlugLoadIcon\" src={remote_control_image} alt=\"Icon\" />\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"toggle-switch\">\n                    <input\n                        type=\"checkbox\"\n                        className=\"toggle-switch-checkbox\"\n                        id={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}\n                        checked={this.state.device_state}\n                        defaultChecked={this.state.device_state}\n                        onChange={this.onChange}\n                    />\n                    <label className=\"toggle-switch-label\" htmlFor={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}>\n                        <span className=\"toggle-switch-inner\" data-yes=\"ON\" data-no=\"OFF\" />\n                        <span className=\"toggle-switch-switch\" />\n                    </label>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass RemoteToggleButton extends Component {\n    state = {\n        checked: this.props.defaultChecked\n    };\n\n    constructor(props) {\n        super(props);\n        window.master = this;\n    }\n\n    onConfirm1 = () => {\n        // Switch OFF all plug loads\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\n            if (document.getElementById(\"DesktopToggleRemote\").checked === true) {\n                document.getElementById(\"DesktopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\n            if (document.getElementById(\"MonitorToggleRemote\").checked === true) {\n                document.getElementById(\"MonitorToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\n            if (document.getElementById(\"LaptopToggleRemote\").checked === true) {\n                document.getElementById(\"LaptopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === true) {\n                document.getElementById(\"TaskLampToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\n            if (document.getElementById(\"FanToggleRemote\").checked === true) {\n                document.getElementById(\"FanToggleRemote\").click();\n            }\n        }\n        document.getElementById(\"master\").checked = false;\n        this.setState({checked: false})\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onConfirm2 = () => {\n        // Switch ON all plug loads\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\n            if (document.getElementById(\"DesktopToggleRemote\").checked === false) {\n                document.getElementById(\"DesktopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\n            if (document.getElementById(\"MonitorToggleRemote\").checked === false) {\n                document.getElementById(\"MonitorToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\n            if (document.getElementById(\"LaptopToggleRemote\").checked === false) {\n                document.getElementById(\"LaptopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === false) {\n                document.getElementById(\"TaskLampToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\n            if (document.getElementById(\"FanToggleRemote\").checked === false) {\n                document.getElementById(\"FanToggleRemote\").click();\n            }\n        }\n        document.getElementById(\"master\").checked = true;\n        this.setState({checked: true});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onCancel1 = () => {\n        document.getElementById(\"master\").checked = true;\n        this.setState({checked: true});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onCancel2 = () => {\n        document.getElementById(\"master\").checked = false;\n        this.setState({checked: false});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onChange = (e) => {\n        e.preventDefault();\n        if (this.state.checked === true) {\n            ReactDOM.render(<ConfirmAlert\n                                message=\"You are switching off all your devices.\"\n                                onConfirm = {this.onConfirm1}\n                                onCancel = {this.onCancel1}\n                             />, document.getElementById(\"confirm-alert\"))\n        } else {\n            ReactDOM.render(<ConfirmAlert\n                                message=\"You are switching on all your devices.\"\n                                onConfirm = {this.onConfirm2}\n                                onCancel = {this.onCancel2}\n                            />, document.getElementById(\"confirm-alert\"))\n        }\n    }\n\n    render() {\n        var defaultChecked = false\n        for (var book of this.props.books) {\n            if (book.device_state === true) {\n                defaultChecked = true\n            }\n        }\n        return (\n            <div className={\"toggle-switch\" + (this.props.Small ? \" small-switch\" : \"\")}>\n                <input\n                    type=\"checkbox\"\n                    name={this.props.Name}\n                    className=\"toggle-switch-checkbox\"\n                    id={this.props.id}\n                    checked={this.checked}\n                    defaultChecked={defaultChecked}\n                    onClick={this.onChange}\n                    disabled={this.props.disabled}\n                />\n                {this.props.id ? (\n                    <label className=\"toggle-switch-label\" htmlFor={this.props.id}>\n                        <span\n                            className={this.props.disabled ? \"toggle-switch-inner toggle-switch-disabled\" : \"toggle-switch-inner\"}\n                            data-yes=\"ON\"\n                            data-no=\"OFF\"\n                        />\n                        <span\n                            className={this.props.disabled ? \"toggle-switch-switch toggle-switch-disabled\": \"toggle-switch-switch\"}\n                        />\n                    </label>\n                ) : null}\n          </div>\n        )\n    }\n}\n\nReactDOM.render(<RemoteControlDashboard />, document.getElementById('remote-control'))\n\nfunction Main() {\n    // If at least one plug load is ON, master button is automatically toggled to ON.\n    if (document.getElementById(\"DesktopToggleRemote\").checked || document.getElementById(\"MonitorToggleRemote\").checked ||\n        document.getElementById(\"LaptopToggleRemote\").checked || document.getElementById(\"TaskLampToggleRemote\").checked ||\n        document.getElementById(\"FanToggleRemote\").checked) {\n        window.master.setState({checked: true});\n        document.getElementById(\"master\").checked = true;\n    } else {\n        // If all plug loads are OFF, master button is automatically toggled to OFF.\n        if (!document.getElementById(\"DesktopToggleRemote\").checked && !document.getElementById(\"MonitorToggleRemote\").checked &&\n            !document.getElementById(\"LaptopToggleRemote\").checked && !document.getElementById(\"TaskLampToggleRemote\").checked &&\n            !document.getElementById(\"FanToggleRemote\").checked) {\n            window.master.setState({checked: false});\n            document.getElementById(\"master\").checked = false;\n        }\n    }\n}\n\n\n// Schedule Based control\n\nfunction sort_events(a,b) {\n    let comparison = 0;\n    if (a.start > b.start) {\n        comparison = 1;\n    } else if (a.start < b.start) {\n        comparison = -1\n    }\n    return comparison\n}\n\nfunction from24to12(hour) {\n    var new_hour = Number(hour.substring(0,2));\n    var am_or_pm = new_hour >= 12 ? \"PM\" : \"AM\";\n    new_hour = (new_hour % 12) || 12;\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \" \" + am_or_pm;\n\n    if (finalTime.length !== 8) {\n        finalTime = \"0\" + finalTime\n    }\n    return (finalTime);\n}\n\nfunction getDates() {\n    var today = new Date();\n    var mondayDate = new Date();\n    var tuesdayDate = new Date();\n    var wednesdayDate = new Date();\n    var thursdayDate = new Date();\n    var fridayDate = new Date();\n    var saturdayDate = new Date();\n    var sundayDate = new Date();\n\n    if (today.getDay() === 0) {\n        // Today is Sunday\n        mondayDate.setDate(today.getDate() - 6);\n        tuesdayDate.setDate(today.getDate() - 5);\n        wednesdayDate.setDate(today.getDate() - 4);\n        thursdayDate.setDate(today.getDate() - 3);\n        fridayDate.setDate(today.getDate() - 2);\n        saturdayDate.setDate(today.getDate() - 1);\n        sundayDate.setDate(today.getDate());\n    } else {\n        mondayDate.setDate(today.getDate() + (1 - today.getDay()));\n        tuesdayDate.setDate(today.getDate() + (2 - today.getDay()));\n        wednesdayDate.setDate(today.getDate() + (3 - today.getDay()));\n        thursdayDate.setDate(today.getDate() + (4 - today.getDay()));\n        fridayDate.setDate(today.getDate() + (5 - today.getDay()));\n        saturdayDate.setDate(today.getDate() + (6 - today.getDay()));\n        sundayDate.setDate(today.getDate() + (7 - today.getDay()));\n    }\n\n    mondayDate = mondayDate.getFullYear() + \"-\" + ((mondayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (mondayDate.getMonth() + 1).toString() : (mondayDate.getMonth() + 1)) + \"-\" + (mondayDate.getDate().toString().length === 1 ? \"0\" + mondayDate.getDate().toString() : mondayDate.getDate())\n    tuesdayDate = tuesdayDate.getFullYear() + \"-\" + ((tuesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (tuesdayDate.getMonth() + 1).toString() : (tuesdayDate.getMonth() + 1)) + \"-\" + (tuesdayDate.getDate().toString().length === 1 ? \"0\" + tuesdayDate.getDate().toString() : tuesdayDate.getDate())\n    wednesdayDate = wednesdayDate.getFullYear() + \"-\" + ((wednesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (wednesdayDate.getMonth() + 1).toString() : (wednesdayDate.getMonth() + 1)) + \"-\" + (wednesdayDate.getDate().toString().length === 1 ? \"0\" + wednesdayDate.getDate().toString() : wednesdayDate.getDate())\n    thursdayDate = thursdayDate.getFullYear() + \"-\" + ((thursdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (thursdayDate.getMonth() + 1).toString() : (thursdayDate.getMonth() + 1))  + \"-\" + (thursdayDate.getDate().toString().length === 1 ? \"0\" + thursdayDate.getDate().toString() : thursdayDate.getDate())\n    fridayDate = fridayDate.getFullYear() + \"-\" + ((fridayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (fridayDate.getMonth() + 1).toString() : (fridayDate.getMonth() + 1)) + \"-\" + (fridayDate.getDate().toString().length === 1 ? \"0\" + fridayDate.getDate().toString() : fridayDate.getDate())\n    saturdayDate = saturdayDate.getFullYear() + \"-\" + ((saturdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (saturdayDate.getMonth() + 1).toString() : (saturdayDate.getMonth() + 1)) + \"-\" + (saturdayDate.getDate().toString().length === 1 ? \"0\" + saturdayDate.getDate().toString() : saturdayDate.getDate())\n    sundayDate = sundayDate.getFullYear() + \"-\" + ((sundayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (sundayDate.getMonth() + 1).toString() : (sundayDate.getMonth() + 1)) + \"-\" + (sundayDate.getDate().toString().length === 1 ? \"0\" + sundayDate.getDate().toString() : sundayDate.getDate())\n\n    return([mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate])\n}\n\nfunction getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.substring(0,name.length+1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue\n}\n\nclass ScheduleControlDashboard extends Component {\n    state = {\n        events: [],\n        dates: [],\n        chosen_day: \"\",\n        books: [],\n        key: 1\n    }\n\n    componentDidMount() {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({books: data})\n            var events_datas = [];\n            for (var input of data) {\n                this.setState({current_user_id: input.user_id})\n                var resourceId = input.device_type_id;\n                var eventId = input.event_id;\n                var event_start = input.event_start;\n                var event_end = input.event_end;\n\n                // Format the title to be shown for each event on the scheduler\n                var finalStart = from24to12(event_start);\n                var finalEnd = from24to12(event_end)\n                var event_name = input.event_name + \" (\" + finalStart + \" - \" + finalEnd + \")\"\n\n                var [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate] = getDates();\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + mondayDate.substring(0,4) + mondayDate.substring(5,7) + mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" + sundayDate.substring(0,4) + sundayDate.substring(5,7) + sundayDate.substring(8,10) + \"T235900Z;BYDAY=\";\n                event_start = mondayDate + \" \" + event_start;\n                if (event_end === \"00:00:00\") {\n                    event_end = tuesdayDate + \" \" + event_end;\n                } else {\n                    event_end = mondayDate + \" \" + event_end;\n                }\n\n                if (input.event_rrule.includes(\"Monday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"MO\";\n                            } else {\n                                event_rrule = event_rrule + \",MO\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Tuesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TU\";\n                            } else {\n                                event_rrule = event_rrule + \",TU\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Wednesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"WE\";\n                            } else {\n                                event_rrule = event_rrule + \",WE\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Thursday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TH\";\n                            } else {\n                                event_rrule = event_rrule + \",TH\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Friday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"FR\";\n                            } else {\n                                event_rrule = event_rrule + \",FR\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Saturday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SA\";\n                            } else {\n                                event_rrule = event_rrule + \",SA\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Sunday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SU\";\n                            } else {\n                                event_rrule = event_rrule + \",SU\";\n                            }\n                        }\n\n                // Set the events for the scheduler\n                events_datas.push({id: eventId, start: event_start, end: event_end, title: event_name, rrule: event_rrule, resourceId: resourceId, showPopover: false, bgColor: '#06D6A0', database_id: input.id})\n\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n            events_datas.sort(sort_events)\n            this.setState({\n                events: events_datas,\n                dates: [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate]\n            })\n        })\n    }\n\n    refetchData = () => {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({books: data})\n            var events_datas = [];\n            for (var input of data) {\n                this.setState({current_user_id: input.user_id})\n                var resourceId = input.device_type_id;\n                var eventId = input.event_id;\n                var event_start = input.event_start;\n                var event_end = input.event_end;\n\n                // Format the title to be shown for each event on the scheduler\n                var finalStart = from24to12(event_start);\n                var finalEnd = from24to12(event_end)\n                var event_name = input.event_name + \" (\" + finalStart + \" - \" + finalEnd + \")\"\n\n                var [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate] = getDates();\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + mondayDate.substring(0,4) + mondayDate.substring(5,7) + mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" + sundayDate.substring(0,4) + sundayDate.substring(5,7) + sundayDate.substring(8,10) + \"T235900Z;BYDAY=\";\n//                event_start = mondayDate + \" \" + event_start;\n                event_start = \"2020-01-01 \" + event_start\n\n                if (event_end === \"00:00:00\") {\n//                    event_end = tuesdayDate + \" \" + event_end;\n                    event_end = \"2020-01-02 \" + event_end\n                } else {\n//                    event_end = mondayDate + \" \" + event_end;\n                    event_end = \"2020-01-01 \" + event_end\n                }\n                if (input.event_rrule.includes(\"Monday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"MO\";\n                            } else {\n                                event_rrule = event_rrule + \",MO\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Tuesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TU\";\n                            } else {\n                                event_rrule = event_rrule + \",TU\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Wednesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"WE\";\n                            } else {\n                                event_rrule = event_rrule + \",WE\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Thursday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TH\";\n                            } else {\n                                event_rrule = event_rrule + \",TH\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Friday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"FR\";\n                            } else {\n                                event_rrule = event_rrule + \",FR\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Saturday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SA\";\n                            } else {\n                                event_rrule = event_rrule + \",SA\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Sunday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SU\";\n                            } else {\n                                event_rrule = event_rrule + \",SU\";\n                            }\n                        }\n\n                // Set the events for the scheduler\n                events_datas.push({id: eventId, start: event_start, end: event_end, title: event_name, rrule: event_rrule, resourceId: resourceId, showPopover: false, bgColor: '#06D6A0', database_id: input.id})\n            }\n            events_datas.sort(sort_events)\n            this.setState({\n                events: events_datas,\n                dates: [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate]\n            })\n        })\n    }\n\n    createNewBook = (book) => {\n        const csrftoken = getCookie('csrftoken');\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrftoken\n            },\n            body: JSON.stringify(book),\n        })\n        .then(response => response.json())\n        .then(book => {\n            this.setState({books: this.state.books.concat([book])});\n        })\n    }\n\n    updateBook = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook)\n                } else {\n                    return book;\n                }\n            });\n\n            this.setState({books: newBooks});\n        })\n    }\n\n    deleteBook = (bookId) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/' + bookId + '/', {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        })\n        .then(() => {\n            this.setState({books: this.state.books.filter(book => book.id !== bookId)})\n        })\n    }\n\n    removeCalendarHeader = () => {\n        document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0].removeChild(document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0].childNodes[0]);\n    }\n\n    addLines = () => {\n        document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\n\n        var i;\n        var j;\n        for (i=0; i<5; i++) {\n            for (j=3; j<93; j+=4) {\n                document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\n            }\n        }\n    }\n\n    chooseMonday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Monday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"selected\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[0]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Monday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseTuesday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Tuesday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"selected\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[1]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Tuesday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseWednesday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Wednesday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"selected\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[2]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Wednesday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseThursday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Thursday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"selected\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[3]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Thursday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseFriday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Friday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"selected\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[4]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Friday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseSaturday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Saturday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"selected\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[5]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Saturday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseSunday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Sunday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"selected\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[6]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Sunday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    render() {\n        return (\n            <>\n                <div className=\"tab\">\n                    <button id=\"MondayCalendar\" onClick={this.chooseMonday}> Monday </button>\n                    <button id=\"TuesdayCalendar\" onClick={this.chooseTuesday}> Tuesday </button>\n                    <button id=\"WednesdayCalendar\" onClick={this.chooseWednesday}> Wednesday </button>\n                    <button id=\"ThursdayCalendar\" onClick={this.chooseThursday}> Thursday </button>\n                    <button id=\"FridayCalendar\" onClick={this.chooseFriday}> Friday </button>\n                    <button id=\"SaturdayCalendar\" onClick={this.chooseSaturday}> Saturday </button>\n                    <button id=\"SundayCalendar\" onClick={this.chooseSunday}> Sunday </button>\n                </div>\n                <ScheduleControlItem\n                    key={this.state.key}\n                    refetchData={this.refetchData}\n                    events={this.state.events}\n                    dates={this.state.dates}\n                    onDeleteClick={this.deleteBook}\n                    onAddClick={this.createNewBook}\n                    onUpdateClick={this.updateBook}\n                    books={this.state.books}\n                    current_user_id={this.state.current_user_id}\n                />\n                <div id=\"popup-container-schedule\"> </div>\n            </>\n        )\n    }\n}\n\nclass ScheduleControlItem extends Component {\n    render() {\n        const days=[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n        var today = new Date()\n        var today_date = today.getFullYear() + \"-\" + ((today.getMonth() + 1).toString().length === 1 ? \"0\" + (today.getMonth() + 1).toString() : (today.getMonth() + 1)) + \"-\" + (today.getDate().toString().length === 1 ? \"0\" + today.getDate().toString() : today.getDate())\n        return (\n            <div id=\"root\">\n                <Calendar\n                    refetchData={this.props.refetchData}\n                    events={this.props.events}\n                    date={today_date}\n                    onDeleteClick={this.props.onDeleteClick}\n                    onAddClick={this.props.onAddClick}\n                    onUpdateClick={this.props.onUpdateClick}\n                    books={this.props.books}\n                    mondayDate={this.props.dates[0]}\n                    sundayDate={this.props.dates[6]}\n                    day={days[today.getDay()]}\n                    current_user_id={this.props.current_user_id}\n                />\n            </div>\n        )\n    }\n}\n\nReactDOM.render(<ScheduleControlDashboard />, document.getElementById('schedule-based-control'))\n\n// Presence Based Control\n\nclass PresenceControlDashboard extends Component {\n    state = {\n        books: [],\n        key: 1\n    }\n\n    constructor(props) {\n        super(props);\n        window.presencecontrol = this;\n    }\n\n    componentDidMount() {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/presence/')\n        .then(response => response.json())\n        .then(data => {\n            data.sort(compare);\n            this.setState({books: data})\n        })\n    }\n\n    updateBook = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/presence/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook)\n                } else {\n                    return book;\n                }\n            });\n            this.setState({books: newBooks});\n        })\n    }\n\n    render() {\n        return (\n            <>\n              <br/>\n\n                  <PresenceControlList\n                      key={this.state.key}\n                      books={this.state.books}\n                      onUpdateClick={this.updateBook}\n                  />\n\n            </>\n        )\n    }\n}\n\nclass PresenceControlList extends Component {\n    render() {\n        const books = this.props.books.map(book => (\n            <PresenceControlEditableItem\n                key={book.id}\n                id={book.id}\n                user_id={book.user_id}\n                device_type={book.device_type}\n                presence_setting={book.presence_setting}\n                onUpdateClick={this.props.onUpdateClick}\n            />\n        ));\n        return (\n            <div class=\"plugloadboxes\">\n                {books}\n            </div>\n        )\n    }\n}\n\nclass PresenceControlEditableItem extends Component {\n    handleUpdate = (book) => {\n        book.id = this.props.id;\n        this.props.onUpdateClick(book);\n    }\n\n    render() {\n        const component = () => {\n            return (\n                <>\n                    <PresenceControlItem\n                        id={this.props.id}\n                        user_id={this.props.user_id}\n                        device_type={this.props.device_type}\n                        presence_setting={this.props.presence_setting}\n                        onFormSubmit={this.handleUpdate}\n                    />\n                </>\n            )\n        }\n        return (\n            component()\n        )\n    }\n}\n\nclass PresenceControlItem extends Component {\n    state = {\n        user_id: this.props.user_id,\n        device_type: this.props.device_type,\n        presence_setting: this.props.presence_setting,\n        achievements_books: [],\n        points_wallet_books: []\n    }\n\n    componentDidMount() {\n        this.refetchBonusAchievementsData();\n        this.refetchPointsWalletData();\n    }\n\n    refetchBonusAchievementsData = () => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({achievements_books: data})\n        })\n\n        setTimeout(this.refetchBonusAchievementsData, 10000)\n    }\n\n    refetchPointsWalletData = () => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({points_wallet_books: data})\n        })\n\n        setTimeout(this.refetchPointsWalletData, 10000)\n    }\n\n    updateAchievementsBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.achievements_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({achievements_books: newBooks})\n        })\n    }\n\n    updatePointsWalletBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.points_wallet_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({points_wallet_books: newBooks})\n        })\n    }\n\n    handleAchievementsUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updateAchievementsBooks(book);\n    }\n\n    handlePointsWalletUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updatePointsWalletBooks(book);\n    }\n\n    handleAchievementsFormSubmit = () => {\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\n    }\n\n    handlePointsWalletFormSubmit = () => {\n        this.handlePointsWalletUpdate(this.state.points_wallet_books[0])\n    }\n\n    onConfirm1 = () => {\n        // Update database\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_presence === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_presence: 70\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 70\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onCancel1 = () => {\n        document.getElementById(this.state.device_type.replace(/\\s/g, '') + \"Select\").value = this.state.presence_setting;\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    handleFormSubmit = () => {\n        this.props.onFormSubmit({...this.state});\n    }\n\n    handleSettingUpdate = (evt) => {\n        if (evt.target.value !== \"other\" && evt.target.value !== \"1000000\") {\n            // Hide popup\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n            // Update database\n            this.setState({presence_setting: evt.target.value}, function() {this.handleFormSubmit()})\n\n            // If first time clicking, update achievement\n            if (this.state.achievements_books[0].first_presence === 0) {\n                this.setState({\n                    achievements_books: [\n                        {\n                            ...this.state.achievements_books[0],\n                            first_presence: 70\n                        }\n                    ]\n                }, function() {this.handleAchievementsFormSubmit()})\n                this.setState({\n                    points_wallet_books: [\n                        {\n                            ...this.state.points_wallet_books[0],\n                            points: this.state.points_wallet_books[0].points + 70\n                        }\n                    ]\n                }, function() {this.handlePointsWalletFormSubmit()})\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n        }\n        if (evt.target.value === \"other\") {\n            // Show popup\n            ReactDOM.render(\n                <PresenceControlPopup\n                    device_type={this.state.device_type}\n                    handleOtherUpdate={this.handleOtherUpdate}\n                    handleEnterClick={this.handleEnterClick}\n                    cancelButtonClicked={this.cancelButtonClicked}\n                    okButtonClicked={this.okButtonClicked}\n                />, document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\")\n            )\n        }\n        if (evt.target.value === \"1000000\") {\n            // Hide popup\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n            ReactDOM.render(<ConfirmAlert\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\n                                onConfirm = {this.onConfirm1}\n                                onCancel = {this.onCancel1}\n                            />, document.getElementById(\"confirm-alert\"))\n        }\n    }\n\n    handleOtherUpdate = (evt) => {\n        this.setState({presence_setting: evt.target.value});\n    }\n\n    handleEnterClick = (evt) => {\n        if (evt.key === \"Enter\" || evt.keyCode === 13) {\n            this.okButtonClicked();\n        }\n    }\n\n    onConfirm2 = () => {\n        // Change outer ring to red\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"redRing\";\n        // Change image to OFF\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\n        // Set value to OFF\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"1000000\";\n        // Update database\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()})\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_presence === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_presence: 70\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 70\n                    }\n                ]\n            })\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onCancel2 = () => {\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    handlePresenceIconClick = () => {\n        if (document.getElementById(this.state.device_type.replace(/\\s/g,'')).className === \"greenRing\") {\n            ReactDOM.render(<ConfirmAlert\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\n                                onConfirm = {this.onConfirm2}\n                                onCancel = {this.onCancel2}\n                            />, document.getElementById(\"confirm-alert\"))\n        } else {\n            // Change outer ring to green\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"greenRing\"\n            // Change image to ON\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\n            // Set value to 5 minutes\n            document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\n            // Update database\n            this.setState({presence_setting: \"5\"}, function() {this.handleFormSubmit()})\n\n            // If first time clicking, update achievement\n            if (this.state.achievements_books[0].first_presence === 0) {\n                this.setState({\n                    achievements_books: [\n                        {\n                            ...this.state.achievements_books[0],\n                            first_presence: 70\n                        }\n                    ]\n                }, function() {this.handleAchievementsFormSubmit()})\n                this.setState({\n                    points_wallet_books: [\n                        {\n                            ...this.state.points_wallet_books[0],\n                            points: this.state.points_wallet_books[0].points + 70\n                        }\n                    ]\n                }, function() {this.handlePointsWalletFormSubmit()})\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n        }\n    }\n\n    cancelButtonClicked = () => {\n        // Hide popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n        // Set value to 5 minutes\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\n        this.setState({presence_setting: 5}, function() {this.handleFormSubmit()})\n\n    }\n\n    okButtonClicked = () => {\n        // Display value on dropdown\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value;\n        // Clear text box on popup\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value = \"\";\n        // Hide popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n        // Update database\n        this.handleFormSubmit();\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_presence === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_presence: 70\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 70\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    render() {\n        const possible_option = [\"1000000\", \"5\", \"10\", \"20\", \"30\", \"60\", \"other\"]\n        if (possible_option.includes(this.state.presence_setting.toString())) {\n            var disabled = true;\n            var display_value = \"\";\n            var display_text = \"\";\n        } else {\n            disabled = false;\n            display_value = this.state.presence_setting;\n            display_text = this.state.presence_setting + \" minutes\";\n        }\n\n        if (this.state.presence_setting.toString() === \"1000000\") {\n            var presence_control_outer_ring = \"redRing\";\n            var presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\n        } else {\n            presence_control_outer_ring = \"greenRing\";\n            presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\n        }\n\n        return (\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxPresence\"} className=\"containerPresence\" onClick={this.exitClick}>\n                <div className=\"iconPresence\">\n                    <div className={presence_control_outer_ring} id={this.state.device_type.replace(/\\s/g,'')} onClick={this.handlePresenceIconClick}>\n                        <div className=\"whiteRing\">\n                            <img class=\"PlugLoadIcon\" src={presence_control_image} alt=\"Icon\" />\n                        </div>\n                    </div>\n                </div>\n                <div style={{width:\"200px\", height:\"10px\", overflowY:\"visible\"}}>\n                    <div style={{position:\"relative\", width:\"200px\", height:\"1px\", overflowY:\"visible\"}}>\n                        <div className=\"dropdownPresence\" id={this.state.device_type.replace(/\\s/g,'') + \"Dropdown\"}>\n                            <div class=\"wordPresence\">\n                                <p> {this.state.device_type} </p>\n                            </div>\n                            <select defaultValue={this.state.presence_setting} onChange={this.handleSettingUpdate} id={this.state.device_type.replace(/\\s/g,'') + \"Select\"}>\n                                <option value=\"1000000\"> Deactivate </option>\n                                <optgroup label=\"Off after I leave for:\">\n                                    <option value=\"5\"> 5 minutes </option>\n                                    <option value=\"10\"> 10 minutes </option>\n                                    <option value=\"20\"> 20 minutes </option>\n                                    <option value=\"30\"> 30 minutes </option>\n                                    <option value=\"60\"> 1 hour </option>\n                                    <option value=\"other\"> Custom Time </option>\n                                </optgroup>\n                                <option value={display_value} disabled={disabled}> {display_text} </option>\n                            </select>\n                        </div>\n\n                        <div id={this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"}> </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass PresenceControlPopup extends Component {\n    exitClick = () => {\n        this.props.cancelButtonClicked();\n    }\n    render() {\n        return (\n        <>\n            <div id=\"PopupPresenceOverlay\" className=\"popup_presence_overlay\" onClick={this.exitClick}></div>\n            <div id={this.props.device_type.replace(/\\s/g,'') + \"PopupPresence\"} className=\"visiblePresence\">\n                <input type=\"text\" id={this.props.device_type.replace(/\\s/g,'') + \"TextOther\"} onChange={this.props.handleOtherUpdate} onKeyUp={this.props.handleEnterClick} />\n                <p class=\"minutes\"> minutes </p>\n                <br />\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"CancelButton\"} onClick={this.props.cancelButtonClicked}> Cancel </button>\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"OkButton\"} onClick={this.props.okButtonClicked}> OK </button>\n            </div>\n        </>\n        )\n    }\n}\n\nReactDOM.render(<PresenceControlDashboard />, document.getElementById('presence-based-control'))\n\n// Others\n\n// Information icons\nvar remotecontrolelement = document.getElementById(\"remotecontrolrect\");\nvar infoiconremote = document.getElementById(\"infoIconRemote\");\nvar scheduleelement = document.getElementById(\"schedulebasedrect\");\nvar infoiconschedule = document.getElementById(\"infoIcon\");\nvar presenceelement = document.getElementById(\"presencebasedrect\");\nvar infoiconpresence = document.getElementById(\"infoIconPresence\");\n\nwindow.onload = function() {\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\n  infoiconremote.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxRemote\"}>\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\n        </div>, document.getElementById(\"infoBoxRemote\"));\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\n    }\n  infoiconremote.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\n  }\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\n  infoiconschedule.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBox\"}>\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\n        </div>, document.getElementById(\"infoBox\"));\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\n    }\n  infoiconschedule.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\n  }\n  let presenceelemRect = presenceelement.getBoundingClientRect();\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\n  infoiconpresence.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxPresence\"}>\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\n        </div>, document.getElementById(\"infoBoxPresence\"));\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\n    }\n  infoiconpresence.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\n  }\n}\n\nwindow.onresize = function() {\n\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\n  infoiconremote.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxRemote\"}>\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\n        </div>, document.getElementById(\"infoBoxRemote\"));\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\n    }\n  infoiconremote.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\n  }\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\n  infoiconschedule.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBox\"}>\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\n        </div>, document.getElementById(\"infoBox\"));\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\n    }\n  infoiconschedule.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\n  }\n  let presenceelemRect = presenceelement.getBoundingClientRect();\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\n  infoiconpresence.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxPresence\"}>\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\n        </div>, document.getElementById(\"infoBoxPresence\"));\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\n    }\n  infoiconpresence.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\n  }\n}\n\n// Fix for Google Chrome\nvar isChromium = window.chrome;\nvar winNav = window.navigator;\nvar vendorName = winNav.vendor;\nvar isOpera = typeof window.opr !== \"undefined\";\nvar isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1;\nvar isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\nif (isIOSChrome) {\n   // is Google Chrome on IOS\n   document.onkeydown = function(event) {\nif (event.ctrlKey===true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\n        event.preventDefault();\n     }\n    // 107 Num Key  +\n    // 109 Num Key  -\n    // 173 Min Key  hyphen/underscore key\n    // 61 Plus key  +/= key\n};\n} else if(\n  isChromium !== null &&\n  typeof isChromium !== \"undefined\" &&\n  vendorName === \"Google Inc.\" &&\n  isOpera === false &&\n  isIEedge === false\n) {\n   // is Google Chrome\n   document.onkeydown = function(event) {\nif (event.ctrlKey === true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\n        event.preventDefault();\n     }\n    // 107 Num Key  +\n    // 109 Num Key  -\n    // 173 Min Key  hyphen/underscore key\n    // 61 Plus key  +/= key\n};\n} else {\n   // not Google Chrome\n}\n\n"],"sourceRoot":""}