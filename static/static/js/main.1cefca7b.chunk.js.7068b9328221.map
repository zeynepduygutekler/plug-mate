{"version":3,"sources":["ConfirmAlert.js","withDnDContext.js","Timepicker.js","Radio.js","Checkbox.js","OnlyAlert.js","Basic.js","Basic0.js","Basic1.js","Basic2.js","Basic3.js","Basic4.js","Basic5.js","index.js","Data.js"],"names":["ConfirmAlert","state","message","_this","props","onConfirm","onCancel","react_default","a","createElement","class","index_es","icon","faExclamationTriangle","style","color","this","onClick","Component","DragDropContext","HTML5Backend","Timepicker","startValue","defaultStart","endValue","defaultEnd","handleStartValueChange","setState","handleEndValueChange","_this$state","fontSize","es","id","showSecond","defaultValue","onChange","format","minuteStep","use12Hours","className","React","Radio","Object","classCallCheck","_super","call","default","Fragment","name","type","value","defaultChecked","marginLeft","day","Checkbox","option1id","option2id","option3id","option4id","option1","option2","option3","option4","htmlFor","OnlyAlert","onOK","withDragDropContext","Basic","isNonWorkingTime","schedulerData","time","getScrollSpecialMoment","startMoment","endMoment","moment","eventClicked","event","resourceName","getSlotById","resourceId","render","title","substring","length","float","ReactDOM","unmountComponentAtNode","document","getElementById","src_Timepicker","start","end","rrule","src_Radio","src_Checkbox","textAlign","removeEvent","DemoData","events","window","mondayCalendar","viewModel","background","schedule","formattedstart","formattedend","includes","Number","toString","hasConflict","conflictedEvents","plugload_option","querySelectorAll","repeat_option","querySelector","days_to_loop_over","forEach","e","_step","eStart","eEnd","start_for_this","end_for_this","_iterator","createForOfIteratorHelper","s","n","done","push","_step2","_iterator2","plugload","err","f","_step3","_iterator3","current_plugload_conflicted","concat","src_OnlyAlert","updateEventStart","updateEventEnd","new_start","new_end","new_slot","newFreshId","item","newEvent","bgColor","showPopover","addEvent","setTimeout","click","_step4","_iterator4","_loop","slotId","slotName","_step5","_iterator5","_step6","_iterator6","_step7","_iterator7","anotherFreshId","anotherNewEvent","_step8","_iterator8","_loop2","console","log","newFreshId_plugload","newEvent_plugload","newStart","_step9","_iterator9","_step10","_iterator10","_step11","_iterator11","_step12","_iterator12","_loop3","newEnd","_step13","_iterator13","_step14","_iterator14","_step15","_iterator15","_step16","_iterator16","_loop4","moveEvent","_step17","_iterator17","_step18","_iterator18","_step19","_iterator19","_step20","_iterator20","_loop5","conflictOccurred","action","SchedulerData","ViewTypes","Day","checkConflict","recurringEventsEnabled","scrollToSpecialMomentEnabled","crossResourceMove","getScrollSpecialMomentFunc","isNonWorkingTimeFunc","setResources","resources","setEvents","assertThisInitialized","lib_default","eventItemClick","tuesdayCalendar","alert","updatedstart","updatedend","wednesdayCalendar","classname","thursdayCalendar","fridayCalendar","saturdayCalendar","sundayCalendar","compare","b","comparison","device_type","RemoteControlDashboard","books","current_user_id","updateBook","newBook","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","json","newBooks","map","book","assign","_this2","data","sort","datas","input","user_id","src_RemoteControlList","onUpdateClick","RemoteControlList","_this3","src_RemoteControlEditableItem","key","device_state","marginBottom","src_RemoteToggleButton","margin","width","RemoteControlEditableItem","handleUpdate","_this4","_this5","src_RemoteControlItem","onFormSubmit","RemoteControlItem","_this6","achievements_books","updateAchievementsBooks","handleAchievementsUpdate","handleAchievementsFormSubmit","handleFormSubmit","objectSpread2","onConfirm1","to_be_confirmed","checked","Main","first_remote","onConfirm2","onCancel1","to_be_cancelled","onCancel2","preventDefault","childNodes","src_ConfirmAlert","target","_this7","remote_control_outer_ring","remote_control_image","replace","handleRemoteBoxClick","fontWeight","src","alt","data-yes","data-no","RemoteToggleButton","_this8","_super5","master","_this9","Small","Name","disabled","src_RemoteControlDashboard","mondaycalendar","tuesdaycalendar","wednesdaycalendar","thursdaycalendar","fridaycalendar","saturdaycalendar","sundaycalendar","root","onclick","classList","contains","add","remove","StrictMode","src_Basic","i","j","header","removeChild","getElementsByClassName","borderRight","Basic0","Basic1","Basic2","addEventListener","container","timepicker","Basic3","Basic4","Basic5","remotecontrolelement","infoiconremote","scheduleelement","infoiconschedule","presenceelement","infoiconpresence","onload","wanted_id","Date","getDay","remotecontrolelemRect","getBoundingClientRect","infoiconremoteRect","offsetremote","right","onmouseover","onmouseout","scheduleelemRect","infoiconscheduleRect","offsetschedule","presenceelemRect","infoiconpresenceRect","offsetpresence","onresize","isChromium","chrome","winNav","navigator","vendorName","vendor","isOpera","opr","isIEedge","userAgent","indexOf","match","onkeydown","ctrlKey","which","PresenceControlDashboard","_this10","_this11","src_PresenceControlList","PresenceControlList","_this12","src_PresenceControlEditableItem","presence_setting","PresenceControlEditableItem","_this13","_this14","src_PresenceControlItem","PresenceControlItem","_this15","first_presence","handleSettingUpdate","evt","src_PresenceControlPopup","handleOtherUpdate","handleEnterClick","cancelButtonClicked","okButtonClicked","keyCode","handlePresenceIconClick","_this16","display_value","display_text","presence_control_outer_ring","presence_control_image","height","overflowY","position","label","PresenceControlPopup","onKeyUp","src_PresenceControlDashboard","defineProperty","exports"],"mappings":"+QAgCeA,8MA1BXC,MAAQ,CACJC,QAASC,EAAKC,MAAMF,QACpBG,UAAWF,EAAKC,MAAMC,UACtBC,SAAUH,EAAKC,MAAME,iEAGrB,OACIC,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,uBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMC,IAAuBH,MAAM,uBACpDH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,IAA6BC,KAAKf,MAAMC,QAAxC,KACAK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,UAAQC,MAAM,uBAAuBO,QAASD,KAAKf,MAAMK,UAAzD,YACAC,EAAAC,EAAAC,cAAA,UAAQC,MAAM,wBAAwBO,QAASD,KAAKf,MAAMI,WAA1D,wBAlBDa,uFCAZC,4BAAgBC,6BCgDhBC,8MA9CbpB,MAAQ,CACNqB,WAAYnB,EAAKC,MAAMmB,aACvBC,SAAUrB,EAAKC,MAAMqB,cAIvBC,uBAAyB,SAACJ,EAAYE,GACpCrB,EAAKwB,SAAS,CAACL,kBAIjBM,qBAAuB,SAACN,EAAYE,GAClCrB,EAAKwB,SAAS,CAACH,qEAGR,IAAAK,EAC0Bb,KAAKf,MAA9BqB,EADDO,EACCP,WAAYE,EADbK,EACaL,SACpB,OACEjB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACgB,SAAS,SAArB,YACAvB,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CACEC,GAAG,QACHC,YAAY,EACZC,aAAcZ,EACda,SAAUnB,KAAKU,uBACfU,OAAQ,SACRC,WAAY,GACZC,YAAU,EACVC,UAAU,QAEZhC,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACgB,SAAS,SAArB,UACAvB,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CACEC,GAAG,MACHC,YAAY,EACZC,aAAcV,EACdW,SAAUnB,KAAKY,qBACfQ,OAAQ,SACRC,WAAY,GACZC,YAAU,EACVC,UAAU,gBAxCKC,IAAMtB,WCqBhBuB,oDAtBb,SAAAA,EAAYrC,GAAO,IAAAD,EAAA,OAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAyB,IACjBtC,EAAAyC,EAAAC,KAAA7B,KAAMZ,IACDH,MAAQ,CACX6C,QAAS3C,EAAKC,MAAM0C,SAHL3C,uDAOjB,OACEI,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACIxC,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACgB,SAAS,SAArB,IAAgCd,KAAKZ,MAAM4C,KAA3C,KACwB,cAAvBhC,KAAKf,MAAM6C,SAA2BvC,EAAAC,EAAAC,cAAA,SAAOwC,KAAK,QAAQD,KAAMhC,KAAKZ,MAAM4C,KAAME,MAAM,YAAYC,gBAAc,IAC1F,cAAvBnC,KAAKf,MAAM6C,SAA2BvC,EAAAC,EAAAC,cAAA,SAAOwC,KAAK,QAAQD,KAAMhC,KAAKZ,MAAM4C,KAAME,MAAM,cACxF3C,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACsC,WAAW,SAA1B,eACA7C,EAAAC,EAAAC,cAAA,WACwB,eAAvBO,KAAKf,MAAM6C,SAA4BvC,EAAAC,EAAAC,cAAA,SAAOwC,KAAK,QAAQD,KAAMhC,KAAKZ,MAAM4C,KAAME,MAAM,aAAaC,gBAAc,IAC5F,eAAvBnC,KAAKf,MAAM6C,SAA4BvC,EAAAC,EAAAC,cAAA,SAAOwC,KAAK,QAAQD,KAAMhC,KAAKZ,MAAM4C,KAAME,MAAM,eACzF3C,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACsC,WAAW,SAA1B,UAA2CpC,KAAKZ,MAAMiD,IAAtD,aAjBUb,IAAMtB,WC+DXoC,yKA5DX,IAAIC,EAAY,GACZC,EAAY,GACZC,EAAY,GACZC,EAAY,GAsBhB,MArB2B,YAAvB1C,KAAKZ,MAAMuD,UAAwBJ,EAAY,MACxB,YAAvBvC,KAAKZ,MAAMuD,UAAwBJ,EAAY,MACxB,WAAvBvC,KAAKZ,MAAMuD,UAAuBJ,EAAY,MACvB,cAAvBvC,KAAKZ,MAAMuD,UAA0BJ,EAAY,MAC1B,QAAvBvC,KAAKZ,MAAMuD,UAAoBJ,EAAY,MACpB,YAAvBvC,KAAKZ,MAAMwD,UAAwBJ,EAAY,MACxB,YAAvBxC,KAAKZ,MAAMwD,UAAwBJ,EAAY,MACxB,WAAvBxC,KAAKZ,MAAMwD,UAAuBJ,EAAY,MACvB,cAAvBxC,KAAKZ,MAAMwD,UAA0BJ,EAAY,MAC1B,QAAvBxC,KAAKZ,MAAMwD,UAAoBJ,EAAY,MACpB,YAAvBxC,KAAKZ,MAAMyD,UAAwBJ,EAAY,MACxB,YAAvBzC,KAAKZ,MAAMyD,UAAwBJ,EAAY,MACxB,WAAvBzC,KAAKZ,MAAMyD,UAAuBJ,EAAY,MACvB,cAAvBzC,KAAKZ,MAAMyD,UAA0BJ,EAAY,MAC1B,QAAvBzC,KAAKZ,MAAMyD,UAAoBJ,EAAY,MACpB,YAAvBzC,KAAKZ,MAAM0D,UAAwBJ,EAAY,MACxB,YAAvB1C,KAAKZ,MAAM0D,UAAwBJ,EAAY,MACxB,WAAvB1C,KAAKZ,MAAM0D,UAAuBJ,EAAY,MACvB,cAAvB1C,KAAKZ,MAAM0D,UAA0BJ,EAAY,MAC1B,QAAvB1C,KAAKZ,MAAM0D,UAAoBJ,EAAY,MAG7CnD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACExC,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACgB,SAAS,SAArB,oBACAvB,EAAAC,EAAAC,cAAA,SACEwC,KAAK,WACLD,KAAMhC,KAAKZ,MAAM4C,KACjBE,MAAOK,IAEThD,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACsC,WAAW,QAASW,QAAS/C,KAAKZ,MAAMuD,SAAvD,IAAkE3C,KAAKZ,MAAMuD,QAA7E,KACApD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SACEwC,KAAK,WACLD,KAAMhC,KAAKZ,MAAM4C,KACjBE,MAAOM,IAETjD,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACsC,WAAW,QAASW,QAAS/C,KAAKZ,MAAMwD,SAAvD,IAAkE5C,KAAKZ,MAAMwD,QAA7E,KACArD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SACEwC,KAAK,WACLD,KAAMhC,KAAKZ,MAAM4C,KACjBE,MAAOO,IAETlD,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACsC,WAAW,QAASW,QAAS/C,KAAKZ,MAAMyD,SAAvD,IAAkE7C,KAAKZ,MAAMyD,QAA7E,KACAtD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SACEwC,KAAK,WACLD,KAAMhC,KAAKZ,MAAM4C,KACjBE,MAAOQ,IAETnD,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACsC,WAAW,QAASW,QAAS/C,KAAKZ,MAAM0D,SAAvD,IAAkE9C,KAAKZ,MAAM0D,QAA7E,aAzDetB,IAAMtB,WC0Bd8C,qNAxBX/D,MAAQ,CACJC,QAASC,EAAKC,MAAMF,QACpB+D,KAAM9D,EAAKC,MAAM6D,6DAGjB,OACI1D,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,uBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMC,IAAuBH,MAAM,uBACpDH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,IAA6BC,KAAKf,MAAMC,QAAxC,KACAK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,UAAQC,MAAM,WAAWO,QAASD,KAAKf,MAAMgE,MAA7C,mBAhBJ/C,cCm/CTgD,sDAx+Cb,SAAAC,EAAY/D,GAAO,IAAAD,EAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAmD,IACjBhE,EAAAyC,EAAAC,KAAA7B,KAAMZ,IA4CRgE,iBAAmB,SAACC,EAAeC,GACjC,OAAO,GA9CUnE,EAkDnBoE,uBAAyB,SAACF,EAAeG,EAAaC,GACpD,OAAOC,IAAO,wBAnDGvE,EAuDnBwE,aAAe,SAACN,EAAeO,GA8N7B,IAAIC,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAOE,EAAMe,OACvD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAjRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MACrCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAKnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAE5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCC,EACnCC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAQ,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAmC,KAA1B1E,EAA0BiE,EAAApE,MACjCuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACnCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAY,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAmB,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAsC,KAA7BI,EAA6BF,EAAA/E,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,MALI,MAAAD,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,OAgCrCxB,EAAa,CACf,IADeyB,EACXpI,EAAU,gDACVmD,EAAM,GAFKkF,EAAA7F,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAyB,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAqC,KAA5B7B,EAA4BoC,EAAApF,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,IA4BfhD,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACQxI,QAASA,EACT+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAC3C,CACLZ,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IACxEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAGpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EACFrC,EAAMgB,MAAM,6DACZA,EAAM,kEAEJ,GAAoB,+DAAhBhB,EAAMgB,MAAwE,CAC9E,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IACdoD,EAAWnE,EAAMG,WACzBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAlC3E,IAAAC,EAAAC,EAAA/G,OAAAkF,EAAA,EAAAlF,CAsCgBqE,GAtChB,QAAA2C,EAAA,WAsCIvB,EAtCJqB,EAAAtG,MAuCH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAjBlC,IAAAuD,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAsC,KAA7BI,EAA6BuB,KAtCjC,MAAAtB,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IA0DD3C,GAASC,GAAOA,GAAOD,EACvBL,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACIxI,QAAQ,4DACR+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAG9CS,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,KAIfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAIHmC,SAASC,eAAe,8BA7UlBrF,EAiVnB+I,SAAW,SAAC7E,EAAesF,EAAQC,EAAUlE,EAAOC,EAAK1C,EAAMgG,GAC7D,IAAID,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAO,cAAgBP,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACjGsD,MAAOA,EACPC,IAAKA,EACLZ,WAAY4E,EACZR,QAAS,UACTC,aAAa,EACbxD,MAAO,IAyOT,IAAIf,EAAeR,EAAcS,YAAYoE,EAASnE,YAAY/B,KAClEgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAcgH,EAASjE,MAAMC,UAAU,EAAGgE,EAASjE,MAAME,OAAO,MACnH5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOwE,EAASxD,OAAQjE,WAAYiD,IAAOwE,EAASvD,OAC1D,KAAnBuD,EAAStD,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAnBoG,EAAStD,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cAC5G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYkD,GAC1BjD,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAvRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAsCzB,GArCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwC,EACnCtC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoC,EAAApH,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2C,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAmC,KAA1B1E,EAA0BwG,EAAA3G,MACjCuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACnCmC,EAAEtC,aAAemE,EAASnE,aACtB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAOkH,EAASlH,KACrE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0C,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiD,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAsC,KAA7BI,EAA6B4B,EAAA7G,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,MALI,MAAAD,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,OAiCrCxB,EAAa,CACf,IADeoD,EACX/J,EAAU,8CACVmD,EAAM,GAFK6G,EAAAxH,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoD,EAAArC,MAAAoC,EAAAC,EAAApC,KAAAC,MAAqC,KAA5B7B,EAA4B+D,EAAA/G,MAC/BgG,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,WAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,aAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8B,EAAA7C,EAAAe,GAAA,QAAA8B,EAAA7B,IA4BfhD,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACQxI,QAASA,EACT+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAC3C,CACL0D,EAASjE,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAE3EpC,EAAcsE,iBAAiBO,EAAUxD,GACzCrB,EAAcuE,eAAeM,EAAUvD,GAEvC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EACFiC,EAAStD,MAAM,6DACfA,EAAM,kEAEJ,GAAuB,+DAAnBsD,EAAStD,MAAwE,CACvF,IAAI5C,EAAOkG,EAASjE,MAChB4D,EAAYK,EAASxD,MACrBoD,EAAUI,EAASvD,IACnBoD,EAAWG,EAASnE,WACxBV,EAAc2B,YAAYkD,GAC1B,IAAIiB,EAAiB,EACrB9F,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMmI,IAAgBA,EAAiBlB,EAAKjH,GAAK,KAG5D,IAAIoI,EAAkB,CACpBpI,GAAImI,EACJlF,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASe,GACvBnE,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAlCvE,IAAAc,EAAAC,EAAA5H,OAAAkF,EAAA,EAAAlF,CAsCgBqE,GAtChB,QAAAwD,EAAA,WAsCIpC,EAtCJkC,EAAAnH,MAuCHsH,QAAQC,IAAItC,GACZ,IAAIuC,EAAsB,EAC1BrG,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAM0I,IAAqBA,EAAsBzB,EAAKjH,GAAK,KAGtE,IAAI2I,EAAoB,CACtB3I,GAAI0I,EACJzF,MAAOiE,EAASjE,MAChBS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASsB,GACvB1E,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAoE,EAAAzC,MAAAwC,EAAAC,EAAAxC,KAAAC,MAAsC,KAA7BI,EAA6BoC,KAtCjC,MAAAnC,GAAAkC,EAAAjD,EAAAe,GAAA,QAAAkC,EAAAjC,IA2DD3C,GAASC,GAAOA,GAAOD,EACzBL,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACMxI,QAAQ,4DACR+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAG5CS,IAASC,OAAS7B,EAAc6B,OAClCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA/nBlBrF,EAmoBnBwI,iBAAmB,SAACtE,EAAeO,EAAOgG,GAmOxC,IAAI/F,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOkG,GAAWnJ,WAAYiD,IAAOE,EAAMe,OACpD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAtRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwD,EACnCtD,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoD,EAAApI,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2D,EAAAjD,MAAAgD,EAAAC,EAAAhD,KAAAC,MAAmC,KAA1B1E,EAA0BwH,EAAA3H,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0D,EAAAC,EAAAtI,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiE,EAAAnD,MAAAkD,EAAAC,EAAAlD,KAAAC,MAAsC,KAA7BI,EAA6B4C,EAAA7H,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4C,EAAA3D,EAAAe,GAAA,QAAA4C,EAAA3C,MALI,MAAAD,GAAA0C,EAAAzD,EAAAe,GAAA,QAAA0C,EAAAzC,OAgCrCxB,EAAa,CACf,IADeoE,EACX/K,EAAU,gDACVmD,EAAM,GAFK6H,EAAAxI,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoE,EAAArD,MAAAoD,EAAAC,EAAApD,KAAAC,MAAqC,KAA5B7B,EAA4B+E,EAAA/H,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8C,EAAA7D,EAAAe,GAAA,QAAA8C,EAAA7C,IA4BfhD,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACQxI,QAASA,EACT+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAC3C,CACLZ,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EACFrC,EAAMgB,MAAM,6DACZA,EAAM,kEAEJ,GAAoB,+DAAhBhB,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAlCvE,IAAA4B,EAAAC,EAAA1I,OAAAkF,EAAA,EAAAlF,CAsCgBqE,GAtChB,QAAAsE,EAAA,WAsCIlD,EAtCJgD,EAAAjI,MAuCH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAkF,EAAAvD,MAAAsD,EAAAC,EAAAtD,KAAAC,MAAsC,KAA7BI,EAA6BkD,KAtCjC,MAAAjD,GAAAgD,EAAA/D,EAAAe,GAAA,QAAAgD,EAAA/C,IA2DD3C,GAASC,GAAOA,GAAOD,EACzBL,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACMxI,QAAQ,4DACR+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAG9CS,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA75BlBrF,EAi6BnByI,eAAiB,SAACvE,EAAeO,EAAO0G,GAgOtC,IAAIzG,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAO4G,KACjD,KAAhB1G,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAnRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCkE,EACnChE,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoB8D,EAAA9I,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAqE,EAAA3D,MAAA0D,EAAAC,EAAA1D,KAAAC,MAAmC,KAA1B1E,EAA0BkI,EAAArI,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAoE,EAAAC,EAAAhJ,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAA2E,EAAA7D,MAAA4D,EAAAC,EAAA5D,KAAAC,MAAsC,KAA7BI,EAA6BsD,EAAAvI,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAsD,EAAArE,EAAAe,GAAA,QAAAsD,EAAArD,MALI,MAAAD,GAAAoD,EAAAnE,EAAAe,GAAA,QAAAoD,EAAAnD,OAgCrCxB,EAAa,CACf,IADe8E,EACXzL,EAAU,8CACVmD,EAAM,GAFKuI,EAAAlJ,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAA8E,EAAA/D,MAAA8D,EAAAC,EAAA9D,KAAAC,MAAqC,KAA5B7B,EAA4ByF,EAAAzI,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAwD,EAAAvE,EAAAe,GAAA,QAAAwD,EAAAvD,IA4BfhD,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACQxI,QAASA,EACT+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAC3C,CACLZ,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAM,GACV,GAAsB,cAAlBqB,EACFrC,EAAMgB,MAAM,6DACZA,EAAM,kEAEJ,GAAoB,+DAAhBhB,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAlCvE,IAAAsC,EAAAC,EAAApJ,OAAAkF,EAAA,EAAAlF,CAsCgBqE,GAtChB,QAAAgF,EAAA,WAsCI5D,EAtCJ0D,EAAA3I,MAuCH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAA4F,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAAsC,KAA7BI,EAA6B4D,KAtCjC,MAAA3D,GAAA0D,EAAAzE,EAAAe,GAAA,QAAA0D,EAAAzD,IA2DD3C,GAASC,GAAOA,GAAOD,EACzBL,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACMxI,QAAQ,4DACR+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAG9CS,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAmEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAxrClBrF,EA4rCnB6L,UAAY,SAAC3H,EAAeO,EAAO+E,EAAQC,EAAUlE,EAAOC,GAC1DtB,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GACpCf,EAAMK,MAAQL,EAAMK,MAAMC,UAAU,EAAEN,EAAMK,MAAME,OAAO,IAAMT,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACzIjC,EAAKwB,SAAS,CACV0E,UAAWhC,IAiOf,IAAIQ,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAhB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAe9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOgB,GAAQjE,WAAYiD,IAAOiB,KAC3C,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAnRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuC4E,EACnC1E,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBwE,EAAAxJ,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA+E,EAAArE,MAAAoE,EAAAC,EAAApE,KAAAC,MAAmC,KAA1B1E,EAA0B4I,EAAA/I,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA8E,EAAAC,EAAA1J,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAqF,EAAAvE,MAAAsE,EAAAC,EAAAtE,KAAAC,MAAsC,KAA7BI,EAA6BgE,EAAAjJ,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAgE,EAAA/E,EAAAe,GAAA,QAAAgE,EAAA/D,MALI,MAAAD,GAAA8D,EAAA7E,EAAAe,GAAA,QAAA8D,EAAA7D,OAgCrCxB,EAAa,CACf,IADewF,EACXnM,EAAU,8CACVmD,EAAM,GAFKiJ,EAAA5J,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAwF,EAAAzE,MAAAwE,EAAAC,EAAAxE,KAAAC,MAAqC,KAA5B7B,EAA4BmG,EAAAnJ,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAkE,EAAAjF,EAAAe,GAAA,QAAAkE,EAAAjE,IA4BfhD,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACQxI,QAASA,EACT+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAC3C,CACLZ,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EACFrC,EAAMgB,MAAM,6DACZA,EAAQ,kEAEN,GAAoB,+DAAhBhB,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAlCvE,IAAAgD,EAAAC,EAAA9J,OAAAkF,EAAA,EAAAlF,CAsCgBqE,GAtChB,QAAA0F,EAAA,WAsCItE,EAtCJoE,EAAArJ,MAuCH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAsG,EAAA3E,MAAA0E,EAAAC,EAAA1E,KAAAC,MAAsC,KAA7BI,EAA6BsE,KAtCjC,MAAArE,GAAAoE,EAAAnF,EAAAe,GAAA,QAAAoE,EAAAnE,IA2DD3C,GAASC,GAAOA,GAAOD,EACzBL,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACMxI,QAAQ,4DACR+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAG9CS,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOC,eAAezE,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAkEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAz9ClBrF,EA69CnBuM,iBAAmB,SAACrI,EAAesI,EAAQ/H,EAAO3B,EAAM0G,EAAQC,EAAUlE,EAAOC,GAC/E,IAAIzF,EAAO,+CAAAuI,OAAkDmB,EAAlD,KACXvE,IAASL,OAAOzE,EAAAC,EAAAC,cAACiI,EAAD,CACYxI,QAASA,EACT+D,KAAM,WACFoB,IAASC,uBAAuBC,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAl+CpD,IAAInB,EAAgB,IAAIuI,gBACtB,aACAC,YAAUC,KACV,GACA,EACA,CACEC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GAClB,CACDC,2BAA4BhN,EAAKoE,uBACjC6I,qBAAsBjN,EAAKiE,mBAdd,OAiBjBC,EAAcgJ,aAAapH,IAASqH,WACpCjJ,EAAckJ,UAAUtH,IAASC,QACjC/F,EAAKF,MAAQ,CACXoG,UAAWhC,GAEb8B,OAAOC,eAAP1D,OAAA8K,EAAA,EAAA9K,CAAAvC,GAtBiBA,uDAyBV,IACCkG,EAAcrF,KAAKf,MAAnBoG,UACR,OACE9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgN,EAAAjN,EAAD,CACE6D,cAAegC,EACfqH,eAAgB1M,KAAK2D,aACrBgE,iBAAkB3H,KAAK2H,iBACvBC,eAAgB5H,KAAK4H,eACrBoD,UAAWhL,KAAKgL,UAChB9C,SAAUlI,KAAKkI,SACfwD,iBAAkB1L,KAAK0L,4BAtCfxL,cCs8CLgD,sDAn8Cb,SAAAC,EAAY/D,GAAO,IAAAD,EAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAmD,IACjBhE,EAAAyC,EAAAC,KAAA7B,KAAMZ,IA4CRgE,iBAAmB,SAACC,EAAeC,GACjC,OAAO,GA9CUnE,EAkDnBoE,uBAAyB,SAACF,EAAeG,EAAaC,GACpD,OAAOC,IAAO,wBAnDGvE,EAuDnBwE,aAAe,SAACN,EAAeO,GA+N7B,IAAIC,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAnB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAkB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAOE,EAAMe,OACvD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,eAClD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,cAC1G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAlRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAMI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCC,EACnCC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAQ,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAmC,KAA1B1E,EAA0BiE,EAAApE,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAG,IAC1CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAG,IACpCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAY,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAmB,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAsC,KAA7BI,EAA6BF,EAAA/E,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,MALI,MAAAD,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,OAgCrCxB,EAAa,CACf,IADeyB,EACXpI,EAAU,8CACVmD,EAAM,GAFKkF,EAAA7F,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAyB,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAqC,KAA5B7B,EAA4BoC,EAAApF,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IACxEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAGpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,mBAAmB+D,SAAU,QAE1E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAC9E,IAAI5C,EAAO4B,EAAMK,MACnB4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,mBAAmB+D,SAAU,GAvCxE,IAAAC,EAAAC,EAAA/G,OAAAkF,EAAA,EAAAlF,CA2CgBqE,GA3ChB,QAAA2C,EAAA,WA2CIvB,EA3CJqB,EAAAtG,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAjBlC,IAAAuD,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAsC,KAA7BI,EAA6BuB,KA3CjC,MAAAtB,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAsEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA7UlBrF,EAiVnB+I,SAAW,SAAC7E,EAAesF,EAAQC,EAAUlE,EAAOC,EAAK1C,EAAMgG,GAC7D,IAAID,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAO,cAAgBP,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACjGsD,MAAOA,EACPC,IAAKA,EACLZ,WAAY4E,EACZR,QAAS,UACTC,aAAa,EACbxD,MAAO,IAgOT,IAAIf,EAAeR,EAAcS,YAAYoE,EAASnE,YAAY/B,KAClEgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAcgH,EAASjE,MAAMC,UAAU,EAAGgE,EAASjE,MAAME,OAAO,MACnH5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOwE,EAASxD,OAAQjE,WAAYiD,IAAOwE,EAASvD,OAC1D,KAAnBuD,EAAStD,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,eAClD,+DAAnBoG,EAAStD,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,cAC7G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYkD,GAC1BjD,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA9QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAKnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwC,EACnCtC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoC,EAAApH,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2C,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAmC,KAA1B1E,EAA0BwG,EAAA3G,MACjCuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC1CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACpCmC,EAAEtC,aAAemE,EAASnE,aACtB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAOkH,EAASlH,KACrE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0C,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiD,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAsC,KAA7BI,EAA6B4B,EAAA7G,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,MALI,MAAAD,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,OAgCrCxB,EAAa,CACf,IADeoD,EACX/J,EAAU,8CACVmD,EAAM,GAFK6G,EAAAxH,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoD,EAAArC,MAAAoC,EAAAC,EAAApC,KAAAC,MAAqC,KAA5B7B,EAA4B+D,EAAA/G,MAC/BgG,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,WAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,aAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8B,EAAA7C,EAAAe,GAAA,QAAA8B,EAAA7B,IA4BfuF,MAAM1N,OACD,CACLgJ,EAASjE,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAC3EpC,EAAcsE,iBAAiBO,EAAUxD,GACzCrB,EAAcuE,eAAeM,EAAUvD,GAEvC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiBO,EAAU2E,GACzC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAeM,EAAU4E,GACvC5E,EAAStD,MAAM,6DACfA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,mBAAmB+D,SAAU,QAE1E,GAAuB,+DAAnBL,EAAStD,MAAwE,CACvF,IAAI5C,EAAOkG,EAASjE,MAChB4D,EAAYK,EAASxD,MACrBoD,EAAUI,EAASvD,IACnBoD,EAAWG,EAASnE,WACxBV,EAAc2B,YAAYkD,GAC1B,IAAIiB,EAAiB,EACrB9F,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMmI,IAAgBA,EAAiBlB,EAAKjH,GAAK,KAG5D,IAAIoI,EAAkB,CACpBpI,GAAImI,EACJlF,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASe,GACvBnE,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,mBAAmB+D,SAAU,GAtCxE,IAAAc,EAAAC,EAAA5H,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAwD,EAAA,WA0CIpC,EA1CJkC,EAAAnH,MA4CH,IAAIwH,EAAsB,EAC1BrG,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAM0I,IAAqBA,EAAsBzB,EAAKjH,GAAK,KAGtE,IAAI2I,EAAoB,CACtB3I,GAAI0I,EACJzF,MAAOiE,EAASjE,MAChBS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASsB,GACvB1E,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAoE,EAAAzC,MAAAwC,EAAAC,EAAAxC,KAAAC,MAAsC,KAA7BI,EAA6BoC,KA1CjC,MAAAnC,GAAAkC,EAAAjD,EAAAe,GAAA,QAAAkC,EAAAjC,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAtnBlBrF,EA0nBnBwI,iBAAmB,SAACtE,EAAeO,EAAOgG,GA0NxC,IAAI/F,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOkG,GAAWnJ,WAAYiD,IAAOE,EAAMe,OACpD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,eAClD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,cAC1G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA7QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAKnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwD,EACnCtD,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoD,EAAApI,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2D,EAAAjD,MAAAgD,EAAAC,EAAAhD,KAAAC,MAAmC,KAA1B1E,EAA0BwH,EAAA3H,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0D,EAAAC,EAAAtI,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiE,EAAAnD,MAAAkD,EAAAC,EAAAlD,KAAAC,MAAsC,KAA7BI,EAA6B4C,EAAA7H,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4C,EAAA3D,EAAAe,GAAA,QAAA4C,EAAA3C,MALI,MAAAD,GAAA0C,EAAAzD,EAAAe,GAAA,QAAA0C,EAAAzC,OAgCrCxB,EAAa,CACf,IADeoE,EACX/K,EAAU,8CACVmD,EAAM,GAFK6H,EAAAxI,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoE,EAAArD,MAAAoD,EAAAC,EAAApD,KAAAC,MAAqC,KAA5B7B,EAA4B+E,EAAA/H,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8C,EAAA7D,EAAAe,GAAA,QAAA8C,EAAA7C,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IACvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,mBAAmB+D,SAAU,QAE1E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,mBAAmB+D,SAAU,GAtCxE,IAAA4B,EAAAC,EAAA1I,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAsE,EAAA,WA0CIlD,EA1CJgD,EAAAjI,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAAkF,EAAAvD,MAAAsD,EAAAC,EAAAtD,KAAAC,MAAsC,KAA7BI,EAA6BkD,KA1CjC,MAAAjD,GAAAgD,EAAA/D,EAAAe,GAAA,QAAAgD,EAAA/C,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA34BlBrF,EA+4BnByI,eAAiB,SAACvE,EAAeO,EAAO0G,GAyNtC,IAAIzG,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAO4G,KACjD,KAAhB1G,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,eAClD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,cAC1G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA5QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAKnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCkE,EACnChE,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoB8D,EAAA9I,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAqE,EAAA3D,MAAA0D,EAAAC,EAAA1D,KAAAC,MAAmC,KAA1B1E,EAA0BkI,EAAArI,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAoE,EAAAC,EAAAhJ,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAA2E,EAAA7D,MAAA4D,EAAAC,EAAA5D,KAAAC,MAAsC,KAA7BI,EAA6BsD,EAAAvI,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAsD,EAAArE,EAAAe,GAAA,QAAAsD,EAAArD,MALI,MAAAD,GAAAoD,EAAAnE,EAAAe,GAAA,QAAAoD,EAAAnD,OAgCrCxB,EAAa,CACf,IADe8E,EACXzL,EAAU,8CACVmD,EAAM,GAFKuI,EAAAlJ,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAA8E,EAAA/D,MAAA8D,EAAAC,EAAA9D,KAAAC,MAAqC,KAA5B7B,EAA4ByF,EAAAzI,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAwD,EAAAvE,EAAAe,GAAA,QAAAwD,EAAAvD,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IACvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,mBAAmB+D,SAAU,QAE1E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,mBAAmB+D,SAAU,GAtCxE,IAAAsC,EAAAC,EAAApJ,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAgF,EAAA,WA0CI5D,EA1CJ0D,EAAA3I,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAA4F,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAAsC,KAA7BI,EAA6B4D,KA1CjC,MAAA3D,GAAA0D,EAAAzE,EAAAe,GAAA,QAAA0D,EAAAzD,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAmEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA/pClBrF,EAmqCnB6L,UAAY,SAAC3H,EAAeO,EAAO+E,EAAQC,EAAUlE,EAAOC,GAC1DtB,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GACpCf,EAAMK,MAAQL,EAAMK,MAAMC,UAAU,EAAEN,EAAMK,MAAME,OAAO,IAAMT,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACzIjC,EAAKwB,SAAS,CACV0E,UAAWhC,IAyNf,IAAIQ,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAhB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAe9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOgB,GAAQjE,WAAYiD,IAAOiB,KAC3C,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,eAClD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,UAAUP,QAAQ,cAC1G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA3QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAKnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuC4E,EACnC1E,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBwE,EAAAxJ,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA+E,EAAArE,MAAAoE,EAAAC,EAAApE,KAAAC,MAAmC,KAA1B1E,EAA0B4I,EAAA/I,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA8E,EAAAC,EAAA1J,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAqF,EAAAvE,MAAAsE,EAAAC,EAAAtE,KAAAC,MAAsC,KAA7BI,EAA6BgE,EAAAjJ,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAgE,EAAA/E,EAAAe,GAAA,QAAAgE,EAAA/D,MALI,MAAAD,GAAA8D,EAAA7E,EAAAe,GAAA,QAAA8D,EAAA7D,OAgCrCxB,EAAa,CACf,IADewF,EACXnM,EAAU,8CACVmD,EAAM,GAFKiJ,EAAA5J,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAwF,EAAAzE,MAAAwE,EAAAC,EAAAxE,KAAAC,MAAqC,KAA5B7B,EAA4BmG,EAAAnJ,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAkE,EAAAjF,EAAAe,GAAA,QAAAkE,EAAAjE,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IACvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,mBAAmB+D,SAAU,QAE1E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,mBAAmB+D,SAAU,GAtCxE,IAAAgD,EAAAC,EAAA9J,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAA0F,EAAA,WA0CItE,EA1CJoE,EAAArJ,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAAsG,EAAA3E,MAAA0E,EAAAC,EAAA1E,KAAAC,MAAsC,KAA7BI,EAA6BsE,KA1CjC,MAAArE,GAAAoE,EAAAnF,EAAAe,GAAA,QAAAoE,EAAAnE,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOwH,gBAAgBhM,SAAS,CAC9B0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAkEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAx7ClBrF,EA47CnBuM,iBAAmB,SAACrI,EAAesI,EAAQ/H,EAAO3B,EAAM0G,EAAQC,EAAUlE,EAAOC,GAC/E,IAAIzF,EAAO,+CAAAuI,OAAkDmB,EAAlD,KACXgE,MAAM1N,IA37CN,IAAImE,EAAgB,IAAIuI,gBACtB,aACAC,YAAUC,KACV,GACA,EACA,CACEC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GAClB,CACDC,2BAA4BhN,EAAKoE,uBACjC6I,qBAAsBjN,EAAKiE,mBAfd,OAkBjBC,EAAcgJ,aAAapH,IAASqH,WACpCjJ,EAAckJ,UAAUtH,IAASC,QACjC/F,EAAKF,MAAQ,CACXoG,UAAWhC,GAEb8B,OAAOwH,gBAAPjL,OAAA8K,EAAA,EAAA9K,CAAAvC,GAvBiBA,uDAyBV,IACCkG,EAAcrF,KAAKf,MAAnBoG,UACR,OACE9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgN,EAAAjN,EAAD,CACE6D,cAAegC,EACfqH,eAAgB1M,KAAK2D,aACrBgE,iBAAkB3H,KAAK2H,iBACvBC,eAAgB5H,KAAK4H,eACrBoD,UAAWhL,KAAKgL,UAChB9C,SAAUlI,KAAKkI,SACfwD,iBAAkB1L,KAAK0L,4BAtCfxL,cCs8CLgD,sDAr8Cb,SAAAC,EAAY/D,GAAO,IAAAD,EAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAmD,IACjBhE,EAAAyC,EAAAC,KAAA7B,KAAMZ,IA6CRgE,iBAAmB,SAACC,EAAeC,GACjC,OAAO,GA/CUnE,EAmDnBoE,uBAAyB,SAACF,EAAeG,EAAaC,GACpD,OAAOC,IAAO,wBApDGvE,EAwDnBwE,aAAe,SAACN,EAAeO,GAwN7B,IAAIC,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAOE,EAAMe,OACvD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,eACpD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,cAC5G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA3QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCC,EACnCC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAQ,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAmC,KAA1B1E,EAA0BiE,EAAApE,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAY,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAmB,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAsC,KAA7BI,EAA6BF,EAAA/E,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,MALI,MAAAD,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,OAgCrCxB,EAAa,CACf,IADeyB,EACXpI,EAAU,8CACVmD,EAAM,GAFKkF,EAAA7F,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAyB,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAqC,KAA5B7B,EAA4BoC,EAAApF,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IACxEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,qBAAqB+D,SAAU,QAE5E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,qBAAqB+D,SAAU,GAtC1E,IAAAC,EAAAC,EAAA/G,OAAAkF,EAAA,EAAAlF,CAwCgBqE,GAxChB,QAAA2C,EAAA,WAwCIvB,EAxCJqB,EAAAtG,MA0CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAuD,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAsC,KAA7BI,EAA6BuB,KAxCjC,MAAAtB,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IA6DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAvUlBrF,EA2UnB+I,SAAW,SAAC7E,EAAesF,EAAQC,EAAUlE,EAAOC,EAAK1C,EAAMgG,GAC7D,IAAID,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAO,cAAgBP,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACjGsD,MAAOA,EACPC,IAAKA,EACLZ,WAAY4E,EACZR,QAAS,UACTC,aAAa,EACbxD,MAAO,IAiOT,IAAIf,EAAeR,EAAcS,YAAYoE,EAASnE,YAAY/B,KAClEgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAcgH,EAASjE,MAAMC,UAAU,EAAGgE,EAASjE,MAAME,OAAO,MACnH5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOwE,EAASxD,OAAQjE,WAAYiD,IAAOwE,EAASvD,OAC1D,KAAnBuD,EAAStD,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,eACpD,+DAAnBoG,EAAStD,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,cAC/G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYkD,GAC1BjD,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwC,EACnCtC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoC,EAAApH,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2C,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAmC,KAA1B1E,EAA0BwG,EAAA3G,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAemE,EAASnE,aACtB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAOkH,EAASlH,KACrE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0C,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiD,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAsC,KAA7BI,EAA6B4B,EAAA7G,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,MALI,MAAAD,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,OAgCrCxB,EAAa,CACf,IADeoD,EACX/J,EAAU,8CACVmD,EAAM,GAFK6G,EAAAxH,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoD,EAAArC,MAAAoC,EAAAC,EAAApC,KAAAC,MAAqC,KAA5B7B,EAA4B+D,EAAA/G,MAC/BgG,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,WAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,aAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8B,EAAA7C,EAAAe,GAAA,QAAA8B,EAAA7B,IA4BfuF,MAAM1N,OACD,CACLgJ,EAASjE,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAC3EpC,EAAcsE,iBAAiBO,EAAUxD,GACzCrB,EAAcuE,eAAeM,EAAUvD,GAEvC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiBO,EAAU2E,GACzC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAeM,EAAU4E,GACvC5E,EAAStD,MAAM,6DACfA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,qBAAqB+D,SAAU,QAE5E,GAAuB,+DAAnBL,EAAStD,MAAwE,CACvF,IAAI5C,EAAOkG,EAASjE,MAChB4D,EAAYK,EAASxD,MACrBoD,EAAUI,EAASvD,IACnBoD,EAAWG,EAASnE,WACxBV,EAAc2B,YAAYkD,GAC1B,IAAIiB,EAAiB,EACrB9F,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMmI,IAAgBA,EAAiBlB,EAAKjH,GAAK,KAG5D,IAAIoI,EAAkB,CACpBpI,GAAImI,EACJlF,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASe,GACvBnE,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,qBAAqB+D,SAAU,GAtC1E,IAAAc,EAAAC,EAAA5H,OAAAkF,EAAA,EAAAlF,CAyCgBqE,GAzChB,QAAAwD,EAAA,WAyCIpC,EAzCJkC,EAAAnH,MA2CH,IAAIwH,EAAsB,EAC1BrG,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAM0I,IAAqBA,EAAsBzB,EAAKjH,GAAK,KAGtE,IAAI2I,EAAoB,CACtB3I,GAAI0I,EACJzF,MAAOiE,EAASjE,MAChBS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASsB,GACvB1E,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAoE,EAAAzC,MAAAwC,EAAAC,EAAAxC,KAAAC,MAAsC,KAA7BI,EAA6BoC,KAzCjC,MAAAnC,GAAAkC,EAAAjD,EAAAe,GAAA,QAAAkC,EAAAjC,IA8DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAjnBlBrF,EAqnBnBwI,iBAAmB,SAACtE,EAAeO,EAAOgG,GA6NxC,IAAI/F,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOkG,GAAWnJ,WAAYiD,IAAOE,EAAMe,OACpD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,eACpD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,cAC5G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAhRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwD,EACnCtD,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoD,EAAApI,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2D,EAAAjD,MAAAgD,EAAAC,EAAAhD,KAAAC,MAAmC,KAA1B1E,EAA0BwH,EAAA3H,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0D,EAAAC,EAAAtI,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiE,EAAAnD,MAAAkD,EAAAC,EAAAlD,KAAAC,MAAsC,KAA7BI,EAA6B4C,EAAA7H,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4C,EAAA3D,EAAAe,GAAA,QAAA4C,EAAA3C,MALI,MAAAD,GAAA0C,EAAAzD,EAAAe,GAAA,QAAA0C,EAAAzC,OAgCrCxB,EAAa,CACf,IADeoE,EACX/K,EAAU,8CACVmD,EAAM,GAFK6H,EAAAxI,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoE,EAAArD,MAAAoD,EAAAC,EAAApD,KAAAC,MAAqC,KAA5B7B,EAA4B+E,EAAA/H,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8C,EAAA7D,EAAAe,GAAA,QAAA8C,EAAA7C,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IACvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,qBAAqB+D,SAAU,QAE5E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,qBAAqB+D,SAAU,GAtC1E,IAAA4B,EAAAC,EAAA1I,OAAAkF,EAAA,EAAAlF,CAyCgBqE,GAzChB,QAAAsE,EAAA,WAyCIlD,EAzCJgD,EAAAjI,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAAkF,EAAAvD,MAAAsD,EAAAC,EAAAtD,KAAAC,MAAsC,KAA7BI,EAA6BkD,KAzCjC,MAAAjD,GAAAgD,EAAA/D,EAAAe,GAAA,QAAAgD,EAAA/C,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAz4BlBrF,EA64BnByI,eAAiB,SAACvE,EAAeO,EAAO0G,GAyNtC,IAAIzG,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAO4G,KACjD,KAAhB1G,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,eACpD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,cAC5G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA5QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAIhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCkE,EACnChE,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoB8D,EAAA9I,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAqE,EAAA3D,MAAA0D,EAAAC,EAAA1D,KAAAC,MAAmC,KAA1B1E,EAA0BkI,EAAArI,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAoE,EAAAC,EAAAhJ,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAA2E,EAAA7D,MAAA4D,EAAAC,EAAA5D,KAAAC,MAAsC,KAA7BI,EAA6BsD,EAAAvI,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAsD,EAAArE,EAAAe,GAAA,QAAAsD,EAAArD,MALI,MAAAD,GAAAoD,EAAAnE,EAAAe,GAAA,QAAAoD,EAAAnD,OAgCrCxB,EAAa,CACf,IADe8E,EACXzL,EAAU,8CACVmD,EAAM,GAFKuI,EAAAlJ,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAA8E,EAAA/D,MAAA8D,EAAAC,EAAA9D,KAAAC,MAAqC,KAA5B7B,EAA4ByF,EAAAzI,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAwD,EAAAvE,EAAAe,GAAA,QAAAwD,EAAAvD,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IACvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,qBAAqB+D,SAAU,QAE5E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,qBAAqB+D,SAAU,GAtC1E,IAAAsC,EAAAC,EAAApJ,OAAAkF,EAAA,EAAAlF,CAyCgBqE,GAzChB,QAAAgF,EAAA,WAyCI5D,EAzCJ0D,EAAA3I,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAA4F,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAAsC,KAA7BI,EAA6B4D,KAzCjC,MAAA3D,GAAA0D,EAAAzE,EAAAe,GAAA,QAAA0D,EAAAzD,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA7pClBrF,EAiqCnB6L,UAAY,SAAC3H,EAAeO,EAAO+E,EAAQC,EAAUlE,EAAOC,GAC1DtB,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GACpCf,EAAMK,MAAQL,EAAMK,MAAMC,UAAU,EAAEN,EAAMK,MAAME,OAAO,IAAMT,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACzIjC,EAAKwB,SAAS,CACV0E,UAAWhC,IA6Nf,IAAIQ,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAKuN,UAAU,QAAQhM,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAhB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAe9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOgB,GAAQjE,WAAYiD,IAAOiB,KAC3C,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,eACpD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,YAAYP,QAAQ,cAC5G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuC4E,EACnC1E,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBwE,EAAAxJ,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA+E,EAAArE,MAAAoE,EAAAC,EAAApE,KAAAC,MAAmC,KAA1B1E,EAA0B4I,EAAA/I,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA8E,EAAAC,EAAA1J,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAqF,EAAAvE,MAAAsE,EAAAC,EAAAtE,KAAAC,MAAsC,KAA7BI,EAA6BgE,EAAAjJ,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAgE,EAAA/E,EAAAe,GAAA,QAAAgE,EAAA/D,MALI,MAAAD,GAAA8D,EAAA7E,EAAAe,GAAA,QAAA8D,EAAA7D,OAgCrCxB,EAAa,CACf,IADewF,EACXnM,EAAU,8CACVmD,EAAM,GAFKiJ,EAAA5J,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAwF,EAAAzE,MAAAwE,EAAAC,EAAAxE,KAAAC,MAAqC,KAA5B7B,EAA4BmG,EAAAnJ,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAkE,EAAAjF,EAAAe,GAAA,QAAAkE,EAAAjE,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,qBAAqB+D,SAAU,QAE5E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,qBAAqB+D,SAAU,GAvC1E,IAAAgD,EAAAC,EAAA9J,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAA0F,EAAA,WA0CItE,EA1CJoE,EAAArJ,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAAsG,EAAA3E,MAAA0E,EAAAC,EAAA1E,KAAAC,MAAsC,KAA7BI,EAA6BsE,KA1CjC,MAAArE,GAAAoE,EAAAnF,EAAAe,GAAA,QAAAoE,EAAAnE,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO4H,kBAAkBpM,SAAS,CAChC0E,UAAWhC,KAOfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAkEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA17ClBrF,EA87CnBuM,iBAAmB,SAACrI,EAAesI,EAAQ/H,EAAO3B,EAAM0G,EAAQC,EAAUlE,EAAOC,GAC/E,IAAIzF,EAAO,+CAAAuI,OAAkDmB,EAAlD,KACXgE,MAAM1N,IA77CN,IAAImE,EAAgB,IAAIuI,gBACtB,aACAC,YAAUC,KACV,GACA,EACA,CACEC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GAClB,CACDC,2BAA4BhN,EAAKoE,uBACjC6I,qBAAsBjN,EAAKiE,mBAfd,OAmBjBC,EAAcgJ,aAAapH,IAASqH,WACpCjJ,EAAckJ,UAAUtH,IAASC,QACjC/F,EAAKF,MAAQ,CACXoG,UAAWhC,GAEb8B,OAAO4H,kBAAPrL,OAAA8K,EAAA,EAAA9K,CAAAvC,GAxBiBA,uDA0BV,IACCkG,EAAcrF,KAAKf,MAAnBoG,UACR,OACE9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgN,EAAAjN,EAAD,CACE6D,cAAegC,EACfqH,eAAgB1M,KAAK2D,aACrBgE,iBAAkB3H,KAAK2H,iBACvBC,eAAgB5H,KAAK4H,eACrBoD,UAAWhL,KAAKgL,UAChB9C,SAAUlI,KAAKkI,SACfwD,iBAAkB1L,KAAK0L,4BAvCfxL,cCk9CLgD,sDAj9Cb,SAAAC,EAAY/D,GAAO,IAAAD,EAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAmD,IACjBhE,EAAAyC,EAAAC,KAAA7B,KAAMZ,IA8CRgE,iBAAmB,SAACC,EAAeC,GACjC,OAAO,GAhDUnE,EAoDnBoE,uBAAyB,SAACF,EAAeG,EAAaC,GACpD,OAAOC,IAAO,wBArDGvE,EAyDnBwE,aAAe,SAACN,EAAeO,GAiO7B,IAAIC,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAOE,EAAMe,OACvD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QApRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAMI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCC,EACnCC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAQ,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAmC,KAA1B1E,EAA0BiE,EAAApE,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAY,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAmB,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAsC,KAA7BI,EAA6BF,EAAA/E,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,MALI,MAAAD,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,OAgCrCxB,EAAa,CACf,IADeyB,EACXpI,EAAU,8CACVmD,EAAM,GAFKkF,EAAA7F,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAyB,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAqC,KAA5B7B,EAA4BoC,EAAApF,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAExEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAGpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE3E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAxCzE,IAAAC,EAAAC,EAAA/G,OAAAkF,EAAA,EAAAlF,CA2CgBqE,GA3ChB,QAAA2C,EAAA,WA2CIvB,EA3CJqB,EAAAtG,MA6CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAuD,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAsC,KAA7BI,EAA6BuB,KA3CjC,MAAAtB,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,KAOfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAjVlBrF,EAqVnB+I,SAAW,SAAC7E,EAAesF,EAAQC,EAAUlE,EAAOC,EAAK1C,EAAMgG,GAC7D,IAAID,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAO,cAAgBP,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACjGsD,MAAOA,EACPC,IAAKA,EACLZ,WAAY4E,EACZR,QAAS,UACTC,aAAa,EACbxD,MAAO,IAgOT,IAAIf,EAAeR,EAAcS,YAAYoE,EAASnE,YAAY/B,KAClEgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAcgH,EAASjE,MAAMC,UAAU,EAAGgE,EAASjE,MAAME,OAAO,MACnH5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOwE,EAASxD,OAAQjE,WAAYiD,IAAOwE,EAASvD,OAC1D,KAAnBuD,EAAStD,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAnBoG,EAAStD,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC9G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYkD,GAC1BjD,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAhRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwC,EACnCtC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoC,EAAApH,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2C,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAmC,KAA1B1E,EAA0BwG,EAAA3G,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAemE,EAASnE,aACtB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAOkH,EAASlH,KACrE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0C,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiD,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAsC,KAA7BI,EAA6B4B,EAAA7G,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,MALI,MAAAD,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,OAgCrCxB,EAAa,CACf,IADeoD,EACX/J,EAAU,8CACVmD,EAAM,GAFK6G,EAAAxH,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoD,EAAArC,MAAAoC,EAAAC,EAAApC,KAAAC,MAAqC,KAA5B7B,EAA4B+D,EAAA/G,MAC/BgG,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,WAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,aAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8B,EAAA7C,EAAAe,GAAA,QAAA8B,EAAA7B,IA4BfuF,MAAM1N,OACD,CACLgJ,EAASjE,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAE3EpC,EAAcsE,iBAAiBO,EAAUxD,GACzCrB,EAAcuE,eAAeM,EAAUvD,GAEvC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiBO,EAAU2E,GACzC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAeM,EAAU4E,GACvC5E,EAAStD,MAAM,6DACfA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE3E,GAAuB,+DAAnBL,EAAStD,MAAwE,CACvF,IAAI5C,EAAOkG,EAASjE,MAChB4D,EAAYK,EAASxD,MACrBoD,EAAUI,EAASvD,IACnBoD,EAAWG,EAASnE,WACxBV,EAAc2B,YAAYkD,GAC1B,IAAIiB,EAAiB,EACrB9F,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMmI,IAAgBA,EAAiBlB,EAAKjH,GAAK,KAG5D,IAAIoI,EAAkB,CACpBpI,GAAImI,EACJlF,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASe,GACvBnE,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAAc,EAAAC,EAAA5H,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAwD,EAAA,WA0CIpC,EA1CJkC,EAAAnH,MA4CH,IAAIwH,EAAsB,EAC1BrG,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAM0I,IAAqBA,EAAsBzB,EAAKjH,GAAK,KAGtE,IAAI2I,EAAoB,CACtB3I,GAAI0I,EACJzF,MAAOiE,EAASjE,MAChBS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASsB,GACvB1E,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAoE,EAAAzC,MAAAwC,EAAAC,EAAAxC,KAAAC,MAAsC,KAA7BI,EAA6BoC,KA1CjC,MAAAnC,GAAAkC,EAAAjD,EAAAe,GAAA,QAAAkC,EAAAjC,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA1nBlBrF,EA8nBnBwI,iBAAmB,SAACtE,EAAeO,EAAOgG,GA6NxC,IAAI/F,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAhB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAe9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOkG,GAAWnJ,WAAYiD,IAAOE,EAAMe,OACpD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAhRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwD,EACnCtD,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoD,EAAApI,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2D,EAAAjD,MAAAgD,EAAAC,EAAAhD,KAAAC,MAAmC,KAA1B1E,EAA0BwH,EAAA3H,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0D,EAAAC,EAAAtI,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiE,EAAAnD,MAAAkD,EAAAC,EAAAlD,KAAAC,MAAsC,KAA7BI,EAA6B4C,EAAA7H,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4C,EAAA3D,EAAAe,GAAA,QAAA4C,EAAA3C,MALI,MAAAD,GAAA0C,EAAAzD,EAAAe,GAAA,QAAA0C,EAAAzC,OAgCrCxB,EAAa,CACf,IADeoE,EACX/K,EAAU,8CACVmD,EAAM,GAFK6H,EAAAxI,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoE,EAAArD,MAAAoD,EAAAC,EAAApD,KAAAC,MAAqC,KAA5B7B,EAA4B+E,EAAA/H,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8C,EAAA7D,EAAAe,GAAA,QAAA8C,EAAA7C,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE3E,GAAoB,+DAAhB3E,EAAMK,MAAwE,CACpF,IAAIjC,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAA4B,EAAAC,EAAA1I,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAsE,EAAA,WA0CIlD,EA1CJgD,EAAAjI,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAAkF,EAAAvD,MAAAsD,EAAAC,EAAAtD,KAAAC,MAAsC,KAA7BI,EAA6BkD,KA1CjC,MAAAjD,GAAAgD,EAAA/D,EAAAe,GAAA,QAAAgD,EAAA/C,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAmEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAl5BlBrF,EAs5BnByI,eAAiB,SAACvE,EAAeO,EAAO0G,GA4NtC,IAAIzG,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAO4G,KACjD,KAAhB1G,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCkE,EACnChE,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoB8D,EAAA9I,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAqE,EAAA3D,MAAA0D,EAAAC,EAAA1D,KAAAC,MAAmC,KAA1B1E,EAA0BkI,EAAArI,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAoE,EAAAC,EAAAhJ,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAA2E,EAAA7D,MAAA4D,EAAAC,EAAA5D,KAAAC,MAAsC,KAA7BI,EAA6BsD,EAAAvI,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAsD,EAAArE,EAAAe,GAAA,QAAAsD,EAAArD,MALI,MAAAD,GAAAoD,EAAAnE,EAAAe,GAAA,QAAAoD,EAAAnD,OAgCrCxB,EAAa,CACf,IADe8E,EACXzL,EAAU,8CACVmD,EAAM,GAFKuI,EAAAlJ,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAA8E,EAAA/D,MAAA8D,EAAAC,EAAA9D,KAAAC,MAAqC,KAA5B7B,EAA4ByF,EAAAzI,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAwD,EAAAvE,EAAAe,GAAA,QAAAwD,EAAAvD,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE3E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAAsC,EAAAC,EAAApJ,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAgF,EAAA,WA0CI5D,EA1CJ0D,EAAA3I,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAA4F,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAAsC,KAA7BI,EAA6B4D,KA1CjC,MAAA3D,GAAA0D,EAAAzE,EAAAe,GAAA,QAAA0D,EAAAzD,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAzqClBrF,EA6qCnB6L,UAAY,SAAC3H,EAAeO,EAAO+E,EAAQC,EAAUlE,EAAOC,GACxDtB,EAAcsE,iBAAiB/D,EAAOc,GACxCrB,EAAcuE,eAAehE,EAAOe,GACpCf,EAAMK,MAAQL,EAAMK,MAAMC,UAAU,EAAEN,EAAMK,MAAME,OAAO,IAAMT,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACzIjC,EAAKwB,SAAS,CACV0E,UAAWhC,IA6Nf,IAAIQ,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOgB,GAAQjE,WAAYiD,IAAOiB,KAC3C,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAIhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuC4E,EACnC1E,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBwE,EAAAxJ,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA+E,EAAArE,MAAAoE,EAAAC,EAAApE,KAAAC,MAAmC,KAA1B1E,EAA0B4I,EAAA/I,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA8E,EAAAC,EAAA1J,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAqF,EAAAvE,MAAAsE,EAAAC,EAAAtE,KAAAC,MAAsC,KAA7BI,EAA6BgE,EAAAjJ,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAgE,EAAA/E,EAAAe,GAAA,QAAAgE,EAAA/D,MALI,MAAAD,GAAA8D,EAAA7E,EAAAe,GAAA,QAAA8D,EAAA7D,OAgCrCxB,EAAa,CACf,IADewF,EACXnM,EAAU,8CACVmD,EAAM,GAFKiJ,EAAA5J,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAwF,EAAAzE,MAAAwE,EAAAC,EAAAxE,KAAAC,MAAqC,KAA5B7B,EAA4BmG,EAAAnJ,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAkE,EAAAjF,EAAAe,GAAA,QAAAkE,EAAAjE,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE3E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAAgD,EAAAC,EAAA9J,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAA0F,EAAA,WA0CItE,EA1CJoE,EAAArJ,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAnBlC,IAAAsG,EAAA3E,MAAA0E,EAAAC,EAAA1E,KAAAC,MAAsC,KAA7BI,EAA6BsE,KA1CjC,MAAArE,GAAAoE,EAAAnF,EAAAe,GAAA,QAAAoE,EAAAnE,IAgED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO8H,iBAAiBtM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAt8ClBrF,EA08CnBuM,iBAAmB,SAACrI,EAAesI,EAAQ/H,EAAO3B,EAAM0G,EAAQC,EAAUlE,EAAOC,GAC/E,IAAIzF,EAAO,+CAAAuI,OAAkDmB,EAAlD,KACXgE,MAAM1N,IAz8CN,IAAImE,EAAgB,IAAIuI,gBACtB,aACAC,YAAUC,KACV,GACA,EACA,CAEEC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GAClB,CACDC,2BAA4BhN,EAAKoE,uBACjC6I,qBAAsBjN,EAAKiE,mBAhBd,OAoBjBC,EAAcgJ,aAAapH,IAASqH,WACpCjJ,EAAckJ,UAAUtH,IAASC,QACjC/F,EAAKF,MAAQ,CACXoG,UAAWhC,GAEb8B,OAAO8H,iBAAPvL,OAAA8K,EAAA,EAAA9K,CAAAvC,GAzBiBA,uDA2BV,IACCkG,EAAcrF,KAAKf,MAAnBoG,UACR,OACE9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgN,EAAAjN,EAAD,CACE6D,cAAegC,EACfqH,eAAgB1M,KAAK2D,aACrBgE,iBAAkB3H,KAAK2H,iBACvBC,eAAgB5H,KAAK4H,eACrBoD,UAAWhL,KAAKgL,UAChB9C,SAAUlI,KAAKkI,SACfwD,iBAAkB1L,KAAK0L,4BAxCfxL,cC+8CLgD,sDA98Cb,SAAAC,EAAY/D,GAAO,IAAAD,EAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAmD,IACjBhE,EAAAyC,EAAAC,KAAA7B,KAAMZ,IA4CRgE,iBAAmB,SAACC,EAAeC,GACjC,OAAO,GA9CUnE,EAkDnBoE,uBAAyB,SAACF,EAAeG,EAAaC,GACpD,OAAOC,IAAO,wBAnDGvE,EAuDnBwE,aAAe,SAACN,EAAeO,GAgO7B,IAAIC,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAOE,EAAMe,OACvD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAnRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAMI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCC,EACnCC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAQ,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAmC,KAA1B1E,EAA0BiE,EAAApE,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAY,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAmB,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAsC,KAA7BI,EAA6BF,EAAA/E,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,MALI,MAAAD,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,OAgCrCxB,EAAa,CACf,IADeyB,EACXpI,EAAU,8CACVmD,EAAM,GAFKkF,EAAA7F,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAyB,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAqC,KAA5B7B,EAA4BoC,EAAApF,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAExEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAGpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAEzE,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAxCvE,IAAAC,EAAAC,EAAA/G,OAAAkF,EAAA,EAAAlF,CA2CgBqE,GA3ChB,QAAA2C,EAAA,WA2CIvB,EA3CJqB,EAAAtG,MA4CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAjBlC,IAAAuD,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAsC,KAA7BI,EAA6BuB,KA3CjC,MAAAtB,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,KAOfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA9UlBrF,EAkVnB+I,SAAW,SAAC7E,EAAesF,EAAQC,EAAUlE,EAAOC,EAAK1C,EAAMgG,GAC7D,IAAID,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAO,cAAgBP,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACjGsD,MAAOA,EACPC,IAAKA,EACLZ,WAAY4E,EACZR,QAAS,UACTC,aAAa,EACbxD,MAAO,IAiOT,IAAIf,EAAeR,EAAcS,YAAYoE,EAASnE,YAAY/B,KAClEgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAcgH,EAASjE,MAAMC,UAAU,EAAGgE,EAASjE,MAAME,OAAO,MACnH5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOwE,EAASxD,OAAQjE,WAAYiD,IAAOwE,EAASvD,OAC1D,KAAnBuD,EAAStD,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAnBoG,EAAStD,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cAC5G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYkD,GAC1BjD,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwC,EACnCtC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoC,EAAApH,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2C,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAmC,KAA1B1E,EAA0BwG,EAAA3G,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAemE,EAASnE,aACtB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAOkH,EAASlH,KACrE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0C,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiD,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAsC,KAA7BI,EAA6B4B,EAAA7G,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,MALI,MAAAD,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,OAgCrCxB,EAAa,CACf,IADeoD,EACX/J,EAAU,8CACVmD,EAAM,GAFK6G,EAAAxH,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoD,EAAArC,MAAAoC,EAAAC,EAAApC,KAAAC,MAAqC,KAA5B7B,EAA4B+D,EAAA/G,MAC/BgG,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,WAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,aAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8B,EAAA7C,EAAAe,GAAA,QAAA8B,EAAA7B,IA4BfuF,MAAM1N,OACD,CACLgJ,EAASjE,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAE3EpC,EAAcsE,iBAAiBO,EAAUxD,GACzCrB,EAAcuE,eAAeM,EAAUvD,GAEvC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiBO,EAAU2E,GACzC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAeM,EAAU4E,GACvC5E,EAAStD,MAAM,6DACfA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAEzE,GAAuB,+DAAnBL,EAAStD,MAAwE,CACvF,IAAI5C,EAAOkG,EAASjE,MAChB4D,EAAYK,EAASxD,MACrBoD,EAAUI,EAASvD,IACnBoD,EAAWG,EAASnE,WACxBV,EAAc2B,YAAYkD,GAC1B,IAAIiB,EAAiB,EACrB9F,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMmI,IAAgBA,EAAiBlB,EAAKjH,GAAK,KAG5D,IAAIoI,EAAkB,CACpBpI,GAAImI,EACJlF,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASe,GACvBnE,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAAc,EAAAC,EAAA5H,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAwD,EAAA,WA0CIpC,EA1CJkC,EAAAnH,MA2CH,IAAIwH,EAAsB,EAC1BrG,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAM0I,IAAqBA,EAAsBzB,EAAKjH,GAAK,KAGtE,IAAI2I,EAAoB,CACtB3I,GAAI0I,EACJzF,MAAOiE,EAASjE,MAChBS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASsB,GACvB1E,IAASC,OAAS7B,EAAc6B,QAjBlC,IAAAoE,EAAAzC,MAAAwC,EAAAC,EAAAxC,KAAAC,MAAsC,KAA7BI,EAA6BoC,KA1CjC,MAAAnC,GAAAkC,EAAAjD,EAAAe,GAAA,QAAAkC,EAAAjC,IA8DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGJ3H,IAASC,OAAS7B,EAAc6B,OAClCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAxnBlBrF,EA4nBnBwI,iBAAmB,SAACtE,EAAeO,EAAOgG,GA8NxC,IAAI/F,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOkG,GAAWnJ,WAAYiD,IAAOE,EAAMe,OACpD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAjRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwD,EACnCtD,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoD,EAAApI,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2D,EAAAjD,MAAAgD,EAAAC,EAAAhD,KAAAC,MAAmC,KAA1B1E,EAA0BwH,EAAA3H,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0D,EAAAC,EAAAtI,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiE,EAAAnD,MAAAkD,EAAAC,EAAAlD,KAAAC,MAAsC,KAA7BI,EAA6B4C,EAAA7H,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4C,EAAA3D,EAAAe,GAAA,QAAA4C,EAAA3C,MALI,MAAAD,GAAA0C,EAAAzD,EAAAe,GAAA,QAAA0C,EAAAzC,OAgCrCxB,EAAa,CACf,IADeoE,EACX/K,EAAU,8CACVmD,EAAM,GAFK6H,EAAAxI,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoE,EAAArD,MAAAoD,EAAAC,EAAApD,KAAAC,MAAqC,KAA5B7B,EAA4B+E,EAAA/H,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8C,EAAA7D,EAAAe,GAAA,QAAA8C,EAAA7C,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAE7E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAA4B,EAAAC,EAAA1I,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAsE,EAAA,WA0CIlD,EA1CJgD,EAAAjI,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAkF,EAAAvD,MAAAsD,EAAAC,EAAAtD,KAAAC,MAAsC,KAA7BI,EAA6BkD,KA1CjC,MAAAjD,GAAAgD,EAAA/D,EAAAe,GAAA,QAAAgD,EAAA/C,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,KAOfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAj5BlBrF,EAq5BnByI,eAAiB,SAACvE,EAAeO,EAAO0G,GA2NtC,IAAIzG,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAO4G,KACjD,KAAhB1G,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA9QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAoCzB,GAnCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCkE,EACnChE,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoB8D,EAAA9I,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAqE,EAAA3D,MAAA0D,EAAAC,EAAA1D,KAAAC,MAAmC,KAA1B1E,EAA0BkI,EAAArI,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAoE,EAAAC,EAAAhJ,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAA2E,EAAA7D,MAAA4D,EAAAC,EAAA5D,KAAAC,MAAsC,KAA7BI,EAA6BsD,EAAAvI,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAsD,EAAArE,EAAAe,GAAA,QAAAsD,EAAArD,MALI,MAAAD,GAAAoD,EAAAnE,EAAAe,GAAA,QAAAoD,EAAAnD,OA+BrCxB,EAAa,CACf,IADe8E,EACXzL,EAAU,8CACVmD,EAAM,GAFKuI,EAAAlJ,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAA8E,EAAA/D,MAAA8D,EAAAC,EAAA9D,KAAAC,MAAqC,KAA5B7B,EAA4ByF,EAAAzI,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAwD,EAAAvE,EAAAe,GAAA,QAAAwD,EAAAvD,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAE7E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAAsC,EAAAC,EAAApJ,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAgF,EAAA,WA0CI5D,EA1CJ0D,EAAA3I,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAA4F,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAAsC,KAA7BI,EAA6B4D,KA1CjC,MAAA3D,GAAA0D,EAAAzE,EAAAe,GAAA,QAAA0D,EAAAzD,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,KAOfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAvqClBrF,EA2qCnB6L,UAAY,SAAC3H,EAAeO,EAAO+E,EAAQC,EAAUlE,EAAOC,GACxDtB,EAAcsE,iBAAiB/D,EAAOc,GACxCrB,EAAcuE,eAAehE,EAAOe,GACpCf,EAAMK,MAAQL,EAAMK,MAAMC,UAAU,EAAEN,EAAMK,MAAME,OAAO,IAAMT,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACzIjC,EAAKwB,SAAS,CACV0E,UAAWhC,IA6Nf,IAAIQ,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOgB,GAAQjE,WAAYiD,IAAOiB,KAC3C,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuC4E,EACnC1E,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBwE,EAAAxJ,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA+E,EAAArE,MAAAoE,EAAAC,EAAApE,KAAAC,MAAmC,KAA1B1E,EAA0B4I,EAAA/I,MACnCuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACvCwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA8E,EAAAC,EAAA1J,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAqF,EAAAvE,MAAAsE,EAAAC,EAAAtE,KAAAC,MAAsC,KAA7BI,EAA6BgE,EAAAjJ,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAgE,EAAA/E,EAAAe,GAAA,QAAAgE,EAAA/D,MALI,MAAAD,GAAA8D,EAAA7E,EAAAe,GAAA,QAAA8D,EAAA7D,OAgCrCxB,EAAa,CACf,IADewF,EACXnM,EAAU,8CACVmD,EAAM,GAFKiJ,EAAA5J,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAwF,EAAAzE,MAAAwE,EAAAC,EAAAxE,KAAAC,MAAqC,KAA5B7B,EAA4BmG,EAAAnJ,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAkE,EAAAjF,EAAAe,GAAA,QAAAkE,EAAAjE,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAEzE,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAAgD,EAAAC,EAAA9J,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAA0F,EAAA,WA0CItE,EA1CJoE,EAAArJ,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAsG,EAAA3E,MAAA0E,EAAAC,EAAA1E,KAAAC,MAAsC,KAA7BI,EAA6BsE,KA1CjC,MAAArE,GAAAoE,EAAAnF,EAAAe,GAAA,QAAAoE,EAAAnE,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAO+H,eAAevM,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAp8ClBrF,EAw8CnBuM,iBAAmB,SAACrI,EAAesI,EAAQ/H,EAAO3B,EAAM0G,EAAQC,EAAUlE,EAAOC,GAC/E,IAAIzF,EAAO,+CAAAuI,OAAkDmB,EAAlD,KACXgE,MAAM1N,IAv8CN,IAAImE,EAAgB,IAAIuI,gBACtB,aACAC,YAAUC,KACV,GACA,EACA,CACEC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GAClB,CACDC,2BAA4BhN,EAAKoE,uBACjC6I,qBAAsBjN,EAAKiE,mBAfd,OAkBjBC,EAAcgJ,aAAapH,IAASqH,WACpCjJ,EAAckJ,UAAUtH,IAASC,QACjC/F,EAAKF,MAAQ,CACXoG,UAAWhC,GAEb8B,OAAO+H,eAAPxL,OAAA8K,EAAA,EAAA9K,CAAAvC,GAvBiBA,uDAyBV,IACCkG,EAAcrF,KAAKf,MAAnBoG,UACR,OACE9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgN,EAAAjN,EAAD,CACE6D,cAAegC,EACfqH,eAAgB1M,KAAK2D,aACrBgE,iBAAkB3H,KAAK2H,iBACvBC,eAAgB5H,KAAK4H,eACrBoD,UAAWhL,KAAKgL,UAChB9C,SAAUlI,KAAKkI,SACfwD,iBAAkB1L,KAAK0L,4BAtCfxL,cC68CLgD,sDA58Cb,SAAAC,EAAY/D,GAAO,IAAAD,EAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAmD,IACjBhE,EAAAyC,EAAAC,KAAA7B,KAAMZ,IA6CRgE,iBAAmB,SAACC,EAAeC,GACjC,OAAO,GA/CUnE,EAmDnBoE,uBAAyB,SAACF,EAAeG,EAAaC,GACpD,OAAOC,IAAO,wBApDGvE,EAwDnBwE,aAAe,SAACN,EAAeO,GA8N7B,IAAIC,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAOE,EAAMe,OACvD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAjRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAOI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCC,EACnCC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAQ,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAmC,KAA1B1E,EAA0BiE,EAAApE,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAY,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAmB,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAsC,KAA7BI,EAA6BF,EAAA/E,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,MALI,MAAAD,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,OAgCrCxB,EAAa,CACf,IADeyB,EACXpI,EAAU,8CACVmD,EAAM,GAFKkF,EAAA7F,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAyB,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAqC,KAA5B7B,EAA4BoC,EAAApF,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IACxEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE/E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAtCzE,IAAAC,EAAAC,EAAA/G,OAAAkF,EAAA,EAAAlF,CAyCgBqE,GAzChB,QAAA2C,EAAA,WAyCIvB,EAzCJqB,EAAAtG,MA0CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAjBlC,IAAAuD,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAsC,KAA7BI,EAA6BuB,KAzCjC,MAAAtB,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IA6DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA7UlBrF,EAiVnB+I,SAAW,SAAC7E,EAAesF,EAAQC,EAAUlE,EAAOC,EAAK1C,EAAMgG,GAC7D,IAAID,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAO,cAAgBP,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACjGsD,MAAOA,EACPC,IAAKA,EACLZ,WAAY4E,EACZR,QAAS,UACTC,aAAa,EACbxD,MAAO,IAiOT,IAAIf,EAAeR,EAAcS,YAAYoE,EAASnE,YAAY/B,KAClEgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAcgH,EAASjE,MAAMC,UAAU,EAAGgE,EAASjE,MAAME,OAAO,MACnH5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOwE,EAASxD,OAAQjE,WAAYiD,IAAOwE,EAASvD,OAC1D,KAAnBuD,EAAStD,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAnBoG,EAAStD,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC9G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYkD,GAC1BjD,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwC,EACnCtC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoC,EAAApH,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2C,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAmC,KAA1B1E,EAA0BwG,EAAA3G,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAemE,EAASnE,aACtB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAOkH,EAASlH,KACrE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0C,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiD,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAsC,KAA7BI,EAA6B4B,EAAA7G,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,MALI,MAAAD,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,OAgCrCxB,EAAa,CACf,IADeoD,EACX/J,EAAU,8CACVmD,EAAM,GAFK6G,EAAAxH,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoD,EAAArC,MAAAoC,EAAAC,EAAApC,KAAAC,MAAqC,KAA5B7B,EAA4B+D,EAAA/G,MAC/BgG,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,WAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,aAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8B,EAAA7C,EAAAe,GAAA,QAAA8B,EAAA7B,IA4BfuF,MAAM1N,OACD,CACLgJ,EAASjE,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAE3EpC,EAAcsE,iBAAiBO,EAAUxD,GACzCrB,EAAcuE,eAAeM,EAAUvD,GAEvC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiBO,EAAU2E,GACzC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAeM,EAAU4E,GACvC5E,EAAStD,MAAM,6DACfA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE/E,GAAuB,+DAAnBL,EAAStD,MAAwE,CACnF,IAAI5C,EAAOkG,EAASjE,MAChB4D,EAAYK,EAASxD,MACrBoD,EAAUI,EAASvD,IACnBoD,EAAWG,EAASnE,WACxBV,EAAc2B,YAAYkD,GAC1B,IAAIiB,EAAiB,EACrB9F,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMmI,IAAgBA,EAAiBlB,EAAKjH,GAAK,KAG5D,IAAIoI,EAAkB,CACpBpI,GAAImI,EACJlF,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASe,GACvBnE,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAAc,EAAAC,EAAA5H,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAwD,EAAA,WA0CIpC,EA1CJkC,EAAAnH,MA2CH,IAAIwH,EAAsB,EAC1BrG,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAM0I,IAAqBA,EAAsBzB,EAAKjH,GAAK,KAGtE,IAAI2I,EAAoB,CACtB3I,GAAI0I,EACJzF,MAAOiE,EAASjE,MAChBS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASsB,GACvB1E,IAASC,OAAS7B,EAAc6B,QAjBlC,IAAAoE,EAAAzC,MAAAwC,EAAAC,EAAAxC,KAAAC,MAAsC,KAA7BI,EAA6BoC,KA1CjC,MAAAnC,GAAAkC,EAAAjD,EAAAe,GAAA,QAAAkC,EAAAjC,IA8DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGJ3H,IAASC,OAAS7B,EAAc6B,OAClCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAvnBlBrF,EA2nBnBwI,iBAAmB,SAACtE,EAAeO,EAAOgG,GA6NxC,IAAI/F,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOkG,GAAWnJ,WAAYiD,IAAOE,EAAMe,OACpD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAhRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwD,EACnCtD,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoD,EAAApI,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2D,EAAAjD,MAAAgD,EAAAC,EAAAhD,KAAAC,MAAmC,KAA1B1E,EAA0BwH,EAAA3H,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0D,EAAAC,EAAAtI,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiE,EAAAnD,MAAAkD,EAAAC,EAAAlD,KAAAC,MAAsC,KAA7BI,EAA6B4C,EAAA7H,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4C,EAAA3D,EAAAe,GAAA,QAAA4C,EAAA3C,MALI,MAAAD,GAAA0C,EAAAzD,EAAAe,GAAA,QAAA0C,EAAAzC,OAgCrCxB,EAAa,CACf,IADeoE,EACX/K,EAAU,8CACVmD,EAAM,GAFK6H,EAAAxI,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoE,EAAArD,MAAAoD,EAAAC,EAAApD,KAAAC,MAAqC,KAA5B7B,EAA4B+E,EAAA/H,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8C,EAAA7D,EAAAe,GAAA,QAAA8C,EAAA7C,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE/E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAA4B,EAAAC,EAAA1I,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAsE,EAAA,WA0CIlD,EA1CJgD,EAAAjI,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAkF,EAAAvD,MAAAsD,EAAAC,EAAAtD,KAAAC,MAAsC,KAA7BI,EAA6BkD,KA1CjC,MAAAjD,GAAAgD,EAAA/D,EAAAe,GAAA,QAAAgD,EAAA/C,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BA/4BlBrF,EAm5BnByI,eAAiB,SAACvE,EAAeO,EAAO0G,GA2NtC,IAAIzG,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAO4G,KACjD,KAAhB1G,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA9QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCkE,EACnChE,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoB8D,EAAA9I,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAqE,EAAA3D,MAAA0D,EAAAC,EAAA1D,KAAAC,MAAmC,KAA1B1E,EAA0BkI,EAAArI,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAoE,EAAAC,EAAAhJ,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAA2E,EAAA7D,MAAA4D,EAAAC,EAAA5D,KAAAC,MAAsC,KAA7BI,EAA6BsD,EAAAvI,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAsD,EAAArE,EAAAe,GAAA,QAAAsD,EAAArD,MALI,MAAAD,GAAAoD,EAAAnE,EAAAe,GAAA,QAAAoD,EAAAnD,OAgCrCxB,EAAa,CACf,IADe8E,EACXzL,EAAU,8CACVmD,EAAM,GAFKuI,EAAAlJ,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAA8E,EAAA/D,MAAA8D,EAAAC,EAAA9D,KAAAC,MAAqC,KAA5B7B,EAA4ByF,EAAAzI,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAwD,EAAAvE,EAAAe,GAAA,QAAAwD,EAAAvD,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE/E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAAsC,EAAAC,EAAApJ,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAgF,EAAA,WA0CI5D,EA1CJ0D,EAAA3I,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAA4F,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAAsC,KAA7BI,EAA6B4D,KA1CjC,MAAA3D,GAAA0D,EAAAzE,EAAAe,GAAA,QAAA0D,EAAAzD,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BArqClBrF,EAyqCnB6L,UAAY,SAAC3H,EAAeO,EAAO+E,EAAQC,EAAUlE,EAAOC,GACxDtB,EAAcsE,iBAAiB/D,EAAOc,GACxCrB,EAAcuE,eAAehE,EAAOe,GACpCf,EAAMK,MAAQL,EAAMK,MAAMC,UAAU,EAAEN,EAAMK,MAAME,OAAO,IAAMT,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACzIjC,EAAKwB,SAAS,CACV0E,UAAWhC,IA6Nf,IAAIQ,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOgB,GAAQjE,WAAYiD,IAAOiB,KAC3C,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,eACnD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,WAAWP,QAAQ,cAC3G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuC4E,EACnC1E,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBwE,EAAAxJ,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA+E,EAAArE,MAAAoE,EAAAC,EAAApE,KAAAC,MAAmC,KAA1B1E,EAA0B4I,EAAA/I,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA8E,EAAAC,EAAA1J,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAqF,EAAAvE,MAAAsE,EAAAC,EAAAtE,KAAAC,MAAsC,KAA7BI,EAA6BgE,EAAAjJ,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAgE,EAAA/E,EAAAe,GAAA,QAAAgE,EAAA/D,MALI,MAAAD,GAAA8D,EAAA7E,EAAAe,GAAA,QAAA8D,EAAA7D,OAgCrCxB,EAAa,CACf,IADewF,EACXnM,EAAU,8CACVmD,EAAM,GAFKiJ,EAAA5J,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAwF,EAAAzE,MAAAwE,EAAAC,EAAAxE,KAAAC,MAAqC,KAA5B7B,EAA4BmG,EAAAnJ,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAkE,EAAAjF,EAAAe,GAAA,QAAAkE,EAAAjE,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,oBAAoB+D,SAAU,QAE/E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,oBAAoB+D,SAAU,GAvCzE,IAAAgD,EAAAC,EAAA9J,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAA0F,EAAA,WA0CItE,EA1CJoE,EAAArJ,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAsG,EAAA3E,MAAA0E,EAAAC,EAAA1E,KAAAC,MAAsC,KAA7BI,EAA6BsE,KA1CjC,MAAArE,GAAAoE,EAAAnF,EAAAe,GAAA,QAAAoE,EAAAnE,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOgI,iBAAiBxM,SAAS,CAC/B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAl8ClBrF,EAs8CnBuM,iBAAmB,SAACrI,EAAesI,EAAQ/H,EAAO3B,EAAM0G,EAAQC,EAAUlE,EAAOC,GAC/E,IAAIzF,EAAO,+CAAAuI,OAAkDmB,EAAlD,KACXgE,MAAM1N,IAr8CN,IAAImE,EAAgB,IAAIuI,gBACtB,aACAC,YAAUC,KACV,GACA,EACA,CACEC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GAClB,CACDC,2BAA4BhN,EAAKoE,uBACjC6I,qBAAsBjN,EAAKiE,mBAfd,OAkBjBC,EAAcgJ,aAAapH,IAASqH,WACpCjJ,EAAckJ,UAAUtH,IAASC,QACjC/F,EAAKF,MAAQ,CACXoG,UAAWhC,GAEb8B,OAAOgI,iBAAPzL,OAAA8K,EAAA,EAAA9K,CAAAvC,GAvBiBA,uDA0BV,IACCkG,EAAcrF,KAAKf,MAAnBoG,UACR,OACE9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgN,EAAAjN,EAAD,CACE6D,cAAegC,EACfqH,eAAgB1M,KAAK2D,aACrBgE,iBAAkB3H,KAAK2H,iBACvBC,eAAgB5H,KAAK4H,eACrBoD,UAAWhL,KAAKgL,UAChB9C,SAAUlI,KAAKkI,SACfwD,iBAAkB1L,KAAK0L,4BAvCfxL,cC47CLgD,sDA97Cb,SAAAC,EAAY/D,GAAO,IAAAD,EAAAuC,OAAAC,EAAA,EAAAD,CAAA1B,KAAAmD,IACjBhE,EAAAyC,EAAAC,KAAA7B,KAAMZ,IA4CRgE,iBAAmB,SAACC,EAAeC,GACjC,OAAO,GA9CUnE,EAkDnBoE,uBAAyB,SAACF,EAAeG,EAAaC,GACpD,OAAOC,IAAO,wBAnDGvE,EAuDnBwE,aAAe,SAACN,EAAeO,GAuN7B,IAAIC,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,SAA1B,KACAzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAvB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAsB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAOE,EAAMe,OACvD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QAhEtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAGhCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,IAIbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAzQtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MACrCsD,EAAiB,GACKA,EAAL,IAAjBd,EAAMP,OAAiC,IAAMO,EAAiCA,EAClF,IAAIe,EAAe,GACKA,EAAL,IAAfd,EAAIR,OAA+B,IAAMQ,EAA6BA,EAGrD,IAAjBD,EAAMP,SAAgBO,EAAQ,IAAMA,GAGpCA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAKnF,IAAfS,EAAIR,SAAgBQ,EAAM,IAAMA,GAGhCA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAuCzB,GAtCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAE3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCC,EACnCC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAQ,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAmC,KAA1B1E,EAA0BiE,EAAApE,MACvBuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IACnDwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IAErCmC,EAAEtC,aAAeH,EAAMG,aAEnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IAXG,IAAAY,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CAcZqE,GAdY,IAcjC,IAAAmB,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAsC,KAA7BI,EAA6BF,EAAA/E,MAEhCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAtBC,MAAAe,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,MALI,MAAAD,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,OAmCrCxB,EAAa,CACf,IADeyB,EACXpI,EAAU,8CACVmD,EAAM,GAFKkF,EAAA7F,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAyB,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAqC,KAA5B7B,EAA4BoC,EAAApF,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,IA4BfuF,MAAM1N,OACD,CAEL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAGxEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAGpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAE7E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAEpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAzCvE,IAAAC,EAAAC,EAAA/G,OAAAkF,EAAA,EAAAlF,CA6CgBqE,GA7ChB,QAAA2C,EAAA,WA6CIvB,EA7CJqB,EAAAtG,MA8CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAEpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAhBlC,IAAAuD,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAsC,KAA7BI,EAA6BuB,KA7CjC,MAAAtB,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IAiED3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,KAKfgB,IAASC,uBAAuBC,SAASC,eAAe,+BA0EZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BArUlBrF,EAyUnB+I,SAAW,SAAC7E,EAAesF,EAAQC,EAAUlE,EAAOC,EAAK1C,EAAMgG,GAE7D,IAAID,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAEpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAO,cAAgBP,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACjGsD,MAAOA,EACPC,IAAKA,EACLZ,WAAY4E,EACZR,QAAS,UACTC,aAAa,EACbxD,MAAO,IA2NT,IAAIf,EAAeR,EAAcS,YAAYoE,EAASnE,YAAY/B,KAClEgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAcgH,EAASjE,MAAMC,UAAU,EAAGgE,EAASjE,MAAME,OAAO,MACnH5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAlB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAiB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOwE,EAASxD,OAAQjE,WAAYiD,IAAOwE,EAASvD,OAC1D,KAAnBuD,EAAStD,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAnBoG,EAAStD,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cAC5G,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA5DtB,WACEoD,EAAc2B,YAAYkD,GAC1BjD,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAsDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA3QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MACrCsD,EAAiB,GACKA,EAAL,IAAjBd,EAAMP,OAAiC,IAAMO,EAAiCA,EAClF,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwC,EACnCtC,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoC,EAAApH,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2C,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAmC,KAA1B1E,EAA0BwG,EAAA3G,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAemE,EAASnE,aACtB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAOkH,EAASlH,KACrE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0C,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiD,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAsC,KAA7BI,EAA6B4B,EAAA7G,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,MALI,MAAAD,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,OAgCrCxB,EAAa,CACf,IADeoD,EACX/J,EAAU,8CACVmD,EAAM,GAFK6G,EAAAxH,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoD,EAAArC,MAAAoC,EAAAC,EAAApC,KAAAC,MAAqC,KAA5B7B,EAA4B+D,EAAA/G,MAC/BgG,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,WAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,aAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,YAEJ6F,EAASxD,MAAMkB,WAAWF,SAAS,gBACrCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8B,EAAA7C,EAAAe,GAAA,QAAA8B,EAAA7B,IA4BfuF,MAAM1N,OACD,CACLgJ,EAASjE,MAAQsB,EAAW,KAAOC,EAAiB,MAAQC,EAAe,IAE3EpC,EAAcsE,iBAAiBO,EAAUxD,GACzCrB,EAAcuE,eAAeM,EAAUvD,GAEvC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiBO,EAAU2E,GACzC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAeM,EAAU4E,GACvC5E,EAAStD,MAAM,6DACfA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAE7E,GAAuB,+DAAnBL,EAAStD,MAAwE,CACnF,IAAI5C,EAAOkG,EAASjE,MAChB4D,EAAYK,EAASxD,MACrBoD,EAAUI,EAASvD,IACnBoD,EAAWG,EAASnE,WACxBV,EAAc2B,YAAYkD,GAC1B,IAAIiB,EAAiB,EACrB9F,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMmI,IAAgBA,EAAiBlB,EAAKjH,GAAK,KAG5D,IAAIoI,EAAkB,CACpBpI,GAAImI,EACJlF,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASe,GACvBnE,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAAc,EAAAC,EAAA5H,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAwD,EAAA,WA0CIpC,EA1CJkC,EAAAnH,MA2CH,IAAIwH,EAAsB,EAC1BrG,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAM0I,IAAqBA,EAAsBzB,EAAKjH,GAAK,KAGtE,IAAI2I,EAAoB,CACtB3I,GAAI0I,EACJzF,MAAOiE,EAASjE,MAChBS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAETvB,EAAcgF,SAASsB,GACvB1E,IAASC,OAAS7B,EAAc6B,QAjBlC,IAAAoE,EAAAzC,MAAAwC,EAAAC,EAAAxC,KAAAC,MAAsC,KAA7BI,EAA6BoC,KA1CjC,MAAAnC,GAAAkC,EAAAjD,EAAAe,GAAA,QAAAkC,EAAAjC,IA8DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGJ3H,IAASC,OAAS7B,EAAc6B,OAClCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,KAOfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAqEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAzmBlBrF,EA6mBnBwI,iBAAmB,SAACtE,EAAeO,EAAOgG,GA6NxC,IAAI/F,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,SAA1B,KACAzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOkG,GAAWnJ,WAAYiD,IAAOE,EAAMe,OACpD,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QAhRtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAOnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCwD,EACnCtD,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBoD,EAAApI,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA2D,EAAAjD,MAAAgD,EAAAC,EAAAhD,KAAAC,MAAmC,KAA1B1E,EAA0BwH,EAAA3H,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA0D,EAAAC,EAAAtI,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAiE,EAAAnD,MAAAkD,EAAAC,EAAAlD,KAAAC,MAAsC,KAA7BI,EAA6B4C,EAAA7H,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAA4C,EAAA3D,EAAAe,GAAA,QAAA4C,EAAA3C,MALI,MAAAD,GAAA0C,EAAAzD,EAAAe,GAAA,QAAA0C,EAAAzC,OAgCrCxB,EAAa,CACf,IADeoE,EACX/K,EAAU,8CACVmD,EAAM,GAFK6H,EAAAxI,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAoE,EAAArD,MAAAoD,EAAAC,EAAApD,KAAAC,MAAqC,KAA5B7B,EAA4B+E,EAAA/H,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAA8C,EAAA7D,EAAAe,GAAA,QAAA8C,EAAA7C,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAE7E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAA4B,EAAAC,EAAA1I,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAsE,EAAA,WA0CIlD,EA1CJgD,EAAAjI,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAkF,EAAAvD,MAAAsD,EAAAC,EAAAtD,KAAAC,MAAsC,KAA7BI,EAA6BkD,KA1CjC,MAAAjD,GAAAgD,EAAA/D,EAAAe,GAAA,QAAAgD,EAAA/C,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAj4BlBrF,EAq4BnByI,eAAiB,SAACvE,EAAeO,EAAO0G,GA2NtC,IAAIzG,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAO,MAC7G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOE,EAAMc,OAAQjE,WAAYiD,IAAO4G,KACjD,KAAhB1G,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA9QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAII,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuCkE,EACnChE,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoB8D,EAAA9I,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAAqE,EAAA3D,MAAA0D,EAAAC,EAAA1D,KAAAC,MAAmC,KAA1B1E,EAA0BkI,EAAArI,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAAoE,EAAAC,EAAAhJ,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAA2E,EAAA7D,MAAA4D,EAAAC,EAAA5D,KAAAC,MAAsC,KAA7BI,EAA6BsD,EAAAvI,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAsD,EAAArE,EAAAe,GAAA,QAAAsD,EAAArD,MALI,MAAAD,GAAAoD,EAAAnE,EAAAe,GAAA,QAAAoD,EAAAnD,OAgCrCxB,EAAa,CACf,IADe8E,EACXzL,EAAU,8CACVmD,EAAM,GAFKuI,EAAAlJ,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAA8E,EAAA/D,MAAA8D,EAAAC,EAAA9D,KAAAC,MAAqC,KAA5B7B,EAA4ByF,EAAAzI,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAwD,EAAAvE,EAAAe,GAAA,QAAAwD,EAAAvD,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAE7E,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CAChF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAAsC,EAAAC,EAAApJ,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAAgF,EAAA,WA0CI5D,EA1CJ0D,EAAA3I,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAA4F,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAAsC,KAA7BI,EAA6B4D,KA1CjC,MAAA3D,GAAA0D,EAAAzE,EAAAe,GAAA,QAAA0D,EAAAzD,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAvpClBrF,EA2pCnB6L,UAAY,SAAC3H,EAAeO,EAAO+E,EAAQC,EAAUlE,EAAOC,GACxDtB,EAAcsE,iBAAiB/D,EAAOc,GACxCrB,EAAcuE,eAAehE,EAAOe,GACpCf,EAAMK,MAAQL,EAAMK,MAAMC,UAAU,EAAEN,EAAMK,MAAME,OAAO,IAAMT,IAAOgB,GAAOtD,OAAO,WAAa,MAAQsC,IAAOiB,GAAKvD,OAAO,WAAa,IACzIjC,EAAKwB,SAAS,CACV0E,UAAWhC,IA6Nf,IAAIQ,EAAeR,EAAcS,YAAYF,EAAMG,YAAY/B,KAC/DgC,iBAAOzE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACGxC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,QAAQP,GAAG,UAC1BzB,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBAAiBP,GAAG,kBACjCzB,EAAAC,EAAAC,cAAA,SAAOuB,GAAG,gBAAgBiB,KAAK,OAAOD,KAAK,QAAQd,aAAc0C,EAAMK,MAAMC,UAAU,EAAGN,EAAMK,MAAME,OAAS,MAC/G5E,EAAAC,EAAAC,cAAA,UAAQuB,GAAG,eAAelB,MAAO,CAACsE,MAAM,SAAUnE,QAjB9D,WACEoE,IAASC,uBAAuBC,SAASC,eAAe,+BAgB9C,KACAjF,EAAAC,EAAAC,cAACgF,EAAD,CAAYlE,aAAcmD,IAAOgB,GAAQjE,WAAYiD,IAAOiB,KAC3C,KAAhBf,EAAMgB,OAAgBrF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,eACjD,+DAAhB8B,EAAMgB,OAA0ErF,EAAAC,EAAAC,cAACoF,EAAD,CAAO7C,KAAK,UAAUK,IAAI,SAASP,QAAQ,cACzG,YAAjB+B,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,YAAjBe,GAA+BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC/B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,SACRC,QAAQ,YACRC,QAAQ,QAGS,WAAjBe,GAA8BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC9B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,YACRC,QAAQ,QAGS,cAAjBe,GAAiCtE,EAAAC,EAAAC,cAACqF,EAAD,CACjC9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,QAGS,QAAjBe,GAA2BtE,EAAAC,EAAAC,cAACqF,EAAD,CAC3B9C,KAAK,aACLW,QAAQ,UACRC,QAAQ,UACRC,QAAQ,SACRC,QAAQ,cAEVvD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiF,UAAU,WACrBxF,EAAAC,EAAAC,cAAA,UAAQQ,QA3DtB,WACEoD,EAAc2B,YAAYpB,GAC1BqB,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,IAEbgB,IAASC,uBAAuBC,SAASC,eAAe,8BAqDN1E,MAAO,CAACC,MAAM,QAASuF,WAAW,YAAxE,YACA/F,EAAAC,EAAAC,cAAA,UAAQQ,QA/QtB,WAEE,IAAIsF,EAAWhB,SAASC,eAAe,iBAAiBtC,MACpDwC,EAAQH,SAASC,eAAe,SAAStC,MACzCyC,EAAMJ,SAASC,eAAe,OAAOtC,MAErCsD,EAAiB,GAEnBA,EADmB,IAAjBd,EAAMP,OACS,IAAMO,EAENA,EAEnB,IAAIe,EAAe,GAEjBA,EADiB,IAAfd,EAAIR,OACS,IAAMQ,EAENA,EAKI,IAAjBD,EAAMP,SACRO,EAAQ,IAAMA,GAIZA,EAFAA,EAAMgB,SAAS,MACa,OAA1BhB,EAAMR,UAAU,EAAG,GACb,gBAAkBQ,EAAMR,UAAU,EAAG,GAAK,MAE1C,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAGpB,OAA1BQ,EAAMR,UAAU,EAAG,GACb,cAAgBQ,EAAMR,UAAU,EAAG,GAAK,MAExC,eAAiByB,OAAOjB,EAAMR,UAAU,EAAG,IAAM,IAAI0B,WAAalB,EAAMR,UAAU,EAAG,GAAK,MAMnF,IAAfS,EAAIR,SACNQ,EAAM,IAAMA,GAIVA,EAFAA,EAAIe,SAAS,MACa,OAAxBf,EAAIT,UAAU,EAAG,GACb,gBAAkBS,EAAIT,UAAU,EAAG,GAAK,MAExC,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAGlB,OAAxBS,EAAIT,UAAU,EAAG,GACb,cAAgBS,EAAIT,UAAU,EAAG,GAAK,MAEtC,eAAiByB,OAAOhB,EAAIT,UAAU,EAAG,IAAM,IAAI0B,WAAajB,EAAIT,UAAU,EAAG,GAAK,MAKhG,IAAI2B,GAAc,EACdC,EAAmB,GACnBC,EAAkBxB,SAASyB,iBAAiB,oCAC5CC,EAAgB1B,SAAS2B,cAAc,iCAAiChE,MACxEiE,EAAoB,CAAC,cAqCzB,GApCsB,cAAlBF,IACFE,EAAoB,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,eAG3G9C,EAAc6B,OAAOkB,QAAQ,SAASC,GACpC,IADuC4E,EACnC1E,EAASF,EAAE3B,MACX8B,EAAOH,EAAE1B,IACT8B,EAAiB,GACjBC,EAAe,GAJoBwE,EAAAxJ,OAAAkF,EAAA,EAAAlF,CAKvByE,GALuB,IAKvC,IAAA+E,EAAArE,MAAAoE,EAAAC,EAAApE,KAAAC,MAAmC,KAA1B1E,EAA0B4I,EAAA/I,MAC/BuE,EAAiBpE,EAAMqC,EAAMR,UAAU,GAAI,IAC3CwC,EAAerE,EAAMsC,EAAIT,UAAU,GAAI,IACrCmC,EAAEtC,aAAeH,EAAMG,aACnB0C,GAAkBF,GAAUE,EAAiBD,GAC9CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,IAAmBL,EAAErF,KAAO4C,EAAM5C,KAClE6E,GAAc,EACdC,EAAiBkB,KAAKX,IATG,IAAA8E,EAAAC,EAAA1J,OAAAkF,EAAA,EAAAlF,CAYZqE,GAZY,IAYjC,IAAAqF,EAAAvE,MAAAsE,EAAAC,EAAAtE,KAAAC,MAAsC,KAA7BI,EAA6BgE,EAAAjJ,MAChCmE,EAAEtC,aAAeoD,EAASjF,QACvBuE,GAAkBF,GAAUE,EAAiBD,GAC7CE,EAAeH,GAAUG,GAAgBF,GACzCD,GAAUE,GAAkBF,EAASG,GACrCF,EAAOC,GAAkBD,GAAQE,KAChCb,GAAc,EACdC,EAAiBkB,KAAKX,KAnBC,MAAAe,GAAAgE,EAAA/E,EAAAe,GAAA,QAAAgE,EAAA/D,MALI,MAAAD,GAAA8D,EAAA7E,EAAAe,GAAA,QAAA8D,EAAA7D,OAgCrCxB,EAAa,CACf,IADewF,EACXnM,EAAU,8CACVmD,EAAM,GAFKiJ,EAAA5J,OAAAkF,EAAA,EAAAlF,CAGIoE,GAHJ,IAGf,IAAAwF,EAAAzE,MAAAwE,EAAAC,EAAAxE,KAAAC,MAAqC,KAA5B7B,EAA4BmG,EAAAnJ,MAC/B0B,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,WAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,aAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,YAEJuB,EAAMc,MAAMkB,WAAWF,SAAS,gBAClCrD,EAAM,UAER,IAAImF,EAA8BnE,EAAcS,YAAYoB,EAAOnB,YAAY/B,KAC/E9C,GAAO,OAAAuI,OAAWvC,EAAOjB,MAAlB,SAAAwD,OAA+BD,EAA/B,QAAAC,OAAiEpF,IA1B3D,MAAA+E,GAAAkE,EAAAjF,EAAAe,GAAA,QAAAkE,EAAAjE,IA4BfuF,MAAM1N,OACD,CACL0E,EAAMK,MAAQsB,EAAW,KAAOC,EAAiB,MAAOC,EAAe,IAEvEpC,EAAcsE,iBAAiB/D,EAAOc,GACtCrB,EAAcuE,eAAehE,EAAOe,GAEpC,IAAIC,EAAQ,GACZ,GAAsB,cAAlBqB,EAA+B,CACjC,IAAI4G,EAAe,aAAenI,EAAMR,UAAU,GAAI,IACtDb,EAAcsE,iBAAiB/D,EAAOiJ,GACtC,IAAIC,EAAa,aAAenI,EAAIT,UAAU,GAAI,IAClDb,EAAcuE,eAAehE,EAAOkJ,GACpClJ,EAAMgB,MAAM,6DACZA,EAAM,6DACN0D,WAAW,WAAY/D,SAASC,eAAe,kBAAkB+D,SAAU,QAEzE,GAAoB,+DAAhB3E,EAAMgB,MAAwE,CACpF,IAAI5C,EAAO4B,EAAMK,MACb4D,EAAYjE,EAAMc,MAClBoD,EAAUlE,EAAMe,IAChBoD,EAAWnE,EAAMG,WACrBV,EAAc2B,YAAYpB,GAC1B,IAAIoE,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAQjC,EACR0C,MAAOmD,EACPlD,IAAKmD,EACL/D,WAAYgE,EACZI,QAAS,UACTC,aAAa,EACbxD,MAAO,IAETvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,OAChCoD,WAAW,WAAW/D,SAASC,eAAe,kBAAkB+D,SAAU,GAvCvE,IAAAgD,EAAAC,EAAA9J,OAAAkF,EAAA,EAAAlF,CA0CgBqE,GA1ChB,QAAA0F,EAAA,WA0CItE,EA1CJoE,EAAArJ,MA2CH,IAAI8F,EAAa,EACjB3E,EAAc6B,OAAOkB,QAAQ,SAAA6B,GACvBA,EAAKjH,IAAMgH,IAAYA,EAAaC,EAAKjH,GAAK,KAGpD,IAAIkH,EAAW,CACblH,GAAIgH,EACJ/D,MAAOL,EAAMK,MACbS,MAAOhB,IAAOgB,GACdC,IAAKjB,IAAOiB,GACZZ,WAAYoD,EAASjF,MACrBiG,QAAS,UACTC,aAAa,EACbxD,MAAOA,GAGTvB,EAAcgF,SAASH,GACvBjD,IAASC,OAAS7B,EAAc6B,QAlBlC,IAAAsG,EAAA3E,MAAA0E,EAAAC,EAAA1E,KAAAC,MAAsC,KAA7BI,EAA6BsE,KA1CjC,MAAArE,GAAAoE,EAAAnF,EAAAe,GAAA,QAAAoE,EAAAnE,IA+DD3C,GAASC,GAAOA,GAAOD,EACzBkI,MAAM,8DAGN3H,IAASC,OAAS7B,EAAc6B,OAChCC,OAAOiI,eAAezM,SAAS,CAC7B0E,UAAWhC,KAMfgB,IAASC,uBAAuBC,SAASC,eAAe,+BAoEZ1E,MAAO,CAACC,MAAM,QAASuF,WAAW,UAAWlD,WAAW,QAA1F,WAGHmC,SAASC,eAAe,8BAp7ClBrF,EAw7CnBuM,iBAAmB,SAACrI,EAAesI,EAAQ/H,EAAO3B,EAAM0G,EAAQC,EAAUlE,EAAOC,GAC/E,IAAIzF,EAAO,+CAAAuI,OAAkDmB,EAAlD,KACXgE,MAAM1N,IAx7CN,IAAImE,EAAgB,IAAIuI,gBACtB,aACAC,YAAUC,KACV,GACA,EACA,CACEC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GAClB,CACDC,2BAA4BhN,EAAKoE,uBACjC6I,qBAAsBjN,EAAKiE,mBAdd,OAiBjBC,EAAcgJ,aAAapH,IAASqH,WACpCjJ,EAAckJ,UAAUtH,IAASC,QACjC/F,EAAKF,MAAQ,CACXoG,UAAWhC,GAEb8B,OAAOiI,eAAP1L,OAAA8K,EAAA,EAAA9K,CAAAvC,GAtBiBA,uDAyBV,IACCkG,EAAcrF,KAAKf,MAAnBoG,UACR,OACE9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgN,EAAAjN,EAAD,CACE6D,cAAegC,EACfqH,eAAgB1M,KAAK2D,aACrBgE,iBAAkB3H,KAAK2H,iBACvBC,eAAgB5H,KAAK4H,eACrBoD,UAAWhL,KAAKgL,UAChB9C,SAAUlI,KAAKkI,SACfwD,iBAAkB1L,KAAK0L,4BAtCfxL,cCDpB,SAASmN,EAAQ7N,EAAE8N,GACf,IAAIC,EAAa,EAMjB,OALI/N,EAAEgO,YAAcF,EAAEE,YAClBD,EAAa,EACN/N,EAAEgO,YAAcF,EAAEE,cACzBD,GAAc,GAEXA,MAILE,8MACFxO,MAAQ,CACJyO,MAAO,GACPC,gBAAiB,KAmBrBC,WAAa,SAACC,GACVC,MAAM,sDAAwDD,EAAQ7M,GAAG4E,WAAa,IAAK,CACvFmI,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWrP,EAAKF,MAAMyO,MAAMe,IAAI,SAAAC,GAClC,OAAIA,EAAK1N,KAAO6M,EAAQ7M,GACbU,OAAOiN,OAAO,GAAId,GAElBa,IAGfvP,EAAKwB,SAAS,CAAC+M,MAAOc,yEAhCV,IAAAI,EAAA5O,KAEhB8N,MAAM,uDACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAQ,GACFA,EAAKC,KAAKzB,GACV,IAFU/G,EAENyI,EAAQ,GAFFpI,EAAAjF,OAAAkF,EAAA,EAAAlF,CAGQmN,GAHR,IAGV,IAAAlI,EAAAE,MAAAP,EAAAK,EAAAG,KAAAC,MAAwB,KAAfiI,EAAe1I,EAAApE,MAChB8M,EAAMC,UAAYL,EAAK3P,MAAM0O,iBAC7BoB,EAAM/H,KAAKgI,IALT,MAAA5H,GAAAT,EAAAN,EAAAe,GAAA,QAAAT,EAAAU,IAQVuH,EAAKjO,SAAS,CAAC+M,MAAOqB,uCAyB1B,OACIxP,EAAAC,EAAAC,cAACyP,EAAD,CACIxB,MAAO1N,KAAKf,MAAMyO,MAClByB,cAAenP,KAAK4N,oBA9CC1N,aAoD/BkP,yKACO,IAAAC,EAAArP,KACC0N,EAAQ1N,KAAKZ,MAAMsO,MAAMe,IAAI,SAAAC,GAAI,OACnCnP,EAAAC,EAAAC,cAAC6P,EAAD,CACIC,IAAKb,EAAK1N,GACVA,GAAI0N,EAAK1N,GACTiO,QAASP,EAAKO,QACdzB,YAAakB,EAAKlB,YAClBgC,aAAcd,EAAKc,aACnBL,cAAeE,EAAKjQ,MAAM+P,kBAGlC,OACI5P,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACIxC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACsE,MAAM,UACf7E,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACsC,WAAW,OAAQqN,aAAa,QAA3C,YACAlQ,EAAAC,EAAAC,cAACiQ,EAAD,CAAoB1O,GAAG,SAASmB,gBAAgB,EAAMuL,MAAO1N,KAAKZ,MAAMsO,SAE5EnO,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC6P,OAAO,OAAQC,MAAM,gBAC7BlC,WArBWxN,aA4B1B2P,8MACFC,aAAe,SAACpB,GACZA,EAAK1N,GAAK+O,EAAK3Q,MAAM4B,GACrB+O,EAAK3Q,MAAM+P,cAAcT,2DAGpB,IAAAsB,EAAAhQ,KAcL,OAXQT,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACIxC,EAAAC,EAAAC,cAACwQ,EAAD,CACIjP,GAAIgP,EAAK5Q,MAAM4B,GACfiO,QAASe,EAAK5Q,MAAM6P,QACpBzB,YAAawC,EAAK5Q,MAAMoO,YACxBgC,aAAcQ,EAAK5Q,MAAMoQ,aACzBU,aAAcF,EAAKF,uBAfH5P,aA0BlCiQ,8MACFlR,MAAQ,CACJgQ,QAASmB,EAAKhR,MAAM6P,QACpBzB,YAAa4C,EAAKhR,MAAMoO,YACxBgC,aAAcY,EAAKhR,MAAMoQ,aACzBa,mBAAoB,MAkBxBC,wBAA0B,SAACzC,GACvBC,MAAM,kEAAoED,EAAQ7M,GAAG4E,WAAa,IAAK,CACnGmI,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAW4B,EAAKnR,MAAMoR,mBAAmB5B,IAAI,SAAAC,GAC/C,OAAIA,EAAK1N,KAAO6M,EAAQ7M,GACbU,OAAOiN,OAAO,GAAId,GAElBa,IAGf0B,EAAKzP,SAAS,CAAC0P,mBAAoB7B,SAI3C+B,yBAA2B,SAAC7B,GACxBA,EAAK1N,GAAKoP,EAAKhR,MAAM6P,QACrBmB,EAAKE,wBAAwB5B,MAGjC8B,6BAA+B,WAC3BJ,EAAKG,yBAAyBH,EAAKnR,MAAMoR,mBAAmB,OAGhEI,iBAAmB,WACfL,EAAKhR,MAAM8Q,aAAXxO,OAAAgP,EAAA,EAAAhP,CAAA,GAA4B0O,EAAKnR,WAGrC0R,WAAa,WACT,IAAIC,EAAkBR,EAAKnR,MAAMuO,YAAc,eAC/CjJ,SAASC,eAAeoM,GAAiBC,SAAU,EACnDT,EAAKzP,SAAS,CAAC6O,cAAc,GAAQ,WAAYxP,KAAKyQ,qBACtDpM,IAASC,uBAAuBC,SAASC,eAAe,kBACxDsM,KAGsD,IAAlDV,EAAKnR,MAAMoR,mBAAmB,GAAGU,cACjCX,EAAKzP,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEV0O,EAAKnR,MAAMoR,mBAAmB,IAFrB,IAGZU,cAAc,MAGvB,WAAY/Q,KAAKwQ,oCAI5BQ,WAAa,WACT,IAAIJ,EAAkBR,EAAKnR,MAAMuO,YAAc,eAC/CjJ,SAASC,eAAeoM,GAAiBC,SAAU,EACnDT,EAAKzP,SAAS,CAAC6O,cAAc,GAAO,WAAYxP,KAAKyQ,qBACrDpM,IAASC,uBAAuBC,SAASC,eAAe,kBACxDsM,KAGsD,IAAlDV,EAAKnR,MAAMoR,mBAAmB,GAAGU,cACjCX,EAAKzP,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEV0O,EAAKnR,MAAMoR,mBAAmB,IAFrB,IAGZU,cAAc,MAGvB,WAAY/Q,KAAKwQ,oCAI5BS,UAAY,WACR,IAAIC,EAAkBd,EAAKnR,MAAMuO,YAAc,eAC/CjJ,SAASC,eAAe0M,GAAiBL,SAAU,EACnDT,EAAKzP,SAAS,CAAC6O,cAAc,GAAO,WAAYxP,KAAKyQ,qBACrDpM,IAASC,uBAAuBC,SAASC,eAAe,qBAG5D2M,UAAY,WACR,IAAID,EAAkBd,EAAKnR,MAAMuO,YAAc,eAC/CjJ,SAASC,eAAe0M,GAAiBL,SAAU,EACnDT,EAAKzP,SAAS,CAAC6O,cAAc,GAAQ,WAAYxP,KAAKyQ,qBACtDpM,IAASC,uBAAuBC,SAASC,eAAe,qBAG5DrD,SAAW,SAACkF,GACRA,EAAE+K,iBAC6B,YAA3BhB,EAAKnR,MAAMuO,aAAwD,WAA3B4C,EAAKnR,MAAMuO,aACnB,IAA5B4C,EAAKnR,MAAMuQ,aACPjL,SAASC,eAAe,iBAAiB6M,WAAWlN,OAAS,EAE7DiM,EAAKzP,SAAS,CAAC6O,cAAc,GAAQ,WAAYxP,KAAKyQ,qBAEtDpM,IAASL,OAAOzE,EAAAC,EAAAC,cAAC6R,EAAD,CACIpS,QAAS,8BAAgCkR,EAAKnR,MAAMuO,YAAc,IAClEnO,UAAa+Q,EAAKO,WAClBrR,SAAY8Q,EAAKa,YACjB1M,SAASC,eAAe,kBAG5CD,SAASC,eAAe,iBAAiB6M,WAAWlN,OAAS,EAE7DiM,EAAKzP,SAAS,CAAC6O,cAAc,GAAO,WAAYxP,KAAKyQ,qBAErDpM,IAASL,OAAOzE,EAAAC,EAAAC,cAAC6R,EAAD,CACIpS,QAAS,6BAA+BkR,EAAKnR,MAAMuO,YAAc,IACjEnO,UAAa+Q,EAAKY,WAClB1R,SAAY8Q,EAAKe,YACjB5M,SAASC,eAAe,mBAKpD4L,EAAKzP,SAAS,CAAC6O,aAAcnJ,EAAEkL,OAAOV,SAAU,WAAY7Q,KAAKyQ,qBACjEK,KAGsD,IAAlDV,EAAKnR,MAAMoR,mBAAmB,GAAGU,cACjCX,EAAKzP,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEV0O,EAAKnR,MAAMoR,mBAAmB,IAFrB,IAGZU,cAAc,MAGvB,WAAY/Q,KAAKwQ,qGA9IZ,IAAAgB,EAAAxR,KAEhB8N,MAAM,mEACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAQ,GAAQ,IAAA5H,EAAAC,EAAAxF,OAAAkF,EAAA,EAAAlF,CACQmN,GADR,IACV,IAAA3H,EAAAL,MAAAI,EAAAC,EAAAJ,KAAAC,MAAwB,KAAfiI,EAAe/H,EAAA/E,MAChB8M,EAAMC,UAAYuC,EAAKvS,MAAMgQ,SAC7BuC,EAAK7Q,SAAS,CAAC0P,mBAAoB,CAACrB,MAHlC,MAAA5H,GAAAF,EAAAb,EAAAe,GAAA,QAAAF,EAAAG,OAQdyJ,qCAyIA,IAAgC,IAA5B9Q,KAAKf,MAAMuQ,aACX,IAAIiC,EAA4B,WAC5BC,EAAuB,kBAAoB1R,KAAKf,MAAMuO,YAAY5H,WAAa,gBAEnF6L,EAA4B,YAC5BC,EAAuB,kBAAoB1R,KAAKf,MAAMuO,YAAY5H,WAAa,UAGnF,OACIrG,EAAAC,EAAAC,cAAA,OAAKuB,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,YAAapQ,UAAU,kBAAkBtB,QAASD,KAAK4R,sBACvGrS,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACiF,UAAU,SAAU8M,WAAW,OAAQ9R,MAAM,UAAxD,IAAoEC,KAAKf,MAAMuO,YAA/E,KACAjO,EAAAC,EAAAC,cAAA,OAAKuB,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,cAChDpS,EAAAC,EAAAC,cAAA,OAAK8B,UAAWkQ,GACZlS,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,aACXhC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,eAAeuQ,IAAKJ,EAAsBK,IAAI,YAIzExS,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBACXhC,EAAAC,EAAAC,cAAA,SACIwC,KAAK,WACLV,UAAU,yBACVP,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,eAC/Cd,QAAS7Q,KAAKf,MAAMuQ,aACpBrN,eAAgBnC,KAAKf,MAAMuQ,aAC3BrO,SAAUnB,KAAKmB,WAEnB5B,EAAAC,EAAAC,cAAA,SAAO8B,UAAU,sBAAsBwB,QAAS/C,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,gBACvFpS,EAAAC,EAAAC,cAAA,QAAM8B,UAAU,sBAAsByQ,WAAS,KAAKC,UAAQ,QAC5D1S,EAAAC,EAAAC,cAAA,QAAM8B,UAAU,mCA3LRrB,aAmM1BgS,oDAOF,SAAAA,EAAY9S,GAAO,IAAA+S,EAAA,OAAAzQ,OAAAC,EAAA,EAAAD,CAAA1B,KAAAkS,IACfC,EAAAC,EAAAvQ,KAAA7B,KAAMZ,IAPVH,MAAQ,CACJ4R,QAASsB,EAAK/S,MAAM+C,eACpBkO,mBAAoB,GACpBpB,QAAS,GAGMkD,EAkBnB7B,wBAA0B,SAACzC,GACvBC,MAAM,kEAAoED,EAAQ7M,GAAG4E,WAAa,IAAK,CACnGmI,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAW2D,EAAKlT,MAAMoR,mBAAmB5B,IAAI,SAAAC,GAC/C,OAAIA,EAAK1N,KAAO6M,EAAQ7M,GACbU,OAAOiN,OAAO,GAAId,GAElBa,IAGfyD,EAAKxR,SAAS,CAAC0P,mBAAoB7B,OAlCxB2D,EAsCnB5B,yBAA2B,SAAC7B,GACxBA,EAAK1N,GAAKmR,EAAK/S,MAAM6P,QACrBkD,EAAK7B,wBAAwB5B,IAxCdyD,EA2CnB3B,6BAA+B,WAC3B2B,EAAK5B,yBAAyB4B,EAAKlT,MAAMoR,mBAAmB,KA5C7C8B,EA+CnBxB,WAAa,WAE8C,OAAnDpM,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBqM,SAC/CtM,SAASC,eAAe,uBAAuB+D,QAGA,OAAnDhE,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBqM,SAC/CtM,SAASC,eAAe,uBAAuB+D,QAGD,OAAlDhE,SAASC,eAAe,wBACsC,IAA1DD,SAASC,eAAe,sBAAsBqM,SAC9CtM,SAASC,eAAe,sBAAsB+D,QAGE,OAApDhE,SAASC,eAAe,0BACwC,IAA5DD,SAASC,eAAe,wBAAwBqM,SAChDtM,SAASC,eAAe,wBAAwB+D,QAGL,OAA/ChE,SAASC,eAAe,qBACmC,IAAvDD,SAASC,eAAe,mBAAmBqM,SAC3CtM,SAASC,eAAe,mBAAmB+D,QAGnDhE,SAASC,eAAe,UAAUqM,SAAU,EAC5CsB,EAAKxR,SAAS,CAACkQ,SAAS,IACxBxM,IAASC,uBAAuBC,SAASC,eAAe,mBAGF,IAAlD2N,EAAKlT,MAAMoR,mBAAmB,GAAGU,cACjCoB,EAAKxR,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEVyQ,EAAKlT,MAAMoR,mBAAmB,IAFrB,IAGZU,cAAc,MAGvB,WAAY/Q,KAAKwQ,kCAvFT2B,EA2FnBnB,WAAa,WAE8C,OAAnDzM,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBqM,SAC/CtM,SAASC,eAAe,uBAAuB+D,QAGA,OAAnDhE,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBqM,SAC/CtM,SAASC,eAAe,uBAAuB+D,QAGD,OAAlDhE,SAASC,eAAe,wBACsC,IAA1DD,SAASC,eAAe,sBAAsBqM,SAC9CtM,SAASC,eAAe,sBAAsB+D,QAGE,OAApDhE,SAASC,eAAe,0BACwC,IAA5DD,SAASC,eAAe,wBAAwBqM,SAChDtM,SAASC,eAAe,wBAAwB+D,QAGL,OAA/ChE,SAASC,eAAe,qBACmC,IAAvDD,SAASC,eAAe,mBAAmBqM,SAC3CtM,SAASC,eAAe,mBAAmB+D,QAGnDhE,SAASC,eAAe,UAAUqM,SAAU,EAC5CsB,EAAKxR,SAAS,CAACkQ,SAAS,IACxBxM,IAASC,uBAAuBC,SAASC,eAAe,mBAGF,IAAlD2N,EAAKlT,MAAMoR,mBAAmB,GAAGU,cACjCoB,EAAKxR,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEVyQ,EAAKlT,MAAMoR,mBAAmB,IAFrB,IAGZU,cAAc,MAGvB,WAAY/Q,KAAKwQ,kCAnIT2B,EAuInBlB,UAAY,WACR1M,SAASC,eAAe,UAAUqM,SAAU,EAC5CsB,EAAKxR,SAAS,CAACkQ,SAAS,IACxBxM,IAASC,uBAAuBC,SAASC,eAAe,mBA1IzC2N,EA6InBhB,UAAY,WACR5M,SAASC,eAAe,UAAUqM,SAAU,EAC5CsB,EAAKxR,SAAS,CAACkQ,SAAS,IACxBxM,IAASC,uBAAuBC,SAASC,eAAe,mBAhJzC2N,EAmJnBhR,SAAW,SAACkF,GACRA,EAAE+K,kBACyB,IAAvBe,EAAKlT,MAAM4R,QACXxM,IAASL,OAAOzE,EAAAC,EAAAC,cAAC6R,EAAD,CACIpS,QAAQ,0CACRG,UAAa8S,EAAKxB,WAClBrR,SAAY6S,EAAKlB,YAChB1M,SAASC,eAAe,kBAE7CH,IAASL,OAAOzE,EAAAC,EAAAC,cAAC6R,EAAD,CACIpS,QAAQ,yCACRG,UAAa8S,EAAKnB,WAClB1R,SAAY6S,EAAKhB,YACjB5M,SAASC,eAAe,mBA9JhDW,OAAOkN,OAAP3Q,OAAA8K,EAAA,EAAA9K,CAAAyQ,GAFeA,kEAKC,IAAAG,EAAAtS,KAEhB8N,MAAM,mEACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAQ,GAAQ,IAAAvH,EAAAC,EAAA7F,OAAAkF,EAAA,EAAAlF,CACQmN,GADR,IACV,IAAAtH,EAAAV,MAAAS,EAAAC,EAAAT,KAAAC,MAAwB,KAAfiI,EAAe1H,EAAApF,MAChB8M,EAAMC,UAAYqD,EAAKrT,MAAMgQ,SAC7BqD,EAAK3R,SAAS,CAAC0P,mBAAoB,CAACrB,MAHlC,MAAA5H,GAAAG,EAAAlB,EAAAe,GAAA,QAAAG,EAAAF,wCA4Jd,IADKmB,EACDrG,GAAiB,EADhBsG,EAAA/G,OAAAkF,EAAA,EAAAlF,CAEY1B,KAAKZ,MAAMsO,OAFvB,IAEL,IAAAjF,EAAA5B,MAAA2B,EAAAC,EAAA3B,KAAAC,MAAmC,EACL,IADKyB,EAAAtG,MACtBsN,eACLrN,GAAiB,IAJpB,MAAAiF,GAAAqB,EAAApC,EAAAe,GAAA,QAAAqB,EAAApB,IAOL,OACI9H,EAAAC,EAAAC,cAAA,OAAK8B,UAAW,iBAAmBvB,KAAKZ,MAAMmT,MAAQ,gBAAkB,KACpEhT,EAAAC,EAAAC,cAAA,SACIwC,KAAK,WACLD,KAAMhC,KAAKZ,MAAMoT,KACjBjR,UAAU,yBACVP,GAAIhB,KAAKZ,MAAM4B,GACf6P,QAAS7Q,KAAK6Q,QACd1O,eAAgBA,EAChBlC,QAASD,KAAKmB,SACdsR,SAAUzS,KAAKZ,MAAMqT,WAExBzS,KAAKZ,MAAM4B,GACRzB,EAAAC,EAAAC,cAAA,SAAO8B,UAAU,sBAAsBwB,QAAS/C,KAAKZ,MAAM4B,IACvDzB,EAAAC,EAAAC,cAAA,QACI8B,UAAWvB,KAAKZ,MAAMqT,SAAW,6CAA+C,sBAChFT,WAAS,KACTC,UAAQ,QAEZ1S,EAAAC,EAAAC,cAAA,QACI8B,UAAWvB,KAAKZ,MAAMqT,SAAW,8CAA+C,0BAGxF,aAzMavS,aAiNjC,SAAS4Q,IAEDvM,SAASC,eAAe,uBAAuBqM,SAAWtM,SAASC,eAAe,uBAAuBqM,SACzGtM,SAASC,eAAe,sBAAsBqM,SAAWtM,SAASC,eAAe,wBAAwBqM,SACzGtM,SAASC,eAAe,mBAAmBqM,SAC3C1L,OAAOkN,OAAO1R,SAAS,CAACkQ,SAAS,IACjCtM,SAASC,eAAe,UAAUqM,SAAU,GAGvCtM,SAASC,eAAe,uBAAuBqM,SAAYtM,SAASC,eAAe,uBAAuBqM,SAC1GtM,SAASC,eAAe,sBAAsBqM,SAAYtM,SAASC,eAAe,wBAAwBqM,SAC1GtM,SAASC,eAAe,mBAAmBqM,UAC5C1L,OAAOkN,OAAO1R,SAAS,CAACkQ,SAAS,IACjCtM,SAASC,eAAe,UAAUqM,SAAU,GAfxDxM,IAASL,OAAOzE,EAAAC,EAAAC,cAACiT,EAAD,MAA4BnO,SAASC,eAAe,mBAuBpE,IAAImO,EAAiBpO,SAASC,eAAe,kBACzCoO,EAAkBrO,SAASC,eAAe,mBAC1CqO,EAAoBtO,SAASC,eAAe,qBAC5CsO,EAAmBvO,SAASC,eAAe,oBAC3CuO,EAAiBxO,SAASC,eAAe,kBACzCwO,EAAmBzO,SAASC,eAAe,oBAC3CyO,EAAiB1O,SAASC,eAAe,kBACvC0O,EAAO3O,SAASC,eAAe,QAGrCmO,EAAeQ,QAAU,WAElBR,EAAeS,UAAUC,SAAS,aACrCV,EAAeS,UAAUE,IAAI,YAE3BV,EAAgBQ,UAAUC,SAAS,aACrCT,EAAgBQ,UAAUG,OAAO,YAE/BV,EAAkBO,UAAUC,SAAS,aACvCR,EAAkBO,UAAUG,OAAO,YAEjCT,EAAiBM,UAAUC,SAAS,aACtCP,EAAiBM,UAAUG,OAAO,YAEhCR,EAAeK,UAAUC,SAAS,aACpCN,EAAeK,UAAUG,OAAO,YAE9BP,EAAiBI,UAAUC,SAAS,aACtCL,EAAiBI,UAAUG,OAAO,YAEhCN,EAAeG,UAAUC,SAAS,aACpCJ,EAAeG,UAAUG,OAAO,YAIlClP,IAASC,uBAAuB4O,GAGhC7O,IAASC,uBAAuBC,SAASC,eAAe,6BAGxDH,IAASL,OACPzE,EAAAC,EAAAC,cAACF,EAAAC,EAAMgU,WAAP,KACEjU,EAAAC,EAAAC,cAACgU,EAAD,OAEFP,GAIF,IAMIQ,EACAC,EAPAC,EAASrP,SAASC,eAAe,QAAQ6M,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAQpF,IAPAuC,EAAOC,YAAYD,EAAOvC,WAAW,IAGrC9M,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvR,MAAMiU,YAAc,EAInHL,EAAE,EAAGA,EAAE,EAAGA,IACb,IAAKC,EAAE,EAAGA,EAAE,GAAGA,GAAG,EAChBpP,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWsC,GAAG7T,MAAMiU,YAAc,qBAM7HnB,EAAgBO,QAAU,WAEpBR,EAAeS,UAAUC,SAAS,aACpCV,EAAeS,UAAUG,OAAO,YAE7BX,EAAgBQ,UAAUC,SAAS,aACtCT,EAAgBQ,UAAUE,IAAI,YAE5BT,EAAkBO,UAAUC,SAAS,aACvCR,EAAkBO,UAAUG,OAAO,YAEjCT,EAAiBM,UAAUC,SAAS,aACtCP,EAAiBM,UAAUG,OAAO,YAEhCR,EAAeK,UAAUC,SAAS,aACpCN,EAAeK,UAAUG,OAAO,YAE9BP,EAAiBI,UAAUC,SAAS,aACtCL,EAAiBI,UAAUG,OAAO,YAEhCN,EAAeG,UAAUC,SAAS,aACpCJ,EAAeG,UAAUG,OAAO,YAIlClP,IAASC,uBAAuB4O,GAGhC7O,IAASC,uBAAuBC,SAASC,eAAe,6BAGxDH,IAASL,OACPzE,EAAAC,EAAAC,cAACF,EAAAC,EAAMgU,WAAP,KACEjU,EAAAC,EAAAC,cAACuU,EAAD,OAEFd,GAIF,IAMIQ,EACAC,EAPAC,EAASrP,SAASC,eAAe,QAAQ6M,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAQpF,IAPAuC,EAAOC,YAAYD,EAAOvC,WAAW,IAGrC9M,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvR,MAAMiU,YAAc,EAInHL,EAAE,EAAGA,EAAE,EAAGA,IACb,IAAKC,EAAE,EAAGA,EAAE,GAAGA,GAAG,EAChBpP,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWsC,GAAG7T,MAAMiU,YAAc,qBAM7HlB,EAAkBM,QAAU,WAEtBR,EAAeS,UAAUC,SAAS,aACpCV,EAAeS,UAAUG,OAAO,YAE9BX,EAAgBQ,UAAUC,SAAS,aACrCT,EAAgBQ,UAAUG,OAAO,YAE9BV,EAAkBO,UAAUC,SAAS,aACxCR,EAAkBO,UAAUE,IAAI,YAE9BR,EAAiBM,UAAUC,SAAS,aACtCP,EAAiBM,UAAUG,OAAO,YAEhCR,EAAeK,UAAUC,SAAS,aACpCN,EAAeK,UAAUG,OAAO,YAE9BP,EAAiBI,UAAUC,SAAS,aACtCL,EAAiBI,UAAUG,OAAO,YAEhCN,EAAeG,UAAUC,SAAS,aACpCJ,EAAeG,UAAUG,OAAO,YAIlClP,IAASC,uBAAuB4O,GAGhC7O,IAASL,OACPzE,EAAAC,EAAAC,cAACF,EAAAC,EAAMgU,WAAP,KACEjU,EAAAC,EAAAC,cAACwU,EAAD,OAEFf,GAIF,IAMIQ,EACAC,EAPAC,EAASrP,SAASC,eAAe,QAAQ6M,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAQpF,IAPAuC,EAAOC,YAAYD,EAAOvC,WAAW,IAGrC9M,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvR,MAAMiU,YAAc,EAInHL,EAAE,EAAGA,EAAE,EAAGA,IACb,IAAKC,EAAE,EAAGA,EAAE,GAAGA,GAAG,EAChBpP,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWsC,GAAG7T,MAAMiU,YAAc,qBAM7HjB,EAAiBK,QAAU,WAErBR,EAAeS,UAAUC,SAAS,aACpCV,EAAeS,UAAUG,OAAO,YAE9BX,EAAgBQ,UAAUC,SAAS,aACrCT,EAAgBQ,UAAUG,OAAO,YAE/BV,EAAkBO,UAAUC,SAAS,aACvCR,EAAkBO,UAAUG,OAAO,YAEhCT,EAAiBM,UAAUC,SAAS,aACvCP,EAAiBM,UAAUE,IAAI,YAE7BP,EAAeK,UAAUC,SAAS,aACpCN,EAAeK,UAAUG,OAAO,YAE9BP,EAAiBI,UAAUC,SAAS,aACtCL,EAAiBI,UAAUG,OAAO,YAEhCN,EAAeG,UAAUC,SAAS,aACpCJ,EAAeG,UAAUG,OAAO,YAIlClP,IAASC,uBAAuB4O,GAGhC7O,IAASC,uBAAuBC,SAASC,eAAe,6BAGxDH,IAASL,OACPzE,EAAAC,EAAAC,cAACF,EAAAC,EAAMgU,WAAP,KACEjU,EAAAC,EAAAC,cAACyU,EAAD,OAEFhB,GAIF,IAMIQ,EACAC,EAPAC,EAASrP,SAASC,eAAe,QAAQ6M,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAQpF,IAPAuC,EAAOC,YAAYD,EAAOvC,WAAW,IAGrC9M,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvR,MAAMiU,YAAc,EAInHL,EAAE,EAAGA,EAAE,EAAGA,IACb,IAAKC,EAAE,EAAGA,EAAE,GAAGA,GAAG,EAChBpP,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWsC,GAAG7T,MAAMiU,YAAc,qBAM7HxP,SAAS4P,iBAAiB,UAAW,SAAS9N,GAC1C,IAAI+N,EAAY7P,SAASC,eAAe,kBACpC6P,EAAa9P,SAASuP,uBAAuB,wBAC/B,OAAdM,IACKA,EAAUf,SAAShN,EAAEkL,SACI,IAAtB8C,EAAWlQ,QACXE,IAASC,uBAAuBC,SAASC,eAAe,gCAQxEuO,EAAeI,QAAU,WAEnBR,EAAeS,UAAUC,SAAS,aACpCV,EAAeS,UAAUG,OAAO,YAE9BX,EAAgBQ,UAAUC,SAAS,aACrCT,EAAgBQ,UAAUG,OAAO,YAE/BV,EAAkBO,UAAUC,SAAS,aACvCR,EAAkBO,UAAUG,OAAO,YAEjCT,EAAiBM,UAAUC,SAAS,aACtCP,EAAiBM,UAAUG,OAAO,YAE/BR,EAAeK,UAAUC,SAAS,aACrCN,EAAeK,UAAUE,IAAI,YAE3BN,EAAiBI,UAAUC,SAAS,aACtCL,EAAiBI,UAAUG,OAAO,YAEhCN,EAAeG,UAAUC,SAAS,aACpCJ,EAAeG,UAAUG,OAAO,YAIlClP,IAASC,uBAAuB4O,GAGhC7O,IAASC,uBAAuBC,SAASC,eAAe,6BAGxDH,IAASL,OACPzE,EAAAC,EAAAC,cAACF,EAAAC,EAAMgU,WAAP,KACEjU,EAAAC,EAAAC,cAAC6U,EAAD,OAEFpB,GAIF,IAMIQ,EACAC,EAPAC,EAASrP,SAASC,eAAe,QAAQ6M,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAQpF,IAPAuC,EAAOC,YAAYD,EAAOvC,WAAW,IAGrC9M,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvR,MAAMiU,YAAc,EAInHL,EAAE,EAAGA,EAAE,EAAGA,IACb,IAAKC,EAAE,EAAGA,EAAE,GAAGA,GAAG,EAChBpP,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWsC,GAAG7T,MAAMiU,YAAc,qBAM7Hf,EAAiBG,QAAU,WAErBR,EAAeS,UAAUC,SAAS,aACpCV,EAAeS,UAAUG,OAAO,YAE9BX,EAAgBQ,UAAUC,SAAS,aACrCT,EAAgBQ,UAAUG,OAAO,YAE/BV,EAAkBO,UAAUC,SAAS,aACvCR,EAAkBO,UAAUG,OAAO,YAEjCT,EAAiBM,UAAUC,SAAS,aACtCP,EAAiBM,UAAUG,OAAO,YAEhCR,EAAeK,UAAUC,SAAS,aACpCN,EAAeK,UAAUG,OAAO,YAE7BP,EAAiBI,UAAUC,SAAS,aACvCL,EAAiBI,UAAUE,IAAI,YAE7BL,EAAeG,UAAUC,SAAS,aACpCJ,EAAeG,UAAUG,OAAO,YAIlClP,IAASC,uBAAuB4O,GAGhC7O,IAASC,uBAAuBC,SAASC,eAAe,6BAGxDH,IAASL,OACPzE,EAAAC,EAAAC,cAACF,EAAAC,EAAMgU,WAAP,KACEjU,EAAAC,EAAAC,cAAC8U,EAAD,OAEFrB,GAIF,IAMIQ,EACAC,EAPAC,EAASrP,SAASC,eAAe,QAAQ6M,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAQpF,IAPAuC,EAAOC,YAAYD,EAAOvC,WAAW,IAGrC9M,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvR,MAAMiU,YAAc,EAInHL,EAAE,EAAGA,EAAE,EAAGA,IACb,IAAKC,EAAE,EAAGA,EAAE,GAAGA,GAAG,EAChBpP,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWsC,GAAG7T,MAAMiU,YAAc,qBAM7Hd,EAAeE,QAAU,WAEnBR,EAAeS,UAAUC,SAAS,aACpCV,EAAeS,UAAUG,OAAO,YAE9BX,EAAgBQ,UAAUC,SAAS,aACrCT,EAAgBQ,UAAUG,OAAO,YAE/BV,EAAkBO,UAAUC,SAAS,aACvCR,EAAkBO,UAAUG,OAAO,YAEjCT,EAAiBM,UAAUC,SAAS,aACtCP,EAAiBM,UAAUG,OAAO,YAEhCR,EAAeK,UAAUC,SAAS,aACpCN,EAAeK,UAAUG,OAAO,YAE9BP,EAAiBI,UAAUC,SAAS,aACtCL,EAAiBI,UAAUG,OAAO,YAE/BN,EAAeG,UAAUC,SAAS,aACrCJ,EAAeG,UAAUE,IAAI,YAI/BjP,IAASC,uBAAuB4O,GAGhC7O,IAASC,uBAAuBC,SAASC,eAAe,6BAGxDH,IAASL,OACPzE,EAAAC,EAAAC,cAACF,EAAAC,EAAMgU,WAAP,KACEjU,EAAAC,EAAAC,cAAC+U,EAAD,OAEFtB,GAIF,IAMIQ,EACAC,EAPAC,EAASrP,SAASC,eAAe,QAAQ6M,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAQpF,IAPAuC,EAAOC,YAAYD,EAAOvC,WAAW,IAGrC9M,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvR,MAAMiU,YAAc,EAInHL,EAAE,EAAGA,EAAE,EAAGA,IACb,IAAKC,EAAE,EAAGA,EAAE,GAAGA,GAAG,EAChBpP,SAASuP,uBAAuB,sBAAsB,GAAGzC,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWsC,GAAG7T,MAAMiU,YAAc,qBAK7H,IAAIU,GAAuBlQ,SAASC,eAAe,qBAC/CkQ,GAAiBnQ,SAASC,eAAe,kBACzCmQ,GAAkBpQ,SAASC,eAAe,qBAC1CoQ,GAAmBrQ,SAASC,eAAe,YAC3CqQ,GAAkBtQ,SAASC,eAAe,qBAC1CsQ,GAAmBvQ,SAASC,eAAe,oBAE/CW,OAAO4P,OAAS,WAEd,IAGIC,EAHS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAIC,MACKC,UACC,WACtB3Q,SAASC,eAAewQ,GAAWzM,QACnC,IAAI4M,EAAwBV,GAAqBW,wBAC7CC,EAAqBX,GAAeU,wBACpCE,EAAeH,EAAsBI,MAAQF,EAAmBE,MAAQ,GAC5Eb,GAAec,YAAc,WAC3BnR,IAASL,OACLzE,EAAAC,EAAAC,cAAA,OAAKuB,GAAI,wBACPzB,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,mJACMwE,SAASC,eAAe,kBACpCD,SAASC,eAAe,wBAAwB1E,MAAM8P,MAAQ0F,EAAa1P,WAAa,MAE1F8O,GAAee,WAAa,WAC1BpR,IAASC,uBAAuBC,SAASC,eAAe,mBAE1D,IAAIkR,EAAmBf,GAAgBS,wBACnCO,EAAuBf,GAAiBQ,wBACxCQ,EAAiBF,EAAiBH,MAAQI,EAAqBJ,MAAQ,GAC3EX,GAAiBY,YAAc,WAC7BnR,IAASL,OACLzE,EAAAC,EAAAC,cAAA,OAAKuB,GAAI,kBACPzB,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,0IACMwE,SAASC,eAAe,YACpCD,SAASC,eAAe,kBAAkB1E,MAAM8P,MAAQgG,EAAehQ,WAAa,MAEtFgP,GAAiBa,WAAa,WAC5BpR,IAASC,uBAAuBC,SAASC,eAAe,aAE1D,IAAIqR,EAAmBhB,GAAgBO,wBACnCU,EAAuBhB,GAAiBM,wBACxCW,EAAiBF,EAAiBN,MAAQO,EAAqBP,MAAQ,GAC3ET,GAAiBU,YAAc,WAC7BnR,IAASL,OACLzE,EAAAC,EAAAC,cAAA,OAAKuB,GAAI,0BACPzB,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,yKACMwE,SAASC,eAAe,oBACpCD,SAASC,eAAe,0BAA0B1E,MAAM8P,MAAQmG,EAAenQ,WAAa,MAE9FkP,GAAiBW,WAAa,WAC5BpR,IAASC,uBAAuBC,SAASC,eAAe,sBAI5DW,OAAO6Q,SAAW,WAEhB,IAAIb,EAAwBV,GAAqBW,wBAC7CC,EAAqBX,GAAeU,wBACpCE,EAAeH,EAAsBI,MAAQF,EAAmBE,MAAQ,GAC5Eb,GAAec,YAAc,WAC3BnR,IAASL,OACLzE,EAAAC,EAAAC,cAAA,OAAKuB,GAAI,wBACPzB,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,mJACMwE,SAASC,eAAe,kBACpCD,SAASC,eAAe,wBAAwB1E,MAAM8P,MAAQ0F,EAAa1P,WAAa,MAE1F8O,GAAee,WAAa,WAC1BpR,IAASC,uBAAuBC,SAASC,eAAe,mBAE1D,IAAIkR,EAAmBf,GAAgBS,wBACnCO,EAAuBf,GAAiBQ,wBACxCQ,EAAiBF,EAAiBH,MAAQI,EAAqBJ,MAAQ,GAC3EX,GAAiBY,YAAc,WAC7BnR,IAASL,OACLzE,EAAAC,EAAAC,cAAA,OAAKuB,GAAI,kBACPzB,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,0IACMwE,SAASC,eAAe,YACpCD,SAASC,eAAe,kBAAkB1E,MAAM8P,MAAQgG,EAAehQ,WAAa,MAEtFgP,GAAiBa,WAAa,WAC5BpR,IAASC,uBAAuBC,SAASC,eAAe,aAE1D,IAAIqR,EAAmBhB,GAAgBO,wBACnCU,EAAuBhB,GAAiBM,wBACxCW,EAAiBF,EAAiBN,MAAQO,EAAqBP,MAAQ,GAC3ET,GAAiBU,YAAc,WAC7BnR,IAASL,OACLzE,EAAAC,EAAAC,cAAA,OAAKuB,GAAI,0BACPzB,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,yKACMwE,SAASC,eAAe,oBACpCD,SAASC,eAAe,0BAA0B1E,MAAM8P,MAAQmG,EAAenQ,WAAa,MAE9FkP,GAAiBW,WAAa,WAC5BpR,IAASC,uBAAuBC,SAASC,eAAe,sBAK5D,IAAIyR,GAAa9Q,OAAO+Q,OACpBC,GAAShR,OAAOiR,UAChBC,GAAaF,GAAOG,OACpBC,GAAgC,qBAAfpR,OAAOqR,IACxBC,GAAWN,GAAOO,UAAUC,QAAQ,SAAW,EACjCR,GAAOO,UAAUE,MAAM,SAItCrS,SAASsS,UAAY,SAASjT,IACb,IAAhBA,EAAMkT,SAAmC,OAAhBlT,EAAMmT,OAAkC,QAAhBnT,EAAMmT,OAAmC,QAAhBnT,EAAMmT,OAAmC,QAAhBnT,EAAMmT,OAAoC,QAAhBnT,EAAMmT,OAAoC,QAAhBnT,EAAMmT,OACzJnT,EAAMwN,kBAQG,OAAf6E,IACsB,qBAAfA,IACQ,gBAAfI,KACY,IAAZE,KACa,IAAbE,KAGClS,SAASsS,UAAY,SAASjT,IACX,IAAlBA,EAAMkT,SAAqC,OAAhBlT,EAAMmT,OAAkC,QAAhBnT,EAAMmT,OAAmC,QAAhBnT,EAAMmT,OAAmC,QAAhBnT,EAAMmT,OAAoC,QAAhBnT,EAAMmT,OAAoC,QAAhBnT,EAAMmT,OAC3JnT,EAAMwN,uBAaR4F,+MACF/X,MAAQ,CACJyO,MAAO,GACPC,gBAAiB,KAmBrBC,WAAa,SAACC,GACVC,MAAM,wDAA0DD,EAAQ7M,GAAG4E,WAAa,IAAK,CACzFmI,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWyI,EAAKhY,MAAMyO,MAAMe,IAAI,SAAAC,GAClC,OAAIA,EAAK1N,KAAO6M,EAAQ7M,GACbU,OAAOiN,OAAO,GAAId,GAElBa,IAGfuI,EAAKtW,SAAS,CAAC+M,MAAOc,yEAhCV,IAAA0I,EAAAlX,KAEhB8N,MAAM,yDACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAQ,GACFA,EAAKC,KAAKzB,GACV,IAFUxE,EAENkG,EAAQ,GAFFjG,EAAApH,OAAAkF,EAAA,EAAAlF,CAGQmN,GAHR,IAGV,IAAA/F,EAAAjC,MAAAgC,EAAAC,EAAAhC,KAAAC,MAAwB,KAAfiI,EAAenG,EAAA3G,MAChB8M,EAAMC,UAAYiI,EAAKjY,MAAM0O,iBAC7BoB,EAAM/H,KAAKgI,IALT,MAAA5H,GAAA0B,EAAAzC,EAAAe,GAAA,QAAA0B,EAAAzB,IAQV6P,EAAKvW,SAAS,CAAC+M,MAAOqB,uCAyB1B,OACIxP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACExC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC0X,GAAD,CACIzJ,MAAO1N,KAAKf,MAAMyO,MAClByB,cAAenP,KAAK4N,aAExBrO,EAAAC,EAAAC,cAAA,OAAKuB,GAAG,wBAAR,aAlDyBd,aAwDjCkX,0KACO,IAAAC,EAAArX,KACC0N,EAAQ1N,KAAKZ,MAAMsO,MAAMe,IAAI,SAAAC,GAAI,OACnCnP,EAAAC,EAAAC,cAAC6X,GAAD,CACI/H,IAAKb,EAAK1N,GACVA,GAAI0N,EAAK1N,GACTiO,QAASP,EAAKO,QACdzB,YAAakB,EAAKlB,YAClB+J,iBAAkB7I,EAAK6I,iBACvBpI,cAAekI,EAAKjY,MAAM+P,kBAGlC,OACI5P,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,iBACVmM,UAdiBxN,aAoB5BsX,+MACF1H,aAAe,SAACpB,GACZA,EAAK1N,GAAKyW,EAAKrY,MAAM4B,GACrByW,EAAKrY,MAAM+P,cAAcT,2DAGpB,IAAAgJ,EAAA1X,KAcL,OAXQT,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuC,SAAA,KACIxC,EAAAC,EAAAC,cAACkY,GAAD,CACI3W,GAAI0W,EAAKtY,MAAM4B,GACfiO,QAASyI,EAAKtY,MAAM6P,QACpBzB,YAAakK,EAAKtY,MAAMoO,YACxB+J,iBAAkBG,EAAKtY,MAAMmY,iBAC7BrH,aAAcwH,EAAK5H,uBAfD5P,aA0BpC0X,+MACF3Y,MAAQ,CACJgQ,QAAS4I,EAAKzY,MAAM6P,QACpBzB,YAAaqK,EAAKzY,MAAMoO,YACxB+J,iBAAkBM,EAAKzY,MAAMmY,iBAC7BlH,mBAAoB,MAgBxBC,wBAA0B,SAACzC,GACvBC,MAAM,kEAAoED,EAAQ7M,GAAG4E,WAAa,IAAK,CACnGmI,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWqJ,EAAK5Y,MAAMoR,mBAAmB5B,IAAI,SAAAC,GAC/C,OAAIA,EAAK1N,KAAO6M,EAAQ7M,GACbU,OAAOiN,OAAO,GAAId,GAElBa,IAGfmJ,EAAKlX,SAAS,CAAC0P,mBAAoB7B,SAI3C+B,yBAA2B,SAAC7B,GACxBA,EAAK1N,GAAK6W,EAAKzY,MAAM6P,QACrB4I,EAAKvH,wBAAwB5B,MAGjC8B,6BAA+B,WAC3BqH,EAAKtH,yBAAyBsH,EAAK5Y,MAAMoR,mBAAmB,OAGhEM,WAAa,WAETkH,EAAKlX,SAAS,CAAC4W,iBAAkB,WAAY,WAAYvX,KAAKyQ,qBAC9DpM,IAASC,uBAAuBC,SAASC,eAAe,mBAGA,IAApDqT,EAAK5Y,MAAMoR,mBAAmB,GAAGyH,gBACjCD,EAAKlX,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEVmW,EAAK5Y,MAAMoR,mBAAmB,IAFrB,IAGZyH,gBAAgB,MAGzB,WAAY9X,KAAKwQ,oCAI5BS,UAAY,WACR1M,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAO,IAAM,UAAUzP,MAAQ2V,EAAK5Y,MAAMsY,iBACjGlT,IAASC,uBAAuBC,SAASC,eAAe,qBAG5DiM,iBAAmB,WACfoH,EAAKzY,MAAM8Q,aAAXxO,OAAAgP,EAAA,EAAAhP,CAAA,GAA4BmW,EAAK5Y,WAGrC8Y,oBAAsB,SAACC,GACM,UAArBA,EAAIzG,OAAOrP,OAA0C,YAArB8V,EAAIzG,OAAOrP,QAE3CmC,IAASC,uBAAuBC,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,qBACnGpN,SAASC,eAAe,wBAAwBjD,UAAY,GAE5DsW,EAAKlX,SAAS,CAAC4W,iBAAkBS,EAAIzG,OAAOrP,OAAQ,WAAYlC,KAAKyQ,sBAGb,IAApDoH,EAAK5Y,MAAMoR,mBAAmB,GAAGyH,gBACjCD,EAAKlX,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEVmW,EAAK5Y,MAAMoR,mBAAmB,IAFrB,IAGZyH,gBAAgB,MAGzB,WAAY9X,KAAKwQ,kCAGH,UAArBwH,EAAIzG,OAAOrP,QAEXmC,IAASL,OACLzE,EAAAC,EAAAC,cAACwY,GAAD,CACIzK,YAAaqK,EAAK5Y,MAAMuO,YACxB0K,kBAAmBL,EAAKK,kBACxBC,iBAAkBN,EAAKM,iBACvBC,oBAAqBP,EAAKO,oBAC1BC,gBAAiBR,EAAKQ,kBACtB9T,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,qBAE3EpN,SAASC,eAAe,wBAAwBjD,UAAY,0BAEvC,YAArByW,EAAIzG,OAAOrP,QAEXmC,IAASC,uBAAuBC,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,qBACnGpN,SAASC,eAAe,wBAAwBjD,UAAY,GAC5D8C,IAASL,OAAOzE,EAAAC,EAAAC,cAAC6R,EAAD,CACIpS,QAAS,mDAAqD2Y,EAAK5Y,MAAMuO,YAAc,IACvFnO,UAAawY,EAAKlH,WAClBrR,SAAYuY,EAAK5G,YACjB1M,SAASC,eAAe,sBAIpD0T,kBAAoB,SAACF,GACjBH,EAAKlX,SAAS,CAAC4W,iBAAkBS,EAAIzG,OAAOrP,WAGhDiW,iBAAmB,SAACH,GACA,UAAZA,EAAIzI,KAAmC,KAAhByI,EAAIM,SAC3BT,EAAKQ,qBAIbrH,WAAa,WAETzM,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,KAAKpQ,UAAY,UAE9EgD,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,KAAKN,WAAW,GAAGA,WAAW,GAAGS,IAAM,kBAAoB+F,EAAK5Y,MAAMuO,YAAY5H,WAAa,WAE5JrB,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,UAAUzP,MAAQ,UAErF2V,EAAKlX,SAAS,CAAC4W,iBAAkB,WAAY,WAAYvX,KAAKyQ,qBAC9DpM,IAASC,uBAAuBC,SAASC,eAAe,mBAGA,IAApDqT,EAAK5Y,MAAMoR,mBAAmB,GAAGyH,gBACjCD,EAAKlX,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEVmW,EAAK5Y,MAAMoR,mBAAmB,IAFrB,IAGZyH,gBAAgB,MAGzB,WAAY9X,KAAKwQ,oCAI5BW,UAAY,WACR9M,IAASC,uBAAuBC,SAASC,eAAe,qBAG5D+T,wBAA0B,WAC8D,cAAhFhU,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,KAAKpQ,UAClE8C,IAASL,OAAOzE,EAAAC,EAAAC,cAAC6R,EAAD,CACIpS,QAAS,mDAAqD2Y,EAAK5Y,MAAMuO,YAAc,IACvFnO,UAAawY,EAAK7G,WAClB1R,SAAYuY,EAAK1G,YACjB5M,SAASC,eAAe,mBAG5CD,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,KAAKpQ,UAAY,YAE9EgD,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,KAAKN,WAAW,GAAGA,WAAW,GAAGS,IAAM,kBAAoB+F,EAAK5Y,MAAMuO,YAAY5H,WAAa,UAE5JrB,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,UAAUzP,MAAQ,IAErF2V,EAAKlX,SAAS,CAAC4W,iBAAkB,KAAM,WAAYvX,KAAKyQ,sBAGA,IAApDoH,EAAK5Y,MAAMoR,mBAAmB,GAAGyH,gBACjCD,EAAKlX,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEVmW,EAAK5Y,MAAMoR,mBAAmB,IAFrB,IAGZyH,gBAAgB,MAGzB,WAAY9X,KAAKwQ,qCAKhC4H,oBAAsB,WAElB/T,IAASC,uBAAuBC,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,qBACnGpN,SAASC,eAAe,wBAAwBjD,UAAY,GAE5DgD,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,UAAUzP,MAAQ,OAGzFmW,gBAAkB,WAEd9T,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,UAAUzP,MAAQqC,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,aAAazP,MAErKqC,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,aAAazP,MAAQ,GAExFmC,IAASC,uBAAuBC,SAASC,eAAeqT,EAAK5Y,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,qBACnGpN,SAASC,eAAe,wBAAwBjD,UAAY,GAE5DsW,EAAKpH,oBAGmD,IAApDoH,EAAK5Y,MAAMoR,mBAAmB,GAAGyH,gBACjCD,EAAKlX,SAAS,CACV0P,mBAAoB,CAAC3O,OAAAgP,EAAA,EAAAhP,QAAAgP,EAAA,EAAAhP,CAAA,GAEVmW,EAAK5Y,MAAMoR,mBAAmB,IAFrB,IAGZyH,gBAAgB,MAGzB,WAAY9X,KAAKwQ,oGAnNR,IAAAgI,EAAAxY,KAEhB8N,MAAM,mEACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAQ,GAAQ,IAAA9F,EAAAC,EAAAtH,OAAAkF,EAAA,EAAAlF,CACQmN,GADR,IACV,IAAA7F,EAAAnC,MAAAkC,EAAAC,EAAAlC,KAAAC,MAAwB,KAAfiI,EAAejG,EAAA7G,MAChB8M,EAAMC,UAAYuJ,EAAKvZ,MAAMgQ,SAC7BuJ,EAAK7X,SAAS,CAAC0P,mBAAoB,CAACrB,MAHlC,MAAA5H,GAAA4B,EAAA3C,EAAAe,GAAA,QAAA4B,EAAA3B,wCAqNd,GADwB,CAAC,UAAW,IAAK,KAAM,KAAM,KAAM,KAAM,SAC7C3B,SAAS1F,KAAKf,MAAMsY,iBAAiB3R,YACrD,IAAI6M,GAAW,EACXgG,EAAgB,GAChBC,EAAe,QAEnBjG,GAAW,EACXgG,EAAgBzY,KAAKf,MAAMsY,iBAC3BmB,EAAe1Y,KAAKf,MAAMsY,iBAAmB,WAGjD,GAA+C,YAA3CvX,KAAKf,MAAMsY,iBAAiB3R,WAC5B,IAAI+S,EAA8B,UAC9BC,EAAyB,kBAAoB5Y,KAAKf,MAAMuO,YAAY5H,WAAa,gBAErF+S,EAA8B,YAC9BC,EAAyB,kBAAoB5Y,KAAKf,MAAMuO,YAAY5H,WAAa,UAGrF,OACIrG,EAAAC,EAAAC,cAAA,OAAKuB,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,cAAepQ,UAAU,qBACzEhC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,0BACXhC,EAAAC,EAAAC,cAAA,OAAK8B,UAAWoX,EAA6B3X,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAK1R,QAASD,KAAKuY,yBACrGhZ,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,aACXhC,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,eAAeuQ,IAAK8G,EAAwB7G,IAAI,YAI3ExS,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC8P,MAAM,QAASiJ,OAAO,OAAQC,UAAU,YACjDvZ,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiZ,SAAS,WAAYnJ,MAAM,QAASiJ,OAAO,MAAOC,UAAU,YACrEvZ,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,mBAAmBP,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,YAC7EpS,EAAAC,EAAAC,cAAA,OAAK8B,UAAU,gBACXhC,EAAAC,EAAAC,cAAA,aAAKO,KAAKf,MAAMuO,YAAhB,MAEJjO,EAAAC,EAAAC,cAAA,UAAQ8B,UAAU,YAAYL,aAAclB,KAAKf,MAAMsY,iBAAkBpW,SAAUnB,KAAK+X,oBAAqB/W,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,UACxJpS,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,WAAd,gBACA3C,EAAAC,EAAAC,cAAA,YAAUuZ,MAAM,0BACZzZ,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,KAAd,eACA3C,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,MAAd,gBACA3C,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,MAAd,gBACA3C,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,MAAd,gBACA3C,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,MAAd,YACA3C,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,SAAd,YAEJ3C,EAAAC,EAAAC,cAAA,UAAQyC,MAAOuW,EAAehG,SAAUA,GAAxC,IAAoDiG,EAApD,OAGRnZ,EAAAC,EAAAC,cAAA,OAAKuB,GAAIhB,KAAKf,MAAMuO,YAAYmE,QAAQ,MAAM,IAAM,oBAApD,eA/QUzR,aAuR5B+Y,0KAEE,OACI1Z,EAAAC,EAAAC,cAAA,OAAKuB,GAAIhB,KAAKZ,MAAMoO,YAAYmE,QAAQ,MAAM,IAAM,gBAAiBpQ,UAAU,mBAC3EhC,EAAAC,EAAAC,cAAA,SAAOwC,KAAK,OAAOjB,GAAIhB,KAAKZ,MAAMoO,YAAYmE,QAAQ,MAAM,IAAM,YAAaxQ,SAAUnB,KAAKZ,MAAM8Y,kBAAmBgB,QAASlZ,KAAKZ,MAAM+Y,mBAC3I5Y,EAAAC,EAAAC,cAAA,KAAG8B,UAAU,WAAb,aACAhC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQuB,GAAIhB,KAAKZ,MAAMoO,YAAYmE,QAAQ,MAAM,IAAM,eAAgB1R,QAASD,KAAKZ,MAAMgZ,qBAA3F,YACA7Y,EAAAC,EAAAC,cAAA,UAAQuB,GAAIhB,KAAKZ,MAAMoO,YAAYmE,QAAQ,MAAM,IAAM,WAAY1R,QAASD,KAAKZ,MAAMiZ,iBAAvF,gBARmBnY,aAcnCmE,IAASL,OAAOzE,EAAAC,EAAAC,cAAC0Z,GAAD,MAA8B5U,SAASC,eAAe,4CCt9CtE9C,OAAO0X,eAAeC,EAAS,aAAc,CACzCnX,OAAO,IAoQXmX,EAAQvX,QAjQO,CAEXwK,UAAW,CAAC,CACRtL,GAAI,KACJgB,KAAM,WACP,CACChB,GAAI,KACJgB,KAAM,WACP,CACChB,GAAI,KACJgB,KAAM,UACP,CACChB,GAAI,KACJgB,KAAM,aACP,CACChB,GAAI,KACJgB,KAAM,QAEVkD,OAAQ,CAEN,CACElE,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACR,CACC5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACR,CACC5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACR,CACC5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACR,CACC5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IAGX,CACE5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,EACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IAGT,CACE5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAQ,UACRvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IAGT,CACE5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IAGT,CACE5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO,IACN,CACD5D,GAAI,GACJ0D,MAAO,sBACPC,IAAK,sBACLZ,WAAY,KACZE,MAAO,yCACPmE,aAAa,EACbD,QAAS,UACTvD,MAAO","file":"static/js/main.1cefca7b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass ConfirmAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onConfirm: this.props.onConfirm,\r\n        onCancel: this.props.onCancel\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"confirm_alert_cancel\" onClick={this.state.onCancel}> Cancel </button>\r\n                            <button class=\"confirm_alert_confirm\" onClick={this.state.onConfirm}> Confirm </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ConfirmAlert;","// This is the component that wraps the calendar in a drag and drop context to allow dragging. \r\n\r\nimport { DragDropContext } from \"react-dnd\";\r\nimport HTML5Backend from \"react-dnd-html5-backend\";\r\n\r\nexport default DragDropContext(HTML5Backend);\r\n","// This is the component to select the start and end times in the popup.\r\n\r\nimport React from \"react\";\r\nimport \"rc-time-picker/assets/index.css\";\r\nimport TimePicker from \"rc-time-picker\";\r\n\r\nclass Timepicker extends React.Component {\r\n  state = {\r\n    startValue: this.props.defaultStart, // This is the default value for the start time when popup appears.\r\n    endValue: this.props.defaultEnd // This is the default value for the end time when popup appears.\r\n  };\r\n\r\n  // When the start value is changed, update the state.\r\n  handleStartValueChange = (startValue, endValue) => {\r\n    this.setState({startValue})\r\n  };\r\n\r\n  // When the end value is changed, update the state.\r\n  handleEndValueChange = (startValue, endValue) => {\r\n    this.setState({endValue})\r\n  };\r\n\r\n  render() {\r\n    const { startValue, endValue } = this.state;\r\n    return (\r\n      <div>\r\n        <h3 style={{fontSize:\"12px\"}}> Start: </h3>\r\n        <TimePicker\r\n          id=\"start\"\r\n          showSecond={false}\r\n          defaultValue={startValue}\r\n          onChange={this.handleStartValueChange}\r\n          format={\"h:mm A\"}\r\n          minuteStep={15}\r\n          use12Hours\r\n          className=\"xxx\"\r\n        />\r\n        <h3 style={{fontSize:\"12px\"}}> End: </h3>\r\n        <TimePicker\r\n          id=\"end\"\r\n          showSecond={false}\r\n          defaultValue={endValue}\r\n          onChange={this.handleEndValueChange}\r\n          format={\"h:mm A\"}\r\n          minuteStep={15}\r\n          use12Hours\r\n          className=\"xxx\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Timepicker;\r\n","// This is the component to select the repeat options.\r\n\r\nimport React from \"react\";\r\n\r\nclass Radio extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      default: this.props.default // This is the default value that should be checked, depending on the repeat options that has been set.\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n          <h3 style={{fontSize:\"12px\"}}> {this.props.name} </h3>\r\n          {this.state.default === \"Every Day\" && <input type=\"radio\" name={this.props.name} value=\"Every Day\" defaultChecked/>}\r\n          {this.state.default !== \"Every Day\" && <input type=\"radio\" name={this.props.name} value=\"Every Day\"/>}\r\n          <label style={{marginLeft:\"10px\"}}> Every Day </label>\r\n          <br />\r\n          {this.state.default === \"Every Week\" && <input type=\"radio\" name={this.props.name} value=\"Every Week\" defaultChecked/>}\r\n          {this.state.default !== \"Every Week\" && <input type=\"radio\" name={this.props.name} value=\"Every Week\"/>}\r\n          <label style={{marginLeft:\"10px\"}}> Every {this.props.day} </label>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Radio;\r\n","// This is the component for the \"Also apply to: \" option\r\n\r\nimport React from \"react\";\r\n\r\nclass Checkbox extends React.Component {\r\n  render() {\r\n    // Set the option id based on the plug load options\r\n    var option1id = \"\";\r\n    var option2id = \"\";\r\n    var option3id = \"\";\r\n    var option4id = \"\";\r\n    if (this.props.option1 === \"Desktop\") {option1id = \"r1\"}\r\n    if (this.props.option1 === \"Monitor\") {option1id = \"r2\"}\r\n    if (this.props.option1 === \"Laptop\") {option1id = \"r3\"}\r\n    if (this.props.option1 === \"Task Lamp\") {option1id = \"r4\"}\r\n    if (this.props.option1 === \"Fan\") {option1id = \"r5\"}\r\n    if (this.props.option2 === \"Desktop\") {option2id = \"r1\"}\r\n    if (this.props.option2 === \"Monitor\") {option2id = \"r2\"}\r\n    if (this.props.option2 === \"Laptop\") {option2id = \"r3\"}\r\n    if (this.props.option2 === \"Task Lamp\") {option2id = \"r4\"}\r\n    if (this.props.option2 === \"Fan\") {option2id = \"r5\"}\r\n    if (this.props.option3 === \"Desktop\") {option3id = \"r1\"}\r\n    if (this.props.option3 === \"Monitor\") {option3id = \"r2\"}\r\n    if (this.props.option3 === \"Laptop\") {option3id = \"r3\"}\r\n    if (this.props.option3 === \"Task Lamp\") {option3id = \"r4\"}\r\n    if (this.props.option3 === \"Fan\") {option3id = \"r5\"}\r\n    if (this.props.option4 === \"Desktop\") {option4id = \"r1\"}\r\n    if (this.props.option4 === \"Monitor\") {option4id = \"r2\"}\r\n    if (this.props.option4 === \"Laptop\") {option4id = \"r3\"}\r\n    if (this.props.option4 === \"Task Lamp\") {option4id = \"r4\"}\r\n    if (this.props.option4 === \"Fan\") {option4id = \"r5\"}\r\n\r\n    return (\r\n      <>\r\n        <h3 style={{fontSize:\"12px\"}}> Also apply to: </h3>\r\n        <input\r\n          type=\"checkbox\"\r\n          name={this.props.name}\r\n          value={option1id}\r\n        />\r\n        <label style={{marginLeft:\"10px\"}} htmlFor={this.props.option1}> {this.props.option1} </label>\r\n        <br />\r\n        <input\r\n          type=\"checkbox\"\r\n          name={this.props.name}\r\n          value={option2id}\r\n        />\r\n        <label style={{marginLeft:\"10px\"}} htmlFor={this.props.option2}> {this.props.option2} </label>\r\n        <br />\r\n        <input\r\n          type=\"checkbox\"\r\n          name={this.props.name}\r\n          value={option3id}\r\n        />\r\n        <label style={{marginLeft:\"10px\"}} htmlFor={this.props.option3}> {this.props.option3} </label>\r\n        <br />\r\n        <input\r\n          type=\"checkbox\"\r\n          name={this.props.name}\r\n          value={option4id}\r\n        />\r\n        <label style={{marginLeft:\"10px\"}} htmlFor={this.props.option4}> {this.props.option4} </label>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Checkbox;\r\n","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass OnlyAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onOK: this.props.onOK\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"alert_ok\" onClick={this.state.onOK}> OK </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OnlyAlert;","// This is the Monday (2017-12-18) calendar.\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { render } from 'react-dom';\r\nimport moment from 'moment';\r\nimport Scheduler, { SchedulerData, ViewTypes } from \"react-big-scheduler\";\r\nimport DemoData from './Data.js';\r\nimport withDragDropContext from \"./withDnDContext\";\r\nimport \"react-big-scheduler/lib/css/style.css\";\r\nimport Timepicker from './Timepicker';\r\nimport Radio from './Radio';\r\nimport Checkbox from './Checkbox';\r\nimport './styles.css';\r\nimport OnlyAlert from './OnlyAlert';\r\n\r\nclass Basic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let schedulerData = new SchedulerData(\r\n      \"2017-12-18\",\r\n      ViewTypes.Day,\r\n      false,\r\n      false,\r\n      {\r\n        checkConflict: true,\r\n        recurringEventsEnabled: true,\r\n        scrollToSpecialMomentEnabled: true, // Allow automatic scroll\r\n        crossResourceMove: false // Cannot drag events between plug loads\r\n      }, {\r\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment, // Allow automatic scroll\r\n        isNonWorkingTimeFunc: this.isNonWorkingTime // Set whole day to \"NonWorkingTime\", so that grey colour is consistent\r\n      }\r\n    );\r\n    schedulerData.setResources(DemoData.resources); // Set the calendar plug loads to be the plug loads from DemoData\r\n    schedulerData.setEvents(DemoData.events); // Set the calendar events to be the events from DemoData\r\n    this.state = {\r\n      viewModel: schedulerData\r\n    };\r\n    window.mondayCalendar = this\r\n  }\r\n\r\n  render() {\r\n    const { viewModel } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Scheduler\r\n            schedulerData={viewModel}\r\n            eventItemClick={this.eventClicked}\r\n            updateEventStart={this.updateEventStart}\r\n            updateEventEnd={this.updateEventEnd}\r\n            moveEvent={this.moveEvent}\r\n            newEvent={this.newEvent}\r\n            conflictOccurred={this.conflictOccurred}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\r\n  isNonWorkingTime = (schedulerData, time) => {\r\n    return true;\r\n  }\r\n\r\n  // Automatic scroll to 7 AM\r\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n    return moment(\"2017-12-18 07:00:00\");\r\n  }\r\n\r\n  // Function for when event is clicked\r\n  eventClicked = (schedulerData, event) => {\r\n    function okButtonClicked() {\r\n      // Format schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Format start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Format end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      //console.log(plugload_option)\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-18\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n          start_for_this = day + start.substring(10, 19)\r\n          end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing. Otherwise, make the changes.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\\n\"\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        ReactDOM.render(<OnlyAlert\r\n                                message={message}\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n                var name = event.title;\r\n                var new_start = event.start\r\n                var new_end = event.end\r\n                  var new_slot = event.resourceId\r\n              schedulerData.removeEvent(event);\r\n              let newFreshId = 0;\r\n              schedulerData.events.forEach(item => {\r\n                if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n              });\r\n\r\n              let newEvent = {\r\n                id: newFreshId,\r\n                title:  name,\r\n                start: new_start,\r\n                end: new_end,\r\n                resourceId: new_slot,\r\n                bgColor: \"#06D6A0\",\r\n                showPopover: false,\r\n                rrule: \"\"\r\n              };\r\n              schedulerData.addEvent(newEvent);\r\n              DemoData.events = schedulerData.events\r\n              setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\r\n            }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events;\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n            ReactDOM.render(<OnlyAlert\r\n                                message=\"Check your timings! Start time should be before end time.\"\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.mondayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.mondayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when a new event is created by dragging\r\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n    let newFreshId = 0;\r\n    schedulerData.events.forEach(item => {\r\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n    });\r\n\r\n    let newEvent = {\r\n      id: newFreshId,\r\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n      start: start,\r\n      end: end,\r\n      resourceId: slotId,\r\n      bgColor: \"#06D6A0\",\r\n      showPopover: false,\r\n      rrule: \"\"\r\n    };\r\n    //schedulerData.addEvent(newEvent);\r\n    //DemoData.events = schedulerData.events\r\n\r\n\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-18\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n          start_for_this = day + start.substring(10, 19)\r\n          end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === newEvent.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (newEvent.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        ReactDOM.render(<OnlyAlert\r\n                                message={message}\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n      } else {\r\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(newEvent, start);\r\n        schedulerData.updateEventEnd(newEvent, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n        } else {\r\n            if (newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = newEvent.title;\r\n          var new_start = newEvent.start\r\n          var new_end = newEvent.end\r\n          var new_slot = newEvent.resourceId\r\n          schedulerData.removeEvent(newEvent);\r\n          let anotherFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\r\n          });\r\n\r\n          let anotherNewEvent = {\r\n            id: anotherFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(anotherNewEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\r\n        }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n          console.log(plugload)\r\n          let newFreshId_plugload = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\r\n          });\r\n\r\n          let newEvent_plugload = {\r\n            id: newFreshId_plugload,\r\n            title: newEvent.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          ReactDOM.render(<OnlyAlert\r\n                                message=\"Check your timings! Start time should be before end time.\"\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n        } else {\r\n          // Update displayed calendar\r\n            DemoData.events = schedulerData.events;\r\n          window.mondayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(newEvent)\r\n      DemoData.events = schedulerData.events\r\n      window.mondayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\r\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\r\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the start time is changed by dragging\r\n  updateEventStart = (schedulerData, event, newStart) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-18\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\\n\";\r\n        var day = \"\";\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\";\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\";\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\";\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\";\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\";\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\";\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\";\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        ReactDOM.render(<OnlyAlert\r\n                                message={message}\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\r\n        }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          ReactDOM.render(<OnlyAlert\r\n                                message=\"Check your timings! Start time should be before end time.\"\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.mondayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event);\r\n      DemoData.events = schedulerData.events;\r\n      window.mondayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the end time is changed by dragging\r\n  updateEventEnd = (schedulerData, event, newEnd) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-18\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        ReactDOM.render(<OnlyAlert\r\n                                message={message}\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule=\"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\r\n        }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          ReactDOM.render(<OnlyAlert\r\n                                message=\"Check your timings! Start time should be before end time.\"\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.mondayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.mondayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the event is moved by dragging\r\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n    schedulerData.updateEventStart(event, start);\r\n    schedulerData.updateEventEnd(event, end);\r\n    event.title = event.title.substring(0,event.title.length-20) + moment(start).format('HH:mm A') + \" - \" + moment(end).format('HH:mm A') + \")\"\r\n    this.setState({\r\n        viewModel: schedulerData\r\n    })\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-18 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-18 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-18 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-18 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-18\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        ReactDOM.render(<OnlyAlert\r\n                                message={message}\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule = \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"MondayCalendar\").click();},1)\r\n        }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          ReactDOM.render(<OnlyAlert\r\n                                message=\"Check your timings! Start time should be before end time.\"\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.mondayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.mondayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Monday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // When a conflict occurs, give alert.\r\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n    var message = `This is conflicting with a schedule set for ${slotName}.`\r\n    ReactDOM.render(<OnlyAlert\r\n                                message={message}\r\n                                onOK={function() {\r\n                                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                                }}\r\n                            />, document.getElementById(\"confirm-alert\"));\r\n  }\r\n}\r\n\r\nexport default withDragDropContext(Basic);\r\n","// This is the Tuesday (2017-12-19) calendar.\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { render } from 'react-dom'\r\nimport moment from 'moment'\r\nimport Scheduler, {\r\n  SchedulerData,\r\n  ViewTypes\r\n} from \"react-big-scheduler\";\r\nimport DemoData from './Data.js';\r\nimport withDragDropContext from \"./withDnDContext\";\r\nimport \"react-big-scheduler/lib/css/style.css\";\r\nimport Timepicker from './Timepicker';\r\nimport Radio from './Radio'\r\nimport Checkbox from './Checkbox'\r\nimport './styles.css'\r\n\r\nclass Basic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let schedulerData = new SchedulerData(\r\n      \"2017-12-19\",\r\n      ViewTypes.Day,\r\n      false,\r\n      false,\r\n      {\r\n        checkConflict: true,\r\n        recurringEventsEnabled: true,\r\n        scrollToSpecialMomentEnabled: true,\r\n        crossResourceMove: false\r\n      }, {\r\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\r\n        isNonWorkingTimeFunc: this.isNonWorkingTime\r\n      }\r\n    );\r\n    schedulerData.setResources(DemoData.resources);\r\n    schedulerData.setEvents(DemoData.events);\r\n    this.state = {\r\n      viewModel: schedulerData\r\n    };\r\n    window.tuesdayCalendar = this\r\n  }\r\n  render() {\r\n    const { viewModel } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Scheduler\r\n            schedulerData={viewModel}\r\n            eventItemClick={this.eventClicked}\r\n            updateEventStart={this.updateEventStart}\r\n            updateEventEnd={this.updateEventEnd}\r\n            moveEvent={this.moveEvent}\r\n            newEvent={this.newEvent}\r\n            conflictOccurred={this.conflictOccurred}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\r\n  isNonWorkingTime = (schedulerData, time) => {\r\n    return true;\r\n  }\r\n\r\n  // Automatic scroll to 7 AM\r\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n    return moment(\"2017-12-19 07:00:00\");\r\n  }\r\n\r\n  // Function for when event is clicked\r\n  eventClicked = (schedulerData, event) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-19\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10,19);\r\n            end_for_this = day + end.substring(10,19);\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n        })\r\n\r\n      // If there is a conflict, show alert and do nothing. Otherwise, update calendar.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n                var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"TuesdayCalendar\").click();},1)\r\n            }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events;\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.tuesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.tuesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when a new event is created by dragging\r\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n    let newFreshId = 0;\r\n    schedulerData.events.forEach(item => {\r\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n    });\r\n\r\n    let newEvent = {\r\n      id: newFreshId,\r\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n      start: start,\r\n      end: end,\r\n      resourceId: slotId,\r\n      bgColor: \"#06D6A0\",\r\n      showPopover: false,\r\n      rrule: \"\"\r\n    };\r\n    //schedulerData.addEvent(newEvent);\r\n    //DemoData.events = schedulerData.events\r\n\r\n\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-19\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n          start_for_this = day + start.substring(10, 19)\r\n           end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === newEvent.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (newEvent.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n        schedulerData.updateEventStart(newEvent, start);\r\n        schedulerData.updateEventEnd(newEvent, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(newEvent, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(newEvent, updatedend)\r\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        } else {\r\n            if (newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = newEvent.title;\r\n          var new_start = newEvent.start\r\n          var new_end = newEvent.end\r\n          var new_slot = newEvent.resourceId\r\n          schedulerData.removeEvent(newEvent);\r\n          let anotherFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\r\n          });\r\n\r\n          let anotherNewEvent = {\r\n            id: anotherFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(anotherNewEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"TuesdayCalendar\").click();},1)\r\n          }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId_plugload = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\r\n          });\r\n\r\n          let newEvent_plugload = {\r\n            id: newFreshId_plugload,\r\n            title: newEvent.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.tuesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(newEvent)\r\n      DemoData.events = schedulerData.events\r\n      window.tuesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\r\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Week\" />}\r\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the start time is changed by dragging\r\n  updateEventStart = (schedulerData, event, newStart) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-19\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.tuesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event);\r\n      DemoData.events = schedulerData.events;\r\n      window.tuesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the end time is changed by dragging\r\n  updateEventEnd = (schedulerData, event, newEnd) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-19\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.tuesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.tuesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the event is moved by dragging\r\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n    schedulerData.updateEventStart(event, start);\r\n    schedulerData.updateEventEnd(event, end);\r\n    event.title = event.title.substring(0,event.title.length-20) + moment(start).format('HH:mm A') + \" - \" + moment(end).format('HH:mm A') + \")\"\r\n    this.setState({\r\n        viewModel: schedulerData\r\n    })\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-19 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-19 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-19 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-19 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-19\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"TuesdayCalendar\").click();},1)\r\n        }\r\n        }\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.tuesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.tuesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Tuesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // When a conflict occurs, give alert.\r\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n    var message = `This is conflicting with a schedule set for ${slotName}.`\r\n    alert(message)\r\n  }\r\n}\r\n\r\n\r\nexport default withDragDropContext(Basic);\r\n","// This is the Wednesday (2017-12-20) calendar.\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { render } from 'react-dom'\r\nimport moment from 'moment'\r\nimport Scheduler, {\r\n  SchedulerData,\r\n  ViewTypes\r\n} from \"react-big-scheduler\";\r\nimport DemoData from './Data.js';\r\nimport withDragDropContext from \"./withDnDContext\";\r\nimport \"react-big-scheduler/lib/css/style.css\";\r\nimport Timepicker from './Timepicker';\r\nimport Radio from './Radio'\r\nimport Checkbox from './Checkbox'\r\nimport './styles.css'\r\n\r\nclass Basic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let schedulerData = new SchedulerData(\r\n      \"2017-12-20\",\r\n      ViewTypes.Day,\r\n      false,\r\n      false,\r\n      {\r\n        checkConflict: true,\r\n        recurringEventsEnabled: true,\r\n        scrollToSpecialMomentEnabled: true,\r\n        crossResourceMove: false\r\n      }, {\r\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\r\n        isNonWorkingTimeFunc: this.isNonWorkingTime\r\n      }\r\n    );\r\n    // schedulerData.localeMoment.locale('en');\r\n    schedulerData.setResources(DemoData.resources);\r\n    schedulerData.setEvents(DemoData.events);\r\n    this.state = {\r\n      viewModel: schedulerData\r\n    };\r\n    window.wednesdayCalendar = this\r\n  }\r\n  render() {\r\n    const { viewModel } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Scheduler\r\n            schedulerData={viewModel}\r\n            eventItemClick={this.eventClicked}\r\n            updateEventStart={this.updateEventStart}\r\n            updateEventEnd={this.updateEventEnd}\r\n            moveEvent={this.moveEvent}\r\n            newEvent={this.newEvent}\r\n            conflictOccurred={this.conflictOccurred}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\r\n  isNonWorkingTime = (schedulerData, time) => {\r\n    return true;\r\n  }\r\n\r\n  // Automatic scroll to 7 AM\r\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n    return moment(\"2017-12-20 07:00:00\");\r\n  }\r\n\r\n  // Function for when event is clicked\r\n  eventClicked = (schedulerData, event) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-20\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing. Otherwise, update calendar.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        }}\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events;\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.wednesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.wednesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when a new event is created by dragging\r\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n    let newFreshId = 0;\r\n    schedulerData.events.forEach(item => {\r\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n    });\r\n\r\n    let newEvent = {\r\n      id: newFreshId,\r\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n      start: start,\r\n      end: end,\r\n      resourceId: slotId,\r\n      bgColor: \"#06D6A0\",\r\n      showPopover: false,\r\n      rrule: \"\"\r\n    };\r\n    //schedulerData.addEvent(newEvent);\r\n    //DemoData.events = schedulerData.events\r\n\r\n\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-20\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === newEvent.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (newEvent.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n        schedulerData.updateEventStart(newEvent, start);\r\n        schedulerData.updateEventEnd(newEvent, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(newEvent, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(newEvent, updatedend)\r\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        } else {\r\n            if (newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = newEvent.title;\r\n          var new_start = newEvent.start\r\n          var new_end = newEvent.end\r\n          var new_slot = newEvent.resourceId\r\n          schedulerData.removeEvent(newEvent);\r\n          let anotherFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\r\n          });\r\n\r\n          let anotherNewEvent = {\r\n            id: anotherFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(anotherNewEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId_plugload = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\r\n          });\r\n\r\n          let newEvent_plugload = {\r\n            id: newFreshId_plugload,\r\n            title: newEvent.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.wednesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(newEvent)\r\n      DemoData.events = schedulerData.events\r\n      window.wednesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\r\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Week\" />}\r\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the start time is changed by dragging\r\n  updateEventStart = (schedulerData, event, newStart) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-20\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.wednesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event);\r\n      DemoData.events = schedulerData.events;\r\n      window.wednesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the end time is changed by dragging\r\n  updateEventEnd = (schedulerData, event, newEnd) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-20\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.wednesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.wednesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the event is moved by dragging\r\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n    schedulerData.updateEventStart(event, start);\r\n    schedulerData.updateEventEnd(event, end);\r\n    event.title = event.title.substring(0,event.title.length-20) + moment(start).format('HH:mm A') + \" - \" + moment(end).format('HH:mm A') + \")\"\r\n    this.setState({\r\n        viewModel: schedulerData\r\n    })\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-20 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-20 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-20 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-20 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-20\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"WednesdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.wednesdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.wednesdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div classname=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Wednesday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // When a conflict occurs, give alert.\r\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n    var message = `This is conflicting with a schedule set for ${slotName}.`\r\n    alert(message)\r\n  }\r\n}\r\n\r\n\r\nexport default withDragDropContext(Basic);\r\n","// This is the Thursday (2017-12-21) calendar.\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { render } from 'react-dom'\r\nimport moment from 'moment'\r\nimport Scheduler, {\r\n  SchedulerData,\r\n  ViewTypes\r\n} from \"react-big-scheduler\";\r\nimport DemoData from './Data.js';\r\nimport withDragDropContext from \"./withDnDContext\";\r\nimport \"react-big-scheduler/lib/css/style.css\";\r\nimport Timepicker from './Timepicker';\r\nimport Radio from './Radio'\r\nimport Checkbox from './Checkbox'\r\nimport './styles.css'\r\n\r\nclass Basic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let schedulerData = new SchedulerData(\r\n      \"2017-12-21\",\r\n      ViewTypes.Day,\r\n      false,\r\n      false,\r\n      {\r\n        // minuteStep: 15\r\n        checkConflict: true,\r\n        recurringEventsEnabled: true,\r\n        scrollToSpecialMomentEnabled: true,\r\n        crossResourceMove: false\r\n      }, {\r\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\r\n        isNonWorkingTimeFunc: this.isNonWorkingTime\r\n      }\r\n    );\r\n    // schedulerData.localeMoment.locale('en');\r\n    schedulerData.setResources(DemoData.resources);\r\n    schedulerData.setEvents(DemoData.events);\r\n    this.state = {\r\n      viewModel: schedulerData\r\n    };\r\n    window.thursdayCalendar = this\r\n  }\r\n  render() {\r\n    const { viewModel } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Scheduler\r\n            schedulerData={viewModel}\r\n            eventItemClick={this.eventClicked}\r\n            updateEventStart={this.updateEventStart}\r\n            updateEventEnd={this.updateEventEnd}\r\n            moveEvent={this.moveEvent}\r\n            newEvent={this.newEvent}\r\n            conflictOccurred={this.conflictOccurred}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent.\r\n  isNonWorkingTime = (schedulerData, time) => {\r\n    return true;\r\n  }\r\n\r\n  // Automatic scroll to 7 AM\r\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n    return moment(\"2017-12-21 07:00:00\");\r\n  }\r\n\r\n  // Function for when event is clicked\r\n  eventClicked = (schedulerData, event) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-21\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events;\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.thursdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.thursdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when a new event is created by dragging\r\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n    let newFreshId = 0;\r\n    schedulerData.events.forEach(item => {\r\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n    });\r\n\r\n    let newEvent = {\r\n      id: newFreshId,\r\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n      start: start,\r\n      end: end,\r\n      resourceId: slotId,\r\n      bgColor: \"#06D6A0\",\r\n      showPopover: false,\r\n      rrule: \"\"\r\n    };\r\n\r\n\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-21\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === newEvent.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (newEvent.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(newEvent, start);\r\n        schedulerData.updateEventEnd(newEvent, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(newEvent, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(newEvent, updatedend)\r\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        } else {\r\n            if (newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = newEvent.title;\r\n          var new_start = newEvent.start\r\n          var new_end = newEvent.end\r\n          var new_slot = newEvent.resourceId\r\n          schedulerData.removeEvent(newEvent);\r\n          let anotherFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\r\n          });\r\n\r\n          let anotherNewEvent = {\r\n            id: anotherFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(anotherNewEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId_plugload = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\r\n          });\r\n\r\n          let newEvent_plugload = {\r\n            id: newFreshId_plugload,\r\n            title: newEvent.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.thursdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(newEvent)\r\n      DemoData.events = schedulerData.events\r\n      window.thursdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\r\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Week\" />}\r\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the start time is changed by dragging\r\n  updateEventStart = (schedulerData, event, newStart) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-21\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.title === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.thursdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event);\r\n      DemoData.events = schedulerData.events;\r\n      window.thursdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the end time is changed by dragging\r\n  updateEventEnd = (schedulerData, event, newEnd) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-21\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.thursdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.thursdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the event is moved by dragging\r\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n      schedulerData.updateEventStart(event, start);\r\n    schedulerData.updateEventEnd(event, end);\r\n    event.title = event.title.substring(0,event.title.length-20) + moment(start).format('HH:mm A') + \" - \" + moment(end).format('HH:mm A') + \")\"\r\n    this.setState({\r\n        viewModel: schedulerData\r\n    })\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-21 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-21 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-21 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-21 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-21\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"ThursdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.thursdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.thursdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Thursday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // When a conflict occurs, give alert.\r\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n    var message = `This is conflicting with a schedule set for ${slotName}.`\r\n    alert(message)\r\n  }\r\n}\r\n\r\n\r\nexport default withDragDropContext(Basic);\r\n","// This is the Friday (2017-12-22) calendar.\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { render } from 'react-dom'\r\nimport moment from 'moment'\r\nimport Scheduler, {\r\n  SchedulerData,\r\n  ViewTypes\r\n} from \"react-big-scheduler\";\r\nimport DemoData from './Data.js';\r\nimport withDragDropContext from \"./withDnDContext\";\r\nimport \"react-big-scheduler/lib/css/style.css\";\r\nimport Timepicker from './Timepicker';\r\nimport Radio from './Radio'\r\nimport Checkbox from './Checkbox'\r\nimport './styles.css'\r\n\r\nclass Basic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let schedulerData = new SchedulerData(\r\n      \"2017-12-22\",\r\n      ViewTypes.Day,\r\n      false,\r\n      false,\r\n      {\r\n        checkConflict: true,\r\n        recurringEventsEnabled: true,\r\n        scrollToSpecialMomentEnabled: true,\r\n        crossResourceMove: false\r\n      }, {\r\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\r\n        isNonWorkingTimeFunc: this.isNonWorkingTime\r\n      }\r\n    );\r\n    schedulerData.setResources(DemoData.resources);\r\n    schedulerData.setEvents(DemoData.events);\r\n    this.state = {\r\n      viewModel: schedulerData\r\n    };\r\n    window.fridayCalendar = this\r\n  }\r\n  render() {\r\n    const { viewModel } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Scheduler\r\n            schedulerData={viewModel}\r\n            eventItemClick={this.eventClicked}\r\n            updateEventStart={this.updateEventStart}\r\n            updateEventEnd={this.updateEventEnd}\r\n            moveEvent={this.moveEvent}\r\n            newEvent={this.newEvent}\r\n            conflictOccurred={this.conflictOccurred}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\r\n  isNonWorkingTime = (schedulerData, time) => {\r\n    return true;\r\n  }\r\n\r\n  // Automatic scroll to 7 AM\r\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n    return moment(\"2017-12-22 07:00:00\");\r\n  }\r\n\r\n  // Function for when event is clicked\r\n  eventClicked = (schedulerData, event) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug LoadS\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-22\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"FridayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"FridayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events;\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.fridayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.fridayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when a new event is created by dragging\r\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n    let newFreshId = 0;\r\n    schedulerData.events.forEach(item => {\r\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n    });\r\n\r\n    let newEvent = {\r\n      id: newFreshId,\r\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n      start: start,\r\n      end: end,\r\n      resourceId: slotId,\r\n      bgColor: \"#06D6A0\",\r\n      showPopover: false,\r\n      rrule: \"\"\r\n    };\r\n    //schedulerData.addEvent(newEvent);\r\n    //DemoData.events = schedulerData.events\r\n\r\n\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-22\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === newEvent.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (newEvent.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(newEvent, start);\r\n        schedulerData.updateEventEnd(newEvent, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(newEvent, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(newEvent, updatedend)\r\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"FridayCalendar\").click();},1)\r\n        } else {\r\n            if (newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = newEvent.title;\r\n          var new_start = newEvent.start\r\n          var new_end = newEvent.end\r\n          var new_slot = newEvent.resourceId\r\n          schedulerData.removeEvent(newEvent);\r\n          let anotherFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\r\n          });\r\n\r\n          let anotherNewEvent = {\r\n            id: anotherFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(anotherNewEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"FridayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId_plugload = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\r\n          });\r\n\r\n          let newEvent_plugload = {\r\n            id: newFreshId_plugload,\r\n            title: newEvent.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n            DemoData.events = schedulerData.events;\r\n          window.fridayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(newEvent)\r\n      DemoData.events = schedulerData.events\r\n      window.fridayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\r\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Week\" />}\r\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the start time is changed by dragging\r\n  updateEventStart = (schedulerData, event, newStart) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-22\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"FridayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"FridayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.fridayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event);\r\n      DemoData.events = schedulerData.events;\r\n      window.fridayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the end time is changed by dragging\r\n  updateEventEnd = (schedulerData, event, newEnd) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-22\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"FridayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"FridayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.fridayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked(){\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.fridayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the event is moved by dragging\r\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n      schedulerData.updateEventStart(event, start);\r\n    schedulerData.updateEventEnd(event, end);\r\n    event.title = event.title.substring(0,event.title.length-20) + moment(start).format('HH:mm A') + \" - \" + moment(end).format('HH:mm A') + \")\"\r\n    this.setState({\r\n        viewModel: schedulerData\r\n    })\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-22 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-22 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-22 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-22 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-22\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n        start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"FridayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"FridayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.fridayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.fridayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Friday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // When a conflict occurs, give alert.\r\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n    var message = `This is conflicting with a schedule set for ${slotName}.`\r\n    alert(message)\r\n  }\r\n}\r\n\r\nexport default withDragDropContext(Basic);\r\n","// This is the Saturday (2017-12-23) calendar.\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { render } from 'react-dom'\r\nimport moment from 'moment'\r\nimport Scheduler, {\r\n  SchedulerData,\r\n  ViewTypes\r\n} from \"react-big-scheduler\";\r\nimport DemoData from './Data.js';\r\nimport withDragDropContext from \"./withDnDContext\";\r\nimport \"react-big-scheduler/lib/css/style.css\";\r\nimport Timepicker from './Timepicker';\r\nimport Radio from './Radio'\r\nimport Checkbox from './Checkbox'\r\nimport './styles.css'\r\n\r\nclass Basic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let schedulerData = new SchedulerData(\r\n      \"2017-12-23\",\r\n      ViewTypes.Day,\r\n      false,\r\n      false,\r\n      {\r\n        checkConflict: true,\r\n        recurringEventsEnabled: true,\r\n        scrollToSpecialMomentEnabled: true,\r\n        crossResourceMove: false\r\n      }, {\r\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\r\n        isNonWorkingTimeFunc: this.isNonWorkingTime\r\n      }\r\n    );\r\n    schedulerData.setResources(DemoData.resources);\r\n    schedulerData.setEvents(DemoData.events);\r\n    this.state = {\r\n      viewModel: schedulerData\r\n    };\r\n    window.saturdayCalendar = this\r\n  }\r\n\r\n  render() {\r\n    const { viewModel } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Scheduler\r\n            schedulerData={viewModel}\r\n            eventItemClick={this.eventClicked}\r\n            updateEventStart={this.updateEventStart}\r\n            updateEventEnd={this.updateEventEnd}\r\n            moveEvent={this.moveEvent}\r\n            newEvent={this.newEvent}\r\n            conflictOccurred={this.conflictOccurred}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\r\n  isNonWorkingTime = (schedulerData, time) => {\r\n    return true;\r\n  }\r\n\r\n  // Automatic scroll to 7 AM\r\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n    return moment(\"2017-12-23 07:00:00\");\r\n  }\r\n\r\n  // Function for when event is clicked\r\n  eventClicked = (schedulerData, event) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-23\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events;\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.saturdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.saturdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when a new event is created by dragging\r\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n    let newFreshId = 0;\r\n    schedulerData.events.forEach(item => {\r\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n    });\r\n\r\n    let newEvent = {\r\n      id: newFreshId,\r\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n      start: start,\r\n      end: end,\r\n      resourceId: slotId,\r\n      bgColor: \"#06D6A0\",\r\n      showPopover: false,\r\n      rrule: \"\"\r\n    };\r\n    //schedulerData.addEvent(newEvent);\r\n    //DemoData.events = schedulerData.events\r\n\r\n\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-23\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === newEvent.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (newEvent.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(newEvent, start);\r\n        schedulerData.updateEventEnd(newEvent, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(newEvent, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(newEvent, updatedend)\r\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        } else {\r\n        if (newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = newEvent.title;\r\n          var new_start = newEvent.start\r\n          var new_end = newEvent.end\r\n          var new_slot = newEvent.resourceId\r\n          schedulerData.removeEvent(newEvent);\r\n          let anotherFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\r\n          });\r\n\r\n          let anotherNewEvent = {\r\n            id: anotherFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(anotherNewEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId_plugload = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\r\n          });\r\n\r\n          let newEvent_plugload = {\r\n            id: newFreshId_plugload,\r\n            title: newEvent.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n            DemoData.events = schedulerData.events;\r\n          window.saturdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(newEvent)\r\n      DemoData.events = schedulerData.events\r\n      window.saturdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\r\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Week\" />}\r\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the start time is changed by dragging\r\n  updateEventStart = (schedulerData, event, newStart) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-23\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.saturdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event);\r\n      DemoData.events = schedulerData.events;\r\n      window.saturdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the end time is changed by dragging\r\n  updateEventEnd = (schedulerData, event, newEnd) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-23\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.saturdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.saturdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the event is moved by dragging\r\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n      schedulerData.updateEventStart(event, start);\r\n    schedulerData.updateEventEnd(event, end);\r\n    event.title = event.title.substring(0,event.title.length-20) + moment(start).format('HH:mm A') + \" - \" + moment(end).format('HH:mm A') + \")\"\r\n    this.setState({\r\n        viewModel: schedulerData\r\n    })\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-23 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-23 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-23 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-23 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-23\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SaturdayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.saturdayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.saturdayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Saturday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // When a conflict occurs, give alert.\r\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n    var message = `This is conflicting with a schedule set for ${slotName}.`\r\n    alert(message)\r\n  }\r\n}\r\n\r\nexport default withDragDropContext(Basic);\r\n","// This is the Sunday (2017-12-24) calendar.\r\n\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { render } from 'react-dom'\r\nimport moment from 'moment';\r\nimport Scheduler, { SchedulerData,ViewTypes } from \"react-big-scheduler\";\r\nimport DemoData from './Data.js';\r\nimport withDragDropContext from \"./withDnDContext\";\r\nimport \"react-big-scheduler/lib/css/style.css\";\r\nimport Timepicker from './Timepicker';\r\nimport Radio from './Radio';\r\nimport Checkbox from './Checkbox';\r\nimport './styles.css';\r\n\r\nclass Basic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let schedulerData = new SchedulerData(\r\n      \"2017-12-24\",\r\n      ViewTypes.Day,\r\n      false,\r\n      false,\r\n      {\r\n        checkConflict: true,\r\n        recurringEventsEnabled: true,\r\n        scrollToSpecialMomentEnabled: true, // Allow automatic scroll\r\n        crossResourceMove: false // Cannot drag events between plug loads\r\n      }, {\r\n        getScrollSpecialMomentFunc: this.getScrollSpecialMoment, // Allow automatic scroll\r\n        isNonWorkingTimeFunc: this.isNonWorkingTime // Set whole day to \"NonWorkingTime\", so that grey colour is consistent\r\n      }\r\n    );\r\n    schedulerData.setResources(DemoData.resources); // Set the calendar plug loads to be the plug loads from DemoData\r\n    schedulerData.setEvents(DemoData.events); // Set the calendar events to be the events from DemoData\r\n    this.state = {\r\n      viewModel: schedulerData\r\n    };\r\n    window.sundayCalendar = this\r\n  }\r\n\r\n  render() {\r\n    const { viewModel } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Scheduler\r\n            schedulerData={viewModel}\r\n            eventItemClick={this.eventClicked}\r\n            updateEventStart={this.updateEventStart}\r\n            updateEventEnd={this.updateEventEnd}\r\n            moveEvent={this.moveEvent}\r\n            newEvent={this.newEvent}\r\n            conflictOccurred={this.conflictOccurred}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Set the whole day as \"NonWorkingTime\", so that grey colour is consistent\r\n  isNonWorkingTime = (schedulerData, time) => {\r\n    return true;\r\n  }\r\n\r\n  // Automatic scroll to 7 AM\r\n  getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n    return moment(\"2017-12-24 07:00:00\");\r\n  }\r\n\r\n  // Function for when event is clicked\r\n  eventClicked = (schedulerData, event) => {\r\n    // Function for when the OK button on the popup is clicked\r\n    function okButtonClicked() {\r\n      // Format schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n      var formattedstart = \"\";\r\n      if (start.length === 7) { formattedstart = \"0\" + start; } else { formattedstart = start; }\r\n      var formattedend = \"\";\r\n      if (end.length === 7) { formattedend = \"0\" + end; } else { formattedend = end; }\r\n\r\n      // Format start time\r\n      if (start.length === 7) { start = \"0\" + start; } // For example, 9:00 AM is changed to 09:00 AM\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 00\" + start.substring(2, 5) + \":00\";\r\n        } else {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\";\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\";\r\n        } else {\r\n          start = \"2017-12-24 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\";\r\n        }\r\n      }\r\n\r\n      // Fomat end time\r\n      if (end.length === 7) { end = \"0\" + end; } // For example, 9:00 AM is changed to 09:00 AM\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-25 00\" + end.substring(2, 5) + \":00\";\r\n        } else {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\";\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\";\r\n        } else {\r\n          end = \"2017-12-24 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\";\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-24\"];\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24'];\r\n      }\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\";\r\n        var end_for_this = \"\";\r\n        for (var day of days_to_loop_over) {\r\n                    start_for_this = day + start.substring(10, 19);\r\n            end_for_this = day + end.substring(10, 19);\r\n          // Check for the repeat option chosen\r\n          if (e.resourceId === event.resourceId) {\r\n            // Check for the current selected plug load\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            // Check for other plug loads selected under \"Also apply to:s\"\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing. Otherwise, continue to update the calendar.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        // Update event name\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        // Update event start and end times\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        // Update the repeat option\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SundayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SundayCalendar\").click();},1)\r\n        }}\r\n\r\n        // Add the event to other plug loads selected under \"Also apply to:\"\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events;\r\n        }\r\n\r\n        // Check that the start timing is before the end timing. If not, show alert.\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update calendar view\r\n          DemoData.events = schedulerData.events;\r\n          window.sundayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    // Function for when the Delete button on the popup is clicked\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n\r\n      // Update calendar view\r\n      window.sundayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n\r\n      // Remove popup\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name;\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"> </div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when a new event is created by dragging\r\n  newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n    // Adding the information for the new event\r\n    let newFreshId = 0;\r\n    schedulerData.events.forEach(item => {\r\n      if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n    });\r\n    let newEvent = {\r\n      id: newFreshId,\r\n      title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n      start: start,\r\n      end: end,\r\n      resourceId: slotId,\r\n      bgColor: \"#06D6A0\",\r\n      showPopover: false,\r\n      rrule: \"\"\r\n    };\r\n\r\n    // Function for when the OK button on the popup is clicked\r\n    function okButtonClicked() {\r\n      // Format schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n      var formattedstart = \"\";\r\n      if (start.length === 7) { formattedstart = \"0\" + start; } else { formattedstart = start; }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-25 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-24\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === newEvent.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== newEvent.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (newEvent.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (newEvent.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        newEvent.title = schedule + \" (\" + formattedstart + \" - \" + formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(newEvent, start);\r\n        schedulerData.updateEventEnd(newEvent, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(newEvent, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(newEvent, updatedend)\r\n          newEvent.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SundayCalendar\").click();},1)\r\n        } else {\r\n        if (newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = newEvent.title;\r\n          var new_start = newEvent.start\r\n          var new_end = newEvent.end\r\n          var new_slot = newEvent.resourceId\r\n          schedulerData.removeEvent(newEvent);\r\n          let anotherFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= anotherFreshId) anotherFreshId = item.id + 1;\r\n          });\r\n\r\n          let anotherNewEvent = {\r\n            id: anotherFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(anotherNewEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SundayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId_plugload = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId_plugload) newFreshId_plugload = item.id + 1;\r\n          });\r\n\r\n          let newEvent_plugload = {\r\n            id: newFreshId_plugload,\r\n            title: newEvent.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n          schedulerData.addEvent(newEvent_plugload); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n            DemoData.events = schedulerData.events;\r\n          window.sundayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(newEvent)\r\n      DemoData.events = schedulerData.events\r\n      window.sundayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n\r\n    var resourceName = schedulerData.getSlotById(newEvent.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={newEvent.title.substring(0, newEvent.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newEvent.start)} defaultEnd={moment(newEvent.end)} />\r\n                {newEvent.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Week\" />}\r\n                {newEvent.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the start time is changed by dragging\r\n  updateEventStart = (schedulerData, event, newStart) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-25 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-24\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SundayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SundayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.sundayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event);\r\n      DemoData.events = schedulerData.events;\r\n      window.sundayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"> </div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(newStart)} defaultEnd={moment(event.end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the end time is changed by dragging\r\n  updateEventEnd = (schedulerData, event, newEnd) => {\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-25 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-24\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e);\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e);\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SundayCalendar\").click();},1)\r\n        } else {\r\n        if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SundayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.sundayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n\r\n      }\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.sundayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length-22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(event.start)} defaultEnd={moment(newEnd)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // Function for when the event is moved by dragging\r\n  moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n      schedulerData.updateEventStart(event, start);\r\n    schedulerData.updateEventEnd(event, end);\r\n    event.title = event.title.substring(0,event.title.length-20) + moment(start).format('HH:mm A') + \" - \" + moment(end).format('HH:mm A') + \")\"\r\n    this.setState({\r\n        viewModel: schedulerData\r\n    })\r\n    function okButtonClicked() {\r\n      // Update schedule name\r\n      var schedule = document.getElementById(\"schedule_name\").value;\r\n      var start = document.getElementById(\"start\").value;\r\n      var end = document.getElementById(\"end\").value;\r\n\r\n      var formattedstart = \"\"\r\n      if (start.length === 7) {\r\n        formattedstart = \"0\" + start;\r\n      } else {\r\n        formattedstart = start;\r\n      }\r\n      var formattedend = \"\"\r\n      if (end.length === 7) {\r\n        formattedend = \"0\" + end;\r\n      } else {\r\n        formattedend = end;\r\n      }\r\n\r\n\r\n      // Update start time\r\n      if (start.length === 7) {\r\n        start = \"0\" + start;\r\n      }\r\n      if (start.includes(\"AM\")) {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 00\" + start.substring(2, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (start.substring(0, 2) === \"12\") {\r\n          start = \"2017-12-24 \" + start.substring(0, 5) + \":00\"\r\n        } else {\r\n          start = \"2017-12-24 \" + (Number(start.substring(0, 2)) + 12).toString() + start.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n\r\n      // Update end time\r\n      if (end.length === 7) {\r\n        end = \"0\" + end;\r\n      }\r\n      if (end.includes(\"AM\")) {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-25 00\" + end.substring(2, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        }\r\n      } else {\r\n        if (end.substring(0, 2) === \"12\") {\r\n          end = \"2017-12-24 \" + end.substring(0, 5) + \":00\"\r\n        } else {\r\n          end = \"2017-12-24 \" + (Number(end.substring(0, 2)) + 12).toString() + end.substring(2, 5) + \":00\"\r\n        }\r\n      }\r\n\r\n      // Checking conflicts\r\n      var hasConflict = false;\r\n      var conflictedEvents = [];\r\n      var plugload_option = document.querySelectorAll('input[name=\"Plug Loads\"]:checked');\r\n      var repeat_option = document.querySelector('input[name=\"Repeat:\"]:checked').value;\r\n      var days_to_loop_over = [\"2017-12-24\"]\r\n      if (repeat_option === \"Every Day\") {\r\n        days_to_loop_over = ['2017-12-18', '2017-12-19', '2017-12-20', '2017-12-21', '2017-12-22', '2017-12-23', '2017-12-24']\r\n      }\r\n\r\n      schedulerData.events.forEach(function(e) {\r\n        var eStart = e.start;\r\n        var eEnd = e.end;\r\n        var start_for_this = \"\"\r\n        var end_for_this = \"\"\r\n        for (var day of days_to_loop_over) {\r\n            start_for_this = day + start.substring(10, 19)\r\n            end_for_this = day + end.substring(10, 19)\r\n          if (e.resourceId === event.resourceId) {\r\n            if (((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                (eStart >= start_for_this && eStart < end_for_this) ||\r\n                (eEnd > start_for_this && eEnd <= end_for_this)) && (e.id !== event.id)) {\r\n                  hasConflict = true;\r\n                  conflictedEvents.push(e)\r\n                }\r\n          }\r\n          for (var plugload of plugload_option) {\r\n            if (e.resourceId === plugload.value) {\r\n              if ((start_for_this >= eStart && start_for_this < eEnd) ||\r\n                  (end_for_this > eStart && end_for_this <= eEnd) ||\r\n                  (eStart >= start_for_this && eStart < end_for_this) ||\r\n                  (eEnd > start_for_this && eEnd <= end_for_this)) {\r\n                    hasConflict = true;\r\n                    conflictedEvents.push(e)\r\n                  }\r\n            }\r\n          }\r\n        }\r\n      })\r\n\r\n      // If there is a conflict, show alert and do nothing.\r\n      if (hasConflict) {\r\n        var message = \"Conflict occurred for the following events:\" // Change this message accordingly\r\n        var day = \"\"\r\n        for (var events of conflictedEvents) {\r\n          if (event.start.toString().includes(\"2017-12-18\")) {\r\n            day = \"Monday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-19\")) {\r\n            day = \"Tuesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-20\")) {\r\n            day = \"Wednesday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-21\")) {\r\n            day = \"Thursday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-22\")) {\r\n            day = \"Friday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-23\")) {\r\n            day = \"Saturday\"\r\n          }\r\n          if (event.start.toString().includes(\"2017-12-24\")) {\r\n            day = \"Sunday\"\r\n          }\r\n          var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n          message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day}`\r\n        }\r\n        alert(message)\r\n      } else {\r\n        event.title = schedule + \" (\" + formattedstart + \" - \" +formattedend + \")\";\r\n\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n\r\n        var rrule = \"\"\r\n        if (repeat_option === \"Every Day\") {\r\n          var updatedstart = \"2017-12-18\" + start.substring(10, 19)\r\n          schedulerData.updateEventStart(event, updatedstart)\r\n          var updatedend = \"2017-12-18\" + end.substring(10, 19)\r\n          schedulerData.updateEventEnd(event, updatedend)\r\n          event.rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          rrule=\"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\"\r\n          setTimeout(function() {document.getElementById(\"SundayCalendar\").click();},1)\r\n        } else {\r\n            if (event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\") {\r\n          var name = event.title;\r\n          var new_start = event.start\r\n          var new_end = event.end\r\n          var new_slot = event.resourceId\r\n          schedulerData.removeEvent(event);\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title:  name,\r\n            start: new_start,\r\n            end: new_end,\r\n            resourceId: new_slot,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"\"\r\n          };\r\n          schedulerData.addEvent(newEvent);\r\n          DemoData.events = schedulerData.events\r\n          setTimeout(function(){document.getElementById(\"SundayCalendar\").click();},1)\r\n        }}\r\n\r\n        for (var plugload of plugload_option) {\r\n          let newFreshId = 0;\r\n          schedulerData.events.forEach(item => {\r\n            if (item.id >= newFreshId) newFreshId = item.id + 1;\r\n          });\r\n\r\n          let newEvent = {\r\n            id: newFreshId,\r\n            title: event.title,\r\n            start: moment(start),\r\n            end: moment(end),\r\n            resourceId: plugload.value,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: rrule\r\n          };\r\n\r\n          schedulerData.addEvent(newEvent); // Check why new event disappears\r\n          DemoData.events = schedulerData.events\r\n        }\r\n\r\n        if (start >= end || end <= start) {\r\n          alert(\"Check your timings! Start time should be before end time.\")\r\n        } else {\r\n          // Update displayed calendar\r\n          DemoData.events = schedulerData.events;\r\n          window.sundayCalendar.setState({\r\n            viewModel: schedulerData\r\n          })\r\n      }\r\n\r\n\r\n        // Remove popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n      }\r\n    }\r\n\r\n    function closeButtonClicked() {\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n    }\r\n\r\n    function deleteButtonClicked() {\r\n      schedulerData.removeEvent(event)\r\n      DemoData.events = schedulerData.events\r\n      window.sundayCalendar.setState({\r\n        viewModel: schedulerData\r\n      })\r\n      ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n    }\r\n    var resourceName = schedulerData.getSlotById(event.resourceId).name\r\n    render(<>\r\n              <div className=\"cover\" id=\"cover\"></div>\r\n              <div className=\"containerpopup\" id=\"schedule_popup\">\r\n                <input id=\"schedule_name\" type=\"text\" name=\"title\" defaultValue={event.title.substring(0, event.title.length - 22)} />\r\n                <button id=\"close_button\" style={{float:\"right\"}} onClick={closeButtonClicked}>x</button>\r\n                <Timepicker defaultStart={moment(start)} defaultEnd={moment(end)} />\r\n                {event.rrule === \"\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Week\" />}\r\n                {event.rrule === \"FREQ=DAILY;DTSTART=20171218T000000Z;UNTIL=20171224T235900Z\" && <Radio name=\"Repeat:\" day=\"Sunday\" default=\"Every Day\" />}\r\n                {(resourceName === \"Desktop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Monitor\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Monitor\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Laptop\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Laptop\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Task Lamp\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Task Lamp\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Fan\"\r\n                />}\r\n\r\n                {(resourceName === \"Fan\") && <Checkbox\r\n                  name=\"Plug Loads\"\r\n                  option1=\"Desktop\"\r\n                  option2=\"Monitor\"\r\n                  option3=\"Laptop\"\r\n                  option4=\"Task Lamp\"\r\n                />}\r\n                <br />\r\n                <br />\r\n                <div style={{textAlign:\"center\"}}>\r\n                  <button onClick={deleteButtonClicked} style={{color:\"white\", background:\"#e74a3b\"}}> Delete </button>\r\n                  <button onClick={okButtonClicked} style={{color:\"white\", background:\"#1cc88a\", marginLeft:\"5px\"}}> OK </button>\r\n                </div>\r\n              </div>\r\n          </>, document.getElementById(\"popup-container-schedule\"));\r\n  };\r\n\r\n  // When a conflict occurs, give alert.\r\n  conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n    var message = `This is conflicting with a schedule set for ${slotName}.`\r\n    alert(message)\r\n  }\r\n}\r\n\r\nexport default withDragDropContext(Basic);\r\n","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport ConfirmAlert from './ConfirmAlert';\r\nimport Basic from \"./Basic\";\r\nimport Basic0 from \"./Basic0\"\r\nimport Basic1 from \"./Basic1\"\r\nimport Basic2 from \"./Basic2\"\r\nimport Basic3 from \"./Basic3\"\r\nimport Basic4 from \"./Basic4\"\r\nimport Basic5 from \"./Basic5\"\r\nimport \"./styles.css\"\r\n\r\nfunction compare(a,b) {\r\n    let comparison = 0;\r\n    if (a.device_type > b.device_type) {\r\n        comparison = 1;\r\n    } else if (a.device_type < b.device_type) {\r\n        comparison = -1\r\n    }\r\n    return comparison\r\n}\r\n\r\n// Remote Control\r\nclass RemoteControlDashboard extends Component {\r\n    state = {\r\n        books: [],\r\n        current_user_id: 1\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch data from database\r\n        fetch('http://127.0.0.1:8000/control_interface/api/remote/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            data.sort(compare);\r\n            var datas = []\r\n            for (var input of data) {\r\n                if (input.user_id === this.state.current_user_id) {\r\n                    datas.push(input)\r\n                }\r\n            }\r\n            this.setState({books: datas})\r\n        })\r\n    }\r\n\r\n    updateBook = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/remote/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook)\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({books: newBooks});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <RemoteControlList\r\n                books={this.state.books}\r\n                onUpdateClick={this.updateBook}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nclass RemoteControlList extends Component {\r\n    render() {\r\n        const books = this.props.books.map(book => (\r\n            <RemoteControlEditableItem\r\n                key={book.id}\r\n                id={book.id}\r\n                user_id={book.user_id}\r\n                device_type={book.device_type}\r\n                device_state={book.device_state}\r\n                onUpdateClick={this.props.onUpdateClick}\r\n            />\r\n        ));\r\n        return (\r\n            <>\r\n                <div style={{float:\"right\"}}>\r\n                    <p style={{marginLeft:\"50px\", marginBottom:\"5px\"}}> Master </p>\r\n                    <RemoteToggleButton id=\"master\" defaultChecked={true} books={this.props.books} />\r\n                </div>\r\n                <br/>\r\n                <br/>\r\n                <div style={{margin:\"auto\", width:\"fit-content\"}}>\r\n                    {books}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass RemoteControlEditableItem extends Component {\r\n    handleUpdate = (book) => {\r\n        book.id = this.props.id;\r\n        this.props.onUpdateClick(book);\r\n    }\r\n\r\n    render() {\r\n        const component = () => {\r\n            return (\r\n                <>\r\n                    <RemoteControlItem\r\n                        id={this.props.id}\r\n                        user_id={this.props.user_id}\r\n                        device_type={this.props.device_type}\r\n                        device_state={this.props.device_state}\r\n                        onFormSubmit={this.handleUpdate}\r\n                    />\r\n                </>\r\n            )\r\n        }\r\n        return (\r\n            component()\r\n        )\r\n    }\r\n}\r\n\r\nclass RemoteControlItem extends Component {\r\n    state = {\r\n        user_id: this.props.user_id,\r\n        device_type: this.props.device_type,\r\n        device_state: this.props.device_state,\r\n        achievements_books: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch data for achievements\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            for (var input of data) {\r\n                if (input.user_id === this.state.user_id) {\r\n                    this.setState({achievements_books: [input]})\r\n                }\r\n            }\r\n        })\r\n\r\n        Main();\r\n    }\r\n\r\n    updateAchievementsBooks = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    handleAchievementsUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updateAchievementsBooks(book);\r\n    }\r\n\r\n    handleAchievementsFormSubmit = () => {\r\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\r\n    }\r\n\r\n    handleFormSubmit = () => {\r\n        this.props.onFormSubmit({...this.state});\r\n    }\r\n\r\n    onConfirm1 = () => {\r\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_confirmed).checked = false;\r\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n        Main();\r\n\r\n        // If first time clicking, update achievement\r\n        if (this.state.achievements_books[0].first_remote === false) {\r\n            this.setState({\r\n                achievements_books: [\r\n                    {\r\n                        ...this.state.achievements_books[0],\r\n                        first_remote: true\r\n                    }\r\n                ]\r\n            }, function() {this.handleAchievementsFormSubmit()})\r\n        }\r\n    }\r\n\r\n    onConfirm2 = () => {\r\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_confirmed).checked = true;\r\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n        Main();\r\n\r\n        // If first time clicking, update achievement\r\n        if (this.state.achievements_books[0].first_remote === false) {\r\n            this.setState({\r\n                achievements_books: [\r\n                    {\r\n                        ...this.state.achievements_books[0],\r\n                        first_remote: true\r\n                    }\r\n                ]\r\n            }, function() {this.handleAchievementsFormSubmit()})\r\n        }\r\n    }\r\n\r\n    onCancel1 = () => {\r\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_cancelled).checked = true;\r\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onCancel2 = () => {\r\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_cancelled).checked = false;\r\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onChange = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.device_type === \"Desktop\" || this.state.device_type === \"Laptop\") {\r\n            if (this.state.device_state === true) {\r\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\r\n                    // Switch OFF\r\n                    this.setState({device_state: false}, function() {this.handleFormSubmit()})\r\n                } else {\r\n                    ReactDOM.render(<ConfirmAlert\r\n                                        message={\"You are switching off your \" + this.state.device_type + \".\"}\r\n                                        onConfirm = {this.onConfirm1}\r\n                                        onCancel = {this.onCancel1}\r\n                                    />, document.getElementById(\"confirm-alert\"))\r\n                }\r\n            } else {\r\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\r\n                    // Switch ON\r\n                    this.setState({device_state: true}, function() {this.handleFormSubmit()})\r\n                } else {\r\n                    ReactDOM.render(<ConfirmAlert\r\n                                        message={\"You are switching on your \" + this.state.device_type + \".\"}\r\n                                        onConfirm = {this.onConfirm2}\r\n                                        onCancel = {this.onCancel2}\r\n                                    />, document.getElementById(\"confirm-alert\"))\r\n                }\r\n            }\r\n        } else {\r\n            // Update database\r\n            this.setState({device_state: e.target.checked}, function() {this.handleFormSubmit()})\r\n            Main();\r\n\r\n            // If first time clicking, update achievement\r\n            if (this.state.achievements_books[0].first_remote === false) {\r\n                this.setState({\r\n                    achievements_books: [\r\n                        {\r\n                            ...this.state.achievements_books[0],\r\n                            first_remote: true\r\n                        }\r\n                    ]\r\n                }, function() {this.handleAchievementsFormSubmit()})\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.device_state === false) {\r\n            var remote_control_outer_ring = \"greyRing\";\r\n            var remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\r\n        } else {\r\n            remote_control_outer_ring = \"greenRing\";\r\n            remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\r\n        }\r\n\r\n        return (\r\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxRemote\"} className=\"containerRemote\" onClick={this.handleRemoteBoxClick}>\r\n                <p style={{textAlign:\"center\", fontWeight:\"bold\", color:\"black\"}}> {this.state.device_type} </p>\r\n                <div id={this.state.device_type.replace(/\\s/g,'') + \"IconRemote\"}>\r\n                    <div className={remote_control_outer_ring}>\r\n                        <div className=\"whiteRing\">\r\n                            <img className=\"PlugLoadIcon\" src={remote_control_image} alt=\"Icon\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br/>\r\n                <div className=\"toggle-switch\">\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        className=\"toggle-switch-checkbox\"\r\n                        id={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}\r\n                        checked={this.state.device_state}\r\n                        defaultChecked={this.state.device_state}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    <label className=\"toggle-switch-label\" htmlFor={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}>\r\n                        <span className=\"toggle-switch-inner\" data-yes=\"ON\" data-no=\"OFF\" />\r\n                        <span className=\"toggle-switch-switch\" />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass RemoteToggleButton extends Component {\r\n    state = {\r\n        checked: this.props.defaultChecked,\r\n        achievements_books: [],\r\n        user_id: 1\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        window.master = this;\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch data for achievements\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            for (var input of data) {\r\n                if (input.user_id === this.state.user_id) {\r\n                    this.setState({achievements_books: [input]})\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateAchievementsBooks = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    handleAchievementsUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updateAchievementsBooks(book);\r\n    }\r\n\r\n    handleAchievementsFormSubmit = () => {\r\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\r\n    }\r\n\r\n    onConfirm1 = () => {\r\n        // Switch OFF all plug loads\r\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"DesktopToggleRemote\").checked === true) {\r\n                document.getElementById(\"DesktopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\r\n            if (document.getElementById(\"MonitorToggleRemote\").checked === true) {\r\n                document.getElementById(\"MonitorToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"LaptopToggleRemote\").checked === true) {\r\n                document.getElementById(\"LaptopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\r\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === true) {\r\n                document.getElementById(\"TaskLampToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\r\n            if (document.getElementById(\"FanToggleRemote\").checked === true) {\r\n                document.getElementById(\"FanToggleRemote\").click();\r\n            }\r\n        }\r\n        document.getElementById(\"master\").checked = false;\r\n        this.setState({checked: false})\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n\r\n        // If first time clicking, update achievement\r\n        if (this.state.achievements_books[0].first_remote === false) {\r\n            this.setState({\r\n                achievements_books: [\r\n                    {\r\n                        ...this.state.achievements_books[0],\r\n                        first_remote: true\r\n                    }\r\n                ]\r\n            }, function() {this.handleAchievementsFormSubmit()})\r\n        }\r\n    }\r\n\r\n    onConfirm2 = () => {\r\n        // Switch ON all plug loads\r\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"DesktopToggleRemote\").checked === false) {\r\n                document.getElementById(\"DesktopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\r\n            if (document.getElementById(\"MonitorToggleRemote\").checked === false) {\r\n                document.getElementById(\"MonitorToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"LaptopToggleRemote\").checked === false) {\r\n                document.getElementById(\"LaptopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\r\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === false) {\r\n                document.getElementById(\"TaskLampToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\r\n            if (document.getElementById(\"FanToggleRemote\").checked === false) {\r\n                document.getElementById(\"FanToggleRemote\").click();\r\n            }\r\n        }\r\n        document.getElementById(\"master\").checked = true;\r\n        this.setState({checked: true});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n\r\n        // If first time clicking, update achievement\r\n        if (this.state.achievements_books[0].first_remote === false) {\r\n            this.setState({\r\n                achievements_books: [\r\n                    {\r\n                        ...this.state.achievements_books[0],\r\n                        first_remote: true\r\n                    }\r\n                ]\r\n            }, function() {this.handleAchievementsFormSubmit()})\r\n        }\r\n    }\r\n\r\n    onCancel1 = () => {\r\n        document.getElementById(\"master\").checked = true;\r\n        this.setState({checked: true});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onCancel2 = () => {\r\n        document.getElementById(\"master\").checked = false;\r\n        this.setState({checked: false});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onChange = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.checked === true) {\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message=\"You are switching off all your devices.\"\r\n                                onConfirm = {this.onConfirm1}\r\n                                onCancel = {this.onCancel1}\r\n                             />, document.getElementById(\"confirm-alert\"))\r\n        } else {\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message=\"You are switching on all your devices.\"\r\n                                onConfirm = {this.onConfirm2}\r\n                                onCancel = {this.onCancel2}\r\n                            />, document.getElementById(\"confirm-alert\"))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var defaultChecked = false\r\n        for (var book of this.props.books) {\r\n            if (book.device_state === true) {\r\n                defaultChecked = true\r\n            }\r\n        }\r\n        return (\r\n            <div className={\"toggle-switch\" + (this.props.Small ? \" small-switch\" : \"\")}>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name={this.props.Name}\r\n                    className=\"toggle-switch-checkbox\"\r\n                    id={this.props.id}\r\n                    checked={this.checked}\r\n                    defaultChecked={defaultChecked}\r\n                    onClick={this.onChange}\r\n                    disabled={this.props.disabled}\r\n                />\r\n                {this.props.id ? (\r\n                    <label className=\"toggle-switch-label\" htmlFor={this.props.id}>\r\n                        <span\r\n                            className={this.props.disabled ? \"toggle-switch-inner toggle-switch-disabled\" : \"toggle-switch-inner\"}\r\n                            data-yes=\"ON\"\r\n                            data-no=\"OFF\"\r\n                        />\r\n                        <span\r\n                            className={this.props.disabled ? \"toggle-switch-switch toggle-switch-disabled\": \"toggle-switch-switch\"}\r\n                        />\r\n                    </label>\r\n                ) : null}\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(<RemoteControlDashboard />, document.getElementById('remote-control'))\r\n\r\nfunction Main() {\r\n    // If at least one plug load is ON, master button is automatically toggled to ON.\r\n    if (document.getElementById(\"DesktopToggleRemote\").checked || document.getElementById(\"MonitorToggleRemote\").checked ||\r\n        document.getElementById(\"LaptopToggleRemote\").checked || document.getElementById(\"TaskLampToggleRemote\").checked ||\r\n        document.getElementById(\"FanToggleRemote\").checked) {\r\n        window.master.setState({checked: true});\r\n        document.getElementById(\"master\").checked = true;\r\n    } else {\r\n        // If all plug loads are OFF, master button is automatically toggled to OFF.\r\n        if (!document.getElementById(\"DesktopToggleRemote\").checked && !document.getElementById(\"MonitorToggleRemote\").checked &&\r\n            !document.getElementById(\"LaptopToggleRemote\").checked && !document.getElementById(\"TaskLampToggleRemote\").checked &&\r\n            !document.getElementById(\"FanToggleRemote\").checked) {\r\n            window.master.setState({checked: false});\r\n            document.getElementById(\"master\").checked = false;\r\n        }\r\n    }\r\n}\r\n\r\n// Schedule Based control\r\n\r\n// Define some variables\r\nvar mondaycalendar = document.getElementById(\"MondayCalendar\");\r\nvar tuesdaycalendar = document.getElementById(\"TuesdayCalendar\");\r\nvar wednesdaycalendar = document.getElementById(\"WednesdayCalendar\");\r\nvar thursdaycalendar = document.getElementById(\"ThursdayCalendar\");\r\nvar fridaycalendar = document.getElementById(\"FridayCalendar\");\r\nvar saturdaycalendar = document.getElementById(\"SaturdayCalendar\");\r\nvar sundaycalendar = document.getElementById(\"SundayCalendar\");\r\nconst root = document.getElementById(\"root\");\r\n\r\n// Function for when \"Monday\" is clicked\r\nmondaycalendar.onclick = function() {\r\n  // Adjust the colours of the day buttons\r\n  if (!mondaycalendar.classList.contains(\"selected\")) {\r\n    mondaycalendar.classList.add(\"selected\")\r\n  }\r\n  if (tuesdaycalendar.classList.contains(\"selected\")) {\r\n    tuesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (wednesdaycalendar.classList.contains(\"selected\")) {\r\n    wednesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (thursdaycalendar.classList.contains(\"selected\")) {\r\n    thursdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (fridaycalendar.classList.contains(\"selected\")) {\r\n    fridaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (saturdaycalendar.classList.contains(\"selected\")) {\r\n    saturdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (sundaycalendar.classList.contains(\"selected\")) {\r\n    sundaycalendar.classList.remove(\"selected\")\r\n  }\r\n\r\n  // Remove previous calendar\r\n  ReactDOM.unmountComponentAtNode(root)\r\n\r\n  // Remove popup\r\n  ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n\r\n  // Add the calendar for Monday\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Basic />\r\n    </React.StrictMode>,\r\n    root\r\n  );\r\n\r\n  // Remove unwanted calendar header\r\n  var header = document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0];\r\n  header.removeChild(header.childNodes[0]);\r\n\r\n  // Changing the borders\r\n  document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n  var i;\r\n  var j;\r\n  for (i=0; i<5; i++) {\r\n    for (j=3; j<93;j+=4) {\r\n      document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n    }\r\n  }\r\n}\r\n\r\n// Function for when \"Tuesday\" is clicked\r\ntuesdaycalendar.onclick = function() {\r\n  // Adjust the colours of the day buttons\r\n  if (mondaycalendar.classList.contains(\"selected\")) {\r\n    mondaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (!tuesdaycalendar.classList.contains(\"selected\")) {\r\n    tuesdaycalendar.classList.add(\"selected\")\r\n  }\r\n  if (wednesdaycalendar.classList.contains(\"selected\")) {\r\n    wednesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (thursdaycalendar.classList.contains(\"selected\")) {\r\n    thursdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (fridaycalendar.classList.contains(\"selected\")) {\r\n    fridaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (saturdaycalendar.classList.contains(\"selected\")) {\r\n    saturdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (sundaycalendar.classList.contains(\"selected\")) {\r\n    sundaycalendar.classList.remove(\"selected\")\r\n  }\r\n\r\n  // Remove previous calendar\r\n  ReactDOM.unmountComponentAtNode(root)\r\n\r\n  // Remove popup\r\n  ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n\r\n  // Add the calendar for Tuesday\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Basic0 />\r\n    </React.StrictMode>,\r\n    root\r\n  );\r\n\r\n  // Remove unwanted calendar header\r\n  var header = document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0];\r\n  header.removeChild(header.childNodes[0]);\r\n\r\n  // Changing the borders\r\n  document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n  var i;\r\n  var j;\r\n  for (i=0; i<5; i++) {\r\n    for (j=3; j<93;j+=4) {\r\n      document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n    }\r\n  }\r\n}\r\n\r\n// Function for when \"Wednesday\" is clicked\r\nwednesdaycalendar.onclick = function() {\r\n  // Adjust the colours of the day buttons\r\n  if (mondaycalendar.classList.contains(\"selected\")) {\r\n    mondaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (tuesdaycalendar.classList.contains(\"selected\")) {\r\n    tuesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (!wednesdaycalendar.classList.contains(\"selected\")) {\r\n    wednesdaycalendar.classList.add(\"selected\")\r\n  }\r\n  if (thursdaycalendar.classList.contains(\"selected\")) {\r\n    thursdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (fridaycalendar.classList.contains(\"selected\")) {\r\n    fridaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (saturdaycalendar.classList.contains(\"selected\")) {\r\n    saturdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (sundaycalendar.classList.contains(\"selected\")) {\r\n    sundaycalendar.classList.remove(\"selected\")\r\n  }\r\n\r\n  // Remove previous calendar\r\n  ReactDOM.unmountComponentAtNode(root)\r\n\r\n  // Add the calendar for Wednesday\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Basic1 />\r\n    </React.StrictMode>,\r\n    root\r\n  );\r\n\r\n  // Remove unwanted calendar header\r\n  var header = document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0];\r\n  header.removeChild(header.childNodes[0]);\r\n\r\n  // Changing the borders\r\n  document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n  var i;\r\n  var j;\r\n  for (i=0; i<5; i++) {\r\n    for (j=3; j<93;j+=4) {\r\n      document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n    }\r\n  }\r\n}\r\n\r\n// Function for when \"Thursday\" is clicked\r\nthursdaycalendar.onclick = function() {\r\n  // Adjust the colours of the day buttons\r\n  if (mondaycalendar.classList.contains(\"selected\")) {\r\n    mondaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (tuesdaycalendar.classList.contains(\"selected\")) {\r\n    tuesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (wednesdaycalendar.classList.contains(\"selected\")) {\r\n    wednesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (!thursdaycalendar.classList.contains(\"selected\")) {\r\n    thursdaycalendar.classList.add(\"selected\")\r\n  }\r\n  if (fridaycalendar.classList.contains(\"selected\")) {\r\n    fridaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (saturdaycalendar.classList.contains(\"selected\")) {\r\n    saturdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (sundaycalendar.classList.contains(\"selected\")) {\r\n    sundaycalendar.classList.remove(\"selected\")\r\n  }\r\n\r\n  // Remove previous calendar\r\n  ReactDOM.unmountComponentAtNode(root)\r\n\r\n  // Remove popup\r\n  ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n\r\n  // Add the calendar for Thursday\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Basic2 />\r\n    </React.StrictMode>,\r\n    root\r\n  );\r\n\r\n  // Remove unwanted calendar header\r\n  var header = document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0];\r\n  header.removeChild(header.childNodes[0]);\r\n\r\n  // Changing the borders\r\n  document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n  var i;\r\n  var j;\r\n  for (i=0; i<5; i++) {\r\n    for (j=3; j<93;j+=4) {\r\n      document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n    }\r\n  }\r\n}\r\n\r\n// Close schedule popup when clicking elsewhere\r\ndocument.addEventListener('mouseup', function(e) {\r\n    var container = document.getElementById(\"schedule_popup\");\r\n    var timepicker = document.getElementsByClassName(\"rc-time-picker-panel\")\r\n    if (container !== null) {\r\n        if (!container.contains(e.target)) {\r\n            if (timepicker.length === 0) {\r\n                ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n\r\n// Function for when \"Friday\" is clicked\r\nfridaycalendar.onclick = function() {\r\n  // Adjust the colours of the day buttons\r\n  if (mondaycalendar.classList.contains(\"selected\")) {\r\n    mondaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (tuesdaycalendar.classList.contains(\"selected\")) {\r\n    tuesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (wednesdaycalendar.classList.contains(\"selected\")) {\r\n    wednesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (thursdaycalendar.classList.contains(\"selected\")) {\r\n    thursdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (!fridaycalendar.classList.contains(\"selected\")) {\r\n    fridaycalendar.classList.add(\"selected\")\r\n  }\r\n  if (saturdaycalendar.classList.contains(\"selected\")) {\r\n    saturdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (sundaycalendar.classList.contains(\"selected\")) {\r\n    sundaycalendar.classList.remove(\"selected\")\r\n  }\r\n\r\n  // Remove previous calendar\r\n  ReactDOM.unmountComponentAtNode(root)\r\n\r\n  // Remove popup\r\n  ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n\r\n  // Add the calendar for Friday\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Basic3 />\r\n    </React.StrictMode>,\r\n    root\r\n  );\r\n\r\n  // Remove unwanted calendar header\r\n  var header = document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0];\r\n  header.removeChild(header.childNodes[0]);\r\n\r\n  // Changing the borders\r\n  document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n  var i;\r\n  var j;\r\n  for (i=0; i<5; i++) {\r\n    for (j=3; j<93;j+=4) {\r\n      document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n    }\r\n  }\r\n}\r\n\r\n// Function for when \"Saturday\" is clicked\r\nsaturdaycalendar.onclick = function() {\r\n  // Adjust the colours of the day buttons\r\n  if (mondaycalendar.classList.contains(\"selected\")) {\r\n    mondaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (tuesdaycalendar.classList.contains(\"selected\")) {\r\n    tuesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (wednesdaycalendar.classList.contains(\"selected\")) {\r\n    wednesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (thursdaycalendar.classList.contains(\"selected\")) {\r\n    thursdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (fridaycalendar.classList.contains(\"selected\")) {\r\n    fridaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (!saturdaycalendar.classList.contains(\"selected\")) {\r\n    saturdaycalendar.classList.add(\"selected\")\r\n  }\r\n  if (sundaycalendar.classList.contains(\"selected\")) {\r\n    sundaycalendar.classList.remove(\"selected\")\r\n  }\r\n\r\n  // Remove previous calendar\r\n  ReactDOM.unmountComponentAtNode(root)\r\n\r\n  // Remove popup\r\n  ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n\r\n  // Add the calendar for Saturday\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Basic4 />\r\n    </React.StrictMode>,\r\n    root\r\n  );\r\n\r\n  // Remove unwanted calendar header\r\n  var header = document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0];\r\n  header.removeChild(header.childNodes[0]);\r\n\r\n  // Changing the borders\r\n  document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n  var i;\r\n  var j;\r\n  for (i=0; i<5; i++) {\r\n    for (j=3; j<93;j+=4) {\r\n      document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n    }\r\n  }\r\n}\r\n\r\n// Function for when \"Sunday\" is clicked\r\nsundaycalendar.onclick = function() {\r\n  // Adjust the colours of the day buttons\r\n  if (mondaycalendar.classList.contains(\"selected\")) {\r\n    mondaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (tuesdaycalendar.classList.contains(\"selected\")) {\r\n    tuesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (wednesdaycalendar.classList.contains(\"selected\")) {\r\n    wednesdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (thursdaycalendar.classList.contains(\"selected\")) {\r\n    thursdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (fridaycalendar.classList.contains(\"selected\")) {\r\n    fridaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (saturdaycalendar.classList.contains(\"selected\")) {\r\n    saturdaycalendar.classList.remove(\"selected\")\r\n  }\r\n  if (!sundaycalendar.classList.contains(\"selected\")) {\r\n    sundaycalendar.classList.add(\"selected\")\r\n  }\r\n\r\n  // Remove previous calendar\r\n  ReactDOM.unmountComponentAtNode(root)\r\n\r\n  // Remove popup\r\n  ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"))\r\n\r\n  // Add the calendar for Sunday\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <Basic5 />\r\n    </React.StrictMode>,\r\n    root\r\n  );\r\n\r\n  // Remove unwanted calendar header\r\n  var header = document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0];\r\n  header.removeChild(header.childNodes[0]);\r\n\r\n  // Changing the borders\r\n  document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n  var i;\r\n  var j;\r\n  for (i=0; i<5; i++) {\r\n    for (j=3; j<93;j+=4) {\r\n      document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n    }\r\n  }\r\n}\r\n\r\nvar remotecontrolelement = document.getElementById(\"remotecontrolrect\");\r\nvar infoiconremote = document.getElementById(\"infoIconRemote\");\r\nvar scheduleelement = document.getElementById(\"schedulebasedrect\");\r\nvar infoiconschedule = document.getElementById(\"infoIcon\");\r\nvar presenceelement = document.getElementById(\"presencebasedrect\");\r\nvar infoiconpresence = document.getElementById(\"infoIconPresence\");\r\n\r\nwindow.onload = function() {\r\n\r\n  const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n  var today = new Date();\r\n  var day = days[today.getDay()];\r\n  var wanted_id = day + \"Calendar\";\r\n  document.getElementById(wanted_id).click();\r\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\r\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\r\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\r\n  infoiconremote.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxRemote\"}>\r\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\r\n        </div>, document.getElementById(\"infoBoxRemote\"));\r\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\r\n    }\r\n  infoiconremote.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\r\n  }\r\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\r\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\r\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\r\n  infoiconschedule.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBox\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\r\n        </div>, document.getElementById(\"infoBox\"));\r\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\r\n    }\r\n  infoiconschedule.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\r\n  }\r\n  let presenceelemRect = presenceelement.getBoundingClientRect();\r\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\r\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\r\n  infoiconpresence.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxPresence\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\r\n        </div>, document.getElementById(\"infoBoxPresence\"));\r\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\r\n    }\r\n  infoiconpresence.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\r\n  }\r\n}\r\n\r\nwindow.onresize = function() {\r\n\r\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\r\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\r\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\r\n  infoiconremote.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxRemote\"}>\r\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\r\n        </div>, document.getElementById(\"infoBoxRemote\"));\r\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\r\n    }\r\n  infoiconremote.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\r\n  }\r\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\r\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\r\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\r\n  infoiconschedule.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBox\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\r\n        </div>, document.getElementById(\"infoBox\"));\r\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\r\n    }\r\n  infoiconschedule.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\r\n  }\r\n  let presenceelemRect = presenceelement.getBoundingClientRect();\r\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\r\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\r\n  infoiconpresence.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxPresence\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\r\n        </div>, document.getElementById(\"infoBoxPresence\"));\r\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\r\n    }\r\n  infoiconpresence.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\r\n  }\r\n}\r\n\r\n\r\nvar isChromium = window.chrome;\r\nvar winNav = window.navigator;\r\nvar vendorName = winNav.vendor;\r\nvar isOpera = typeof window.opr !== \"undefined\";\r\nvar isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1;\r\nvar isIOSChrome = winNav.userAgent.match(\"CriOS\");\r\n\r\nif (isIOSChrome) {\r\n   // is Google Chrome on IOS\r\n   document.onkeydown = function(event) {\r\nif (event.ctrlKey===true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\r\n        event.preventDefault();\r\n     }\r\n    // 107 Num Key  +\r\n    // 109 Num Key  -\r\n    // 173 Min Key  hyphen/underscore key\r\n    // 61 Plus key  +/= key\r\n};\r\n} else if(\r\n  isChromium !== null &&\r\n  typeof isChromium !== \"undefined\" &&\r\n  vendorName === \"Google Inc.\" &&\r\n  isOpera === false &&\r\n  isIEedge === false\r\n) {\r\n   // is Google Chrome\r\n   document.onkeydown = function(event) {\r\nif (event.ctrlKey === true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\r\n        event.preventDefault();\r\n     }\r\n    // 107 Num Key  +\r\n    // 109 Num Key  -\r\n    // 173 Min Key  hyphen/underscore key\r\n    // 61 Plus key  +/= key\r\n};\r\n} else {\r\n   // not Google Chrome\r\n}\r\n\r\n\r\n// Presence Based Control\r\nclass PresenceControlDashboard extends Component {\r\n    state = {\r\n        books: [],\r\n        current_user_id: 1\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch data from database\r\n        fetch('http://127.0.0.1:8000/control_interface/api/presence/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            data.sort(compare);\r\n            var datas = []\r\n            for (var input of data) {\r\n                if (input.user_id === this.state.current_user_id) {\r\n                    datas.push(input)\r\n                }\r\n            }\r\n            this.setState({books: datas})\r\n        })\r\n    }\r\n\r\n    updateBook = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/presence/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook)\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({books: newBooks});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n              <br/>\r\n              <PresenceControlList\r\n                  books={this.state.books}\r\n                  onUpdateClick={this.updateBook}\r\n              />\r\n              <div id=\"PopupPresenceOverlay\"> </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass PresenceControlList extends Component {\r\n    render() {\r\n        const books = this.props.books.map(book => (\r\n            <PresenceControlEditableItem\r\n                key={book.id}\r\n                id={book.id}\r\n                user_id={book.user_id}\r\n                device_type={book.device_type}\r\n                presence_setting={book.presence_setting}\r\n                onUpdateClick={this.props.onUpdateClick}\r\n            />\r\n        ));\r\n        return (\r\n            <div className=\"plugloadboxes\">\r\n                {books}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass PresenceControlEditableItem extends Component {\r\n    handleUpdate = (book) => {\r\n        book.id = this.props.id;\r\n        this.props.onUpdateClick(book);\r\n    }\r\n\r\n    render() {\r\n        const component = () => {\r\n            return (\r\n                <>\r\n                    <PresenceControlItem\r\n                        id={this.props.id}\r\n                        user_id={this.props.user_id}\r\n                        device_type={this.props.device_type}\r\n                        presence_setting={this.props.presence_setting}\r\n                        onFormSubmit={this.handleUpdate}\r\n                    />\r\n                </>\r\n            )\r\n        }\r\n        return (\r\n            component()\r\n        )\r\n    }\r\n}\r\n\r\nclass PresenceControlItem extends Component {\r\n    state = {\r\n        user_id: this.props.user_id,\r\n        device_type: this.props.device_type,\r\n        presence_setting: this.props.presence_setting,\r\n        achievements_books: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch data for achievements\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            for (var input of data) {\r\n                if (input.user_id === this.state.user_id) {\r\n                    this.setState({achievements_books: [input]})\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateAchievementsBooks = (newBook) => {\r\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    handleAchievementsUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updateAchievementsBooks(book);\r\n    }\r\n\r\n    handleAchievementsFormSubmit = () => {\r\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\r\n    }\r\n\r\n    onConfirm1 = () => {\r\n        // Update database\r\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n\r\n        // If first time clicking, update achievement\r\n        if (this.state.achievements_books[0].first_presence === false) {\r\n            this.setState({\r\n                achievements_books: [\r\n                    {\r\n                        ...this.state.achievements_books[0],\r\n                        first_presence: true\r\n                    }\r\n                ]\r\n            }, function() {this.handleAchievementsFormSubmit()})\r\n        }\r\n    }\r\n\r\n    onCancel1 = () => {\r\n        document.getElementById(this.state.device_type.replace(/\\s/g, '') + \"Select\").value = this.state.presence_setting;\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    handleFormSubmit = () => {\r\n        this.props.onFormSubmit({...this.state});\r\n    }\r\n\r\n    handleSettingUpdate = (evt) => {\r\n        if (evt.target.value !== \"other\" && evt.target.value !== \"1000000\") {\r\n            // Hide popup\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n            document.getElementById(\"PopupPresenceOverlay\").className = \"\";\r\n            // Update database\r\n            this.setState({presence_setting: evt.target.value}, function() {this.handleFormSubmit()})\r\n\r\n            // If first time clicking, update achievement\r\n            if (this.state.achievements_books[0].first_presence === false) {\r\n                this.setState({\r\n                    achievements_books: [\r\n                        {\r\n                            ...this.state.achievements_books[0],\r\n                            first_presence: true\r\n                        }\r\n                    ]\r\n                }, function() {this.handleAchievementsFormSubmit()})\r\n            }\r\n        }\r\n        if (evt.target.value === \"other\") {\r\n            // Show popup\r\n            ReactDOM.render(\r\n                <PresenceControlPopup\r\n                    device_type={this.state.device_type}\r\n                    handleOtherUpdate={this.handleOtherUpdate}\r\n                    handleEnterClick={this.handleEnterClick}\r\n                    cancelButtonClicked={this.cancelButtonClicked}\r\n                    okButtonClicked={this.okButtonClicked}\r\n                />, document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\")\r\n            )\r\n            document.getElementById(\"PopupPresenceOverlay\").className = \"popup_presence_overlay\";\r\n        }\r\n        if (evt.target.value === \"1000000\") {\r\n            // Hide popup\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n            document.getElementById(\"PopupPresenceOverlay\").className = \"\";\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\r\n                                onConfirm = {this.onConfirm1}\r\n                                onCancel = {this.onCancel1}\r\n                            />, document.getElementById(\"confirm-alert\"))\r\n        }\r\n    }\r\n\r\n    handleOtherUpdate = (evt) => {\r\n        this.setState({presence_setting: evt.target.value});\r\n    }\r\n\r\n    handleEnterClick = (evt) => {\r\n        if (evt.key === \"Enter\" || evt.keyCode === 13) {\r\n            this.okButtonClicked();\r\n        }\r\n    }\r\n\r\n    onConfirm2 = () => {\r\n        // Change outer ring to red\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"redRing\";\r\n        // Change image to OFF\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\r\n        // Set value to OFF\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"1000000\";\r\n        // Update database\r\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()})\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n\r\n        // If first time clicking, update achievement\r\n        if (this.state.achievements_books[0].first_presence === false) {\r\n            this.setState({\r\n                achievements_books: [\r\n                    {\r\n                        ...this.state.achievements_books[0],\r\n                        first_presence: true\r\n                    }\r\n                ]\r\n            }, function() {this.handleAchievementsFormSubmit()})\r\n        }\r\n    }\r\n\r\n    onCancel2 = () => {\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    handlePresenceIconClick = () => {\r\n        if (document.getElementById(this.state.device_type.replace(/\\s/g,'')).className === \"greenRing\") {\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\r\n                                onConfirm = {this.onConfirm2}\r\n                                onCancel = {this.onCancel2}\r\n                            />, document.getElementById(\"confirm-alert\"))\r\n        } else {\r\n            // Change outer ring to green\r\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"greenRing\"\r\n            // Change image to ON\r\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\r\n            // Set value to 5 minutes\r\n            document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\r\n            // Update database\r\n            this.setState({presence_setting: \"5\"}, function() {this.handleFormSubmit()})\r\n\r\n            // If first time clicking, update achievement\r\n            if (this.state.achievements_books[0].first_presence === false) {\r\n                this.setState({\r\n                    achievements_books: [\r\n                        {\r\n                            ...this.state.achievements_books[0],\r\n                            first_presence: true\r\n                        }\r\n                    ]\r\n                }, function() {this.handleAchievementsFormSubmit()})\r\n            }\r\n        }\r\n    }\r\n\r\n    cancelButtonClicked = () => {\r\n        // Hide popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n        document.getElementById(\"PopupPresenceOverlay\").className = \"\";\r\n        // Set value to 5 minutes\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\r\n    }\r\n\r\n    okButtonClicked = () => {\r\n        // Display value on dropdown\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value;\r\n        // Clear text box on popup\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value = \"\";\r\n        // Hide popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n        document.getElementById(\"PopupPresenceOverlay\").className = \"\";\r\n        // Update database\r\n        this.handleFormSubmit();\r\n\r\n        // If first time clicking, update achievement\r\n        if (this.state.achievements_books[0].first_presence === false) {\r\n            this.setState({\r\n                achievements_books: [\r\n                    {\r\n                        ...this.state.achievements_books[0],\r\n                        first_presence: true\r\n                    }\r\n                ]\r\n            }, function() {this.handleAchievementsFormSubmit()})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const possible_option = [\"1000000\", \"5\", \"10\", \"20\", \"30\", \"60\", \"other\"]\r\n        if (possible_option.includes(this.state.presence_setting.toString())) {\r\n            var disabled = true;\r\n            var display_value = \"\";\r\n            var display_text = \"\";\r\n        } else {\r\n            disabled = false;\r\n            display_value = this.state.presence_setting;\r\n            display_text = this.state.presence_setting + \" minutes\";\r\n        }\r\n\r\n        if (this.state.presence_setting.toString() === \"1000000\") {\r\n            var presence_control_outer_ring = \"redRing\";\r\n            var presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\r\n        } else {\r\n            presence_control_outer_ring = \"greenRing\";\r\n            presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\r\n        }\r\n\r\n        return (\r\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxPresence\"} className=\"containerPresence\">\r\n                <div className=\"iconPresence clickable\">\r\n                    <div className={presence_control_outer_ring} id={this.state.device_type.replace(/\\s/g,'')} onClick={this.handlePresenceIconClick}>\r\n                        <div className=\"whiteRing\">\r\n                            <img className=\"PlugLoadIcon\" src={presence_control_image} alt=\"Icon\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{width:\"200px\", height:\"10px\", overflowY:\"visible\"}}>\r\n                    <div style={{position:\"relative\", width:\"200px\", height:\"1px\", overflowY:\"visible\"}}>\r\n                        <div className=\"dropdownPresence\" id={this.state.device_type.replace(/\\s/g,'') + \"Dropdown\"}>\r\n                            <div className=\"wordPresence\">\r\n                                <p> {this.state.device_type} </p>\r\n                            </div>\r\n                            <select className=\"clickable\" defaultValue={this.state.presence_setting} onChange={this.handleSettingUpdate} id={this.state.device_type.replace(/\\s/g,'') + \"Select\"}>\r\n                                <option value=\"1000000\"> Deactivate </option>\r\n                                <optgroup label=\"Off after I leave for:\">\r\n                                    <option value=\"5\"> 5 minutes </option>\r\n                                    <option value=\"10\"> 10 minutes </option>\r\n                                    <option value=\"20\"> 20 minutes </option>\r\n                                    <option value=\"30\"> 30 minutes </option>\r\n                                    <option value=\"60\"> 1 hour </option>\r\n                                    <option value=\"other\"> Other </option>\r\n                                </optgroup>\r\n                                <option value={display_value} disabled={disabled}> {display_text} </option>\r\n                            </select>\r\n                        </div>\r\n                        <div id={this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"}> </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass PresenceControlPopup extends Component {\r\n    render() {\r\n        return (\r\n            <div id={this.props.device_type.replace(/\\s/g,'') + \"PopupPresence\"} className=\"visiblePresence\">\r\n                <input type=\"text\" id={this.props.device_type.replace(/\\s/g,'') + \"TextOther\"} onChange={this.props.handleOtherUpdate} onKeyUp={this.props.handleEnterClick} />\r\n                <p className=\"minutes\"> minutes </p>\r\n                <br />\r\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"CancelButton\"} onClick={this.props.cancelButtonClicked}> Cancel </button>\r\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"OkButton\"} onClick={this.props.okButtonClicked}> OK </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(<PresenceControlDashboard />, document.getElementById('presence-based-control'))","// This is the default data given to the calendar.\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar DemoData = {\r\n    // Plug loads\r\n    resources: [{\r\n        id: 'r1',\r\n        name: 'Desktop'\r\n    }, {\r\n        id: 'r2',\r\n        name: 'Monitor'\r\n    }, {\r\n        id: 'r3',\r\n        name: 'Laptop'\r\n    }, {\r\n        id: 'r4',\r\n        name: 'Task Lamp'\r\n    }, {\r\n        id: 'r5',\r\n        name: 'Fan'\r\n    }],\r\n    events: [\r\n      // Default data for Monday\r\n      {\r\n        id: 1,\r\n        start: '2017-12-18 09:00:00',\r\n        end: '2017-12-18 17:00:00',\r\n        resourceId: 'r1',\r\n        title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n        showPopover: false,\r\n        bgColor: \"#06D6A0\",\r\n        rrule: \"\"\r\n    }, {\r\n        id: 2,\r\n        start: '2017-12-18 09:00:00',\r\n        end: '2017-12-18 17:00:00',\r\n        resourceId: 'r2',\r\n        title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n        showPopover: false,\r\n        bgColor: \"#06D6A0\",\r\n        rrule: \"\"\r\n    }, {\r\n        id: 3,\r\n        start: '2017-12-18 09:00:00',\r\n        end: '2017-12-18 17:00:00',\r\n        resourceId: 'r3',\r\n        title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n        showPopover: false,\r\n        bgColor: '#06D6A0',\r\n        rrule: \"\"\r\n    }, {\r\n        id: 4,\r\n        start: '2017-12-18 09:00:00',\r\n        end: '2017-12-18 17:00:00',\r\n        resourceId: 'r4',\r\n        title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n        showPopover: false,\r\n        bgColor: '#06D6A0',\r\n        rrule: \"\"\r\n    }, {\r\n        id: 5,\r\n        start: '2017-12-18 09:00:00',\r\n        end: '2017-12-18 17:00:00',\r\n        resourceId: 'r5',\r\n        title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n        showPopover: false,\r\n        bgColor: '#06D6A0',\r\n        rrule: \"\"\r\n    },\r\n    // Default data for Tuesday\r\n    {\r\n      id: 6,\r\n      start: '2017-12-19 09:00:00',\r\n      end: '2017-12-19 17:00:00',\r\n      resourceId: 'r1',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 7,\r\n      start: '2017-12-19 09:00:00',\r\n      end: '2017-12-19 17:00:00',\r\n      resourceId: 'r2',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 8,\r\n      start: '2017-12-19 09:00:00',\r\n      end: '2017-12-19 17:00:00',\r\n      resourceId: 'r3',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 9,\r\n      start: '2017-12-19 09:00:00',\r\n      end: '2017-12-19 17:00:00',\r\n      resourceId: 'r4',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 10,\r\n      start: '2017-12-19 09:00:00',\r\n      end: '2017-12-19 17:00:00',\r\n      resourceId: 'r5',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    },\r\n    // Default data for Wednesday\r\n    {\r\n      id: 11,\r\n      start: '2017-12-20 09:00:00',\r\n      end: '2017-12-20 17:00:00',\r\n      resourceId: 'r1',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor:'#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 12,\r\n      start: '2017-12-20 09:00:00',\r\n      end: '2017-12-20 17:00:00',\r\n      resourceId: 'r2',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 13,\r\n      start: '2017-12-20 09:00:00',\r\n      end: '2017-12-20 17:00:00',\r\n      resourceId: 'r3',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 14,\r\n      start: '2017-12-20 09:00:00',\r\n      end: '2017-12-20 17:00:00',\r\n      resourceId: 'r4',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 15,\r\n      start: '2017-12-20 09:00:00',\r\n      end: '2017-12-20 17:00:00',\r\n      resourceId: 'r5',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    },\r\n    // Default data for Thursday\r\n    {\r\n      id: 16,\r\n      start: '2017-12-21 09:00:00',\r\n      end: '2017-12-21 17:00:00',\r\n      resourceId: 'r1',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 17,\r\n      start: '2017-12-21 09:00:00',\r\n      end: '2017-12-21 17:00:00',\r\n      resourceId: 'r2',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 18,\r\n      start: '2017-12-21 09:00:00',\r\n      end: '2017-12-21 17:00:00',\r\n      resourceId: 'r3',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 19,\r\n      start: '2017-12-21 09:00:00',\r\n      end: '2017-12-21 17:00:00',\r\n      resourceId: 'r4',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 20,\r\n      start: '2017-12-21 09:00:00',\r\n      end: '2017-12-21 17:00:00',\r\n      resourceId: 'r5',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    },\r\n    // Default data for Friday\r\n    {\r\n      id: 21,\r\n      start: '2017-12-22 09:00:00',\r\n      end: '2017-12-22 17:00:00',\r\n      resourceId: 'r1',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 22,\r\n      start: '2017-12-22 09:00:00',\r\n      end: '2017-12-22 17:00:00',\r\n      resourceId: 'r2',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 23,\r\n      start: '2017-12-22 09:00:00',\r\n      end: '2017-12-22 17:00:00',\r\n      resourceId: 'r3',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 24,\r\n      start: '2017-12-22 09:00:00',\r\n      end: '2017-12-22 17:00:00',\r\n      resourceId: 'r4',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }, {\r\n      id: 25,\r\n      start: '2017-12-22 09:00:00',\r\n      end: '2017-12-22 17:00:00',\r\n      resourceId: 'r5',\r\n      title: 'Default Schedule (09:00 AM - 05:00 PM)',\r\n      showPopover: false,\r\n      bgColor: '#06D6A0',\r\n      rrule: \"\"\r\n    }\r\n  ]\r\n};\r\n\r\nexports.default = DemoData;\r\n"],"sourceRoot":""}