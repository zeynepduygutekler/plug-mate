{"version":3,"sources":["ConfirmAlert.js","withDnDContext.js","OnlyAlert.js","ScheduleControlPopup.js","Calendar.js","index.js"],"names":["ConfirmAlert","state","message","_this","props","onConfirm","onCancel","react_default","a","createElement","class","index_es","icon","faExclamationTriangle","style","color","this","onClick","Component","DragDropContext","HTML5Backend","OnlyAlert","onOK","ScheduleControlPopup","exitPopup","e","target","document","getElementById","closeButtonClicked","event_rrule","includes","checked","substring","length","device_type","Fragment","id","defaultValue","event_name","type","faClock","ScheduleControlPopup_ScheduleControlTimepicker","time","event_start","display","marginRight","marginLeft","event_end","ScheduleControlPopup_ScheduleControlRepeat","fontWeight","ScheduleControlPopup_ScheduleControlApply","devices","okButtonClicked","deleteButtonClicked","ScheduleControlTimepicker","hour","Number","am_pm","toString","minute","value","ScheduleControlRepeat","htmlFor","width","name","ScheduleControlApply","map","device","ScheduleControlPopup_ScheduleControlApplyItem","ScheduleControlApplyItem","replace","from24to12","new_hour","am_or_pm","finalTime","from12to24","formatForDatabaseAdd","book","current_user_id","rrule","user_id","event_id","start","end","title","device_type_id","resourceId","formatForDatabaseUpdate","n","indexOf","database_id","processHourInput","getDates","today","Date","mondayDate","tuesdayDate","wednesdayDate","thursdayDate","fridayDate","saturdayDate","sundayDate","getDay","setDate","getDate","getFullYear","getMonth","withDragDropContext","Calendar","Object","classCallCheck","_super","call","refetchBonusAchievementsData","fetch","then","response","json","data","setState","achievements_books","setTimeout","refetchWeeklyAchievementsData","weekly_achievements_books","refetchPointsWalletData","points_wallet_books","updateAchievementsBooks","newBook","method","headers","Content-Type","body","JSON","stringify","newBooks","assign","updateWeeklyAchievementsBooks","updatePointsWalletBooks","handleAchievementsUpdate","handleWeeklyAchievementsUpdate","handlePointsWalletUpdate","handleAchievementsFormSubmit","handleWeeklyAchievementsFormSubmit","handlePointsWalletFormSubmit","isNonWorkingTime","schedulerData","getScrollSpecialMoment","startMoment","endMoment","date","moment","eventClicked","event","slotName","getSlotById","ReactDOM","render","src_ScheduleControlPopup","hasConflict","conflictedEvents","plugload_option","querySelectorAll","console","log","repeat_option","_step","new_days_to_loop_over","_iterator","createForOfIteratorHelper","s","done","repeat_day","push","err","f","new_start","new_end","new_start_for_this","new_end_for_this","existing_start_for_this","existing_end_for_this","_i","_new_days_to_loop_ove","new_day","_step2","_iterator2","plugload","events","forEach","current_resource_id","contains","existing_days_to_loop_over","_i2","_existing_days_to_loo","existing_day","_step3","day","_iterator3","current_plugload_conflicted","concat","alert","updateEventStart","window","calendar","updateEventEnd","newFreshId","item","newEvent","bgColor","showPopover","onAddClick","addEvent","viewModel","onUpdateClick","refetchData","unmountComponentAtNode","schedule_based","objectSpread2","first_schedule","points","presencecontrol","key","click","onDeleteClick","removeEvent","slotId","format","toUpperCase","_step4","_iterator4","eStart","eEnd","eRrule","_step5","_iterator5","_step6","_iterator6","_step7","_iterator7","resouceId","_step8","_iterator8","_step9","_iterator9","anotherNewEvent","newStart","_step10","_iterator10","_step11","_iterator11","_step12","_iterator12","_step13","_iterator13","_step14","_iterator14","_step15","_iterator15","newEnd","_step16","_iterator16","_step17","_iterator17","_step18","_iterator18","_step19","_iterator19","_step20","_iterator20","_step21","_iterator21","moveEvent","_step22","_iterator22","_step23","_iterator23","_step24","_iterator24","_step25","_iterator25","_step26","_iterator26","_step27","_iterator27","conflictOccurred","action","src_OnlyAlert","SchedulerData","ViewTypes","Day","checkConflict","recurringEventsEnabled","scrollToSpecialMomentEnabled","crossResourceMove","getScrollSpecialMomentFunc","isNonWorkingTimeFunc","setResources","setEvents","assertThisInitialized","lib_default","eventItemClick","compare","b","comparison","RemoteControlDashboard","books","fetchData","sort","updateBook","src_RemoteControlList","float","RemoteControlList","_this2","src_RemoteControlEditableItem","device_state","marginBottom","src_RemoteToggleButton","defaultChecked","margin","RemoteControlEditableItem","handleUpdate","_this3","_this4","src_RemoteControlItem","onFormSubmit","RemoteControlItem","_this5","handleFormSubmit","onConfirm1","to_be_confirmed","Main","first_remote","wanted_id","className","onConfirm2","onCancel1","to_be_cancelled","onCancel2","onChange","preventDefault","childNodes","src_ConfirmAlert","_this6","remote_control_outer_ring","remote_control_image","textAlign","src","alt","data-yes","data-no","RemoteToggleButton","_this7","_super5","master","Small","Name","disabled","sort_events","src_RemoteControlDashboard","ScheduleControlDashboard","dates","chosen_day","_this8","events_datas","input","eventId","finalStart","finalEnd","_getDates","_getDates2","slicedToArray","charAt","createNewBook","csrftoken","cookieValue","cookie","cookies","split","i","trim","decodeURIComponent","getCookie","X-CSRFToken","deleteBook","bookId","filter","removeCalendarHeader","removeChild","addLines","j","getElementsByClassName","borderRight","chooseMonday","src_Calendar","chooseTuesday","chooseWednesday","chooseThursday","chooseFriday","chooseSaturday","chooseSunday","_this9","_getDates3","_getDates4","src_ScheduleControlItem","ScheduleControlItem","today_date","src_ScheduleControlDashboard","PresenceControlDashboard","_this10","_super8","_this11","src_PresenceControlList","PresenceControlList","_this12","src_PresenceControlEditableItem","presence_setting","PresenceControlEditableItem","_this13","_this14","src_PresenceControlItem","PresenceControlItem","_this15","first_presence","handleSettingUpdate","evt","src_PresenceControlPopup","handleOtherUpdate","handleEnterClick","cancelButtonClicked","keyCode","handlePresenceIconClick","display_value","display_text","presence_control_outer_ring","presence_control_image","exitClick","height","overflowY","position","label","PresenceControlPopup","_this16","onKeyUp","src_PresenceControlDashboard","remotecontrolelement","infoiconremote","scheduleelement","infoiconschedule","presenceelement","infoiconpresence","onload","remotecontrolelemRect","getBoundingClientRect","infoiconremoteRect","offsetremote","right","onmouseover","onmouseout","scheduleelemRect","infoiconscheduleRect","offsetschedule","presenceelemRect","infoiconpresenceRect","offsetpresence","onresize","isChromium","chrome","winNav","navigator","vendorName","vendor","isOpera","opr","isIEedge","userAgent","match","onkeydown","ctrlKey","which"],"mappings":"mQAgCeA,8MA1BXC,MAAQ,CACJC,QAASC,EAAKC,MAAMF,QACpBG,UAAWF,EAAKC,MAAMC,UACtBC,SAAUH,EAAKC,MAAME,iEAGrB,OACIC,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,uBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMC,IAAuBH,MAAM,uBACpDH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,IAA6BC,KAAKf,MAAMC,QAAxC,KACAK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,UAAQC,MAAM,uBAAuBO,QAASD,KAAKf,MAAMK,UAAzD,YACAC,EAAAC,EAAAC,cAAA,UAAQC,MAAM,wBAAwBO,QAASD,KAAKf,MAAMI,WAA1D,wBAlBDa,kFCAZC,4BAAgBC,KCyBhBC,8MAxBXpB,MAAQ,CACJC,QAASC,EAAKC,MAAMF,QACpBoB,KAAMnB,EAAKC,MAAMkB,6DAGjB,OACIf,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,uBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMC,IAAuBH,MAAM,uBACpDH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,IAA6BC,KAAKf,MAAMC,QAAxC,KACAK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,UAAQC,MAAM,WAAWO,QAASD,KAAKf,MAAMqB,MAA7C,mBAhBJJ,aCClBK,8MA2DFC,UAAY,SAACC,GACLA,EAAEC,SAAWC,SAASC,eAAe,2BACrCzB,EAAKC,MAAMyB,wFAzDXb,KAAKZ,MAAM0B,YAAYC,SAAS,0BAChCJ,SAASC,eAAe,0BAA0BI,SAAU,GAE5DhB,KAAKZ,MAAM0B,YAAYG,UAAU,GAAGjB,KAAKZ,MAAM0B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DhB,KAAKZ,MAAM0B,YAAYG,UAAU,GAAGjB,KAAKZ,MAAM0B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,yBAAyBI,SAAU,GAE3DhB,KAAKZ,MAAM0B,YAAYG,UAAU,GAAGjB,KAAKZ,MAAM0B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,2BAA2BI,SAAU,GAE7DhB,KAAKZ,MAAM0B,YAAYG,UAAU,GAAGjB,KAAKZ,MAAM0B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,0BAA0BI,SAAU,GAE5DhB,KAAKZ,MAAM0B,YAAYG,UAAU,GAAGjB,KAAKZ,MAAM0B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DhB,KAAKZ,MAAM0B,YAAYG,UAAU,GAAGjB,KAAKZ,MAAM0B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,0BAA0BI,SAAU,GAE5DhB,KAAKZ,MAAM0B,YAAYG,UAAU,GAAGjB,KAAKZ,MAAM0B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,wBAAwBI,SAAU,GAI1DhB,KAAKZ,MAAM+B,YAAYJ,SAAS,aAEhCJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DhB,KAAKZ,MAAM+B,YAAYJ,SAAS,aAEhCJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DhB,KAAKZ,MAAM+B,YAAYJ,SAAS,YAEhCJ,SAASC,eAAe,uBAAuBI,SAAU,GAEzDhB,KAAKZ,MAAM+B,YAAYJ,SAAS,eAEhCJ,SAASC,eAAe,yBAAyBI,SAAU,GAE3DhB,KAAKZ,MAAM+B,YAAYJ,SAAS,SAEhCJ,SAASC,eAAe,oBAAoBI,SAAU,oCAW1D,OACIzB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,yBAAyBpB,QAASD,KAAKQ,WAC3CjB,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,kBACJ9B,EAAAC,EAAAC,cAAA,KAAG4B,GAAG,wBAAN,IAA+BrB,KAAKZ,MAAM+B,YAA1C,KACA5B,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,uBAAuBpB,QAASD,KAAKZ,MAAMyB,oBAAtD,UACAtB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAO4B,GAAG,sBAAsBC,aAActB,KAAKZ,MAAMmC,WAAWN,UAAU,EAAEjB,KAAKZ,MAAMmC,WAAWL,OAAO,IAAKM,KAAK,SACvHjC,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,uBACJ9B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAM6B,IAAS3B,MAAO,CAACC,MAAM,aAC9CR,EAAAC,EAAAC,cAACiC,EAAD,CAA2BF,KAAK,QAAQG,KAAM3B,KAAKZ,MAAMwC,YAAYX,UAAUjB,KAAKZ,MAAMwC,YAAYV,OAAO,EAAGlB,KAAKZ,MAAMwC,YAAYV,UACvI3B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAAC+B,QAAS,eAAgBC,YAAY,OAAQC,WAAW,QAAnE,OACAxC,EAAAC,EAAAC,cAACiC,EAAD,CAA2BF,KAAK,MAAMG,KAAM3B,KAAKZ,MAAM4C,UAAUf,UAAUjB,KAAKZ,MAAM4C,UAAUd,OAAO,EAAGlB,KAAKZ,MAAM4C,UAAUd,WAEnI3B,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,yBACJ9B,EAAAC,EAAAC,cAACwC,EAAD,OAEJ1C,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,wBACJ9B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACoC,WAAW,SAAtB,oBACA3C,EAAAC,EAAAC,cAAC0C,EAAD,CAAsBC,QAAS,CAAC,UAAW,UAAW,SAAU,MAAO,gBAE3E7C,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,oBAAoBpB,QAASD,KAAKZ,MAAMiD,iBAAnD,QACA9C,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,wBAAwBpB,QAASD,KAAKZ,MAAMkD,qBAAvD,sBAzFWpC,aAiG7BqC,yKAEE,IAAIC,EAAOxC,KAAKZ,MAAMuC,KAAKV,UAAU,EAAE,GACvC,GAAIwB,OAAOD,IAAS,GAChB,IAAIE,EAAQ,UAEZA,EAAQ,KAERD,OAAOD,GAAQ,IAAMC,OAAOD,GAAQ,GACpCA,EAAO,KAAOC,OAAOD,GAAM,IAAIG,WAE3BF,OAAOD,IAAS,GAChBA,GAAQC,OAAOD,GAAM,IAAIG,WAEZ,OAATH,IACAA,EAAO,MAInB,IAAII,EAAS5C,KAAKZ,MAAMuC,KAAKV,UAAU,EAAE,GAIzC,OACI1B,EAAAC,EAAAC,cAAA,OAAK4B,GAAIrB,KAAKZ,MAAMoC,KAAO,QACvBjC,EAAAC,EAAAC,cAAA,UAAQ4B,GAAIrB,KAAKZ,MAAMoC,KAAO,OAAQF,aAAckB,GAChDjD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,OACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,QACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,QACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,SAEJtD,EAAAC,EAAAC,cAAA,QAAMK,MAAO,CAACiC,WAAW,QAASD,YAAY,QAA9C,OACAvC,EAAAC,EAAAC,cAAA,UAAQ4B,GAAIrB,KAAKZ,MAAMoC,KAAO,SAAUF,aAAcsB,GAClDrD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,QACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,QACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,QACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,SAEJtD,EAAAC,EAAAC,cAAA,UAAQ4B,GAAIrB,KAAKZ,MAAMoC,KAAO,OAAQF,aAAcoB,GAChDnD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,QACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,iBAhDoB3C,aAuDlC4C,yKAEE,OACIvD,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACoC,WAAW,SAAtB,aACA3C,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLH,GAAG,yBACHwB,MAAM,YACN5C,QAAS,SAASQ,GACVA,EAAEC,OAAOM,SACTL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,yBAAyBI,SAAU,EAC3DL,SAASC,eAAe,2BAA2BI,SAAU,EAC7DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,IAE1DL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,yBAAyBI,SAAU,EAC3DL,SAASC,eAAe,2BAA2BI,SAAU,EAC7DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,MAItEzB,EAAAC,EAAAC,cAAA,SAAOsD,QAAQ,yBAAyBjD,MAAO,CAACiC,WAAY,QAA5D,eACAxC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,uBACLJ,MAAM,SACNxB,GAAG,uBACHpB,QAAS,SAASQ,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,yBAAyBI,SAAWL,SAASC,eAAe,2BAA2BI,SAC/GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC7GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxEzB,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,aAEJxC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,uBACLJ,MAAM,UACNxB,GAAG,wBACHpB,QAAS,SAASQ,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,2BAA2BI,SAC9GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC7GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxEzB,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,cAEJxC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,uBACLJ,MAAM,YACNxB,GAAG,0BACHpB,QAAS,SAASQ,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC7GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxEzB,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,gBAEJxC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,uBACLJ,MAAM,WACNxB,GAAG,yBACHpB,QAAS,SAASQ,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC9GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxEzB,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,eAEJxC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,uBACLJ,MAAM,SACNxB,GAAG,uBACHpB,QAAS,SAASQ,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,0BAA0BI,SAChHL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxEzB,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,aAEJxC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,uBACLJ,MAAM,WACNxB,GAAG,yBACHpB,QAAS,SAASQ,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,0BAA0BI,SAChHL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,wBAAwBI,UACvGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxEzB,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,eAEJxC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,uBACLJ,MAAM,SACNxB,GAAG,uBACHpB,QAAS,SAASQ,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,0BAA0BI,SAChHL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,0BAA0BI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxEzB,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,qBAzKgB7B,aAgL9BgD,yKAEE,IAAMd,EAAUpC,KAAKZ,MAAMgD,QAAQe,IAAI,SAAAC,GAAM,OACzC7D,EAAAC,EAAAC,cAAC4D,EAAD,CAA0BlC,YAAaiC,MAE3C,OACI7D,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACKgB,UAPkBlC,aAa7BoD,yKAEE,OACI/D,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC+B,QAAQ,eAAgBmB,MAAM,UACvCzD,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAK,sBACL5B,GAAI,gBAAkBrB,KAAKZ,MAAM+B,YAAYoC,QAAQ,MAAM,MAE/DhE,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACiC,WAAY,QAA3B,IAAqC/B,KAAKZ,MAAM+B,YAAhD,aATuBjB,aAcxBK,IC/Vf,SAASiD,EAAWhB,GAChB,IAAIiB,EAAWhB,OAAOD,EAAKvB,UAAU,EAAE,IACnCyC,EAAWD,GAAY,GAAK,KAAO,KAEnCE,GADJF,EAAYA,EAAW,IAAO,IACH,IAAMjB,EAAKvB,UAAU,EAAE,GAAK,IAAMyC,EAK7D,OAHyB,IAArBC,EAAUzC,SACVyC,EAAY,IAAMA,GAEdA,EAGZ,SAASC,EAAWpB,GAChB,IAAIiB,EAAWhB,OAAOD,EAAKvB,UAAU,EAAE,IACX,OAAxBuB,EAAKvB,UAAU,EAAE,IAA4B,KAAbwC,IAChCA,GAAsB,IAEE,OAAxBjB,EAAKvB,UAAU,EAAE,IAA4B,KAAbwC,IAChCA,EAAW,MAEf,IAAIE,EAAYF,EAAW,IAAMjB,EAAKvB,UAAU,EAAE,GAAK,MAIvD,OAHyB,IAArB0C,EAAUzC,SACVyC,EAAY,IAAMA,GAEfA,EAGX,SAASE,EAAqBC,EAAMC,GAChC,IAAIjD,EAAc,GACdgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,YAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,aAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,eAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,cAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,YAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,cAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,YAMhC,MAAO,CACHmD,QAASxB,OAAOsB,GAChBG,SAAUJ,EAAKzC,GACfO,YAAakC,EAAKK,MAAMlD,UAAU6C,EAAKK,MAAMjD,OAAO,EAAG4C,EAAKK,MAAMjD,QAClEc,UAAW8B,EAAKM,IAAInD,UAAU6C,EAAKM,IAAIlD,OAAO,EAAG4C,EAAKM,IAAIlD,QAC1DK,WAAYuC,EAAKO,MAAMpD,UAAU,EAAG6C,EAAKO,MAAMnD,OAAO,IACtDJ,YAAaA,EAAYG,UAAU,EAAEH,EAAYI,OAAO,GACxDoD,eAAgBR,EAAKS,WACrBpD,YAVY,CAAC,UAAW,SAAU,UAAW,YAAa,OAUrC2C,EAAKS,WAAa,IAI/C,SAASC,EAAwBV,EAAMC,GACnC,IAAIjD,EAAc,GACdgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,YAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,aAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,eAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,cAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,YAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,cAE5BgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QACpDD,GAA4B,YAKhC,GAAuB,kBAAZgD,EAAKzC,GACZ,IAAIoD,EAAIX,EAAKzC,GAAGqD,QAAQ,KACpBR,EAAWzB,OAAOqB,EAAKzC,GAAGJ,UAAU,EAAEwD,SAE1CP,EAAWJ,EAAKzC,GAEpB,MAAO,CACH4C,QAASxB,OAAOsB,GAChBG,SAAUA,EACVtC,YAAakC,EAAKK,MAAMlD,UAAU6C,EAAKK,MAAMjD,OAAO,EAAG4C,EAAKK,MAAMjD,QAClEc,UAAW8B,EAAKM,IAAInD,UAAU6C,EAAKM,IAAIlD,OAAO,EAAG4C,EAAKM,IAAIlD,QAC1DK,WAAYuC,EAAKO,MAAMpD,UAAU,EAAG6C,EAAKO,MAAMnD,OAAO,IACtDJ,YAAaA,EAAYG,UAAU,EAAEH,EAAYI,OAAO,GACxDoD,eAAgBR,EAAKS,WACrBpD,YAhBY,CAAC,UAAW,SAAU,UAAW,YAAa,OAgBrC2C,EAAKS,WAAa,GACvClD,GAAIyC,EAAKa,aAIjB,SAASC,EAAiBpD,GACtB,IAAIgB,EAAO7B,SAASC,eAAeY,EAAO,QAAQqB,MAUlD,MATqD,OAAjDlC,SAASC,eAAeY,EAAO,QAAQqB,MACc,OAAjDlC,SAASC,eAAeY,EAAO,QAAQqB,QACvCL,GAAQC,OAAO9B,SAASC,eAAeY,EAAO,QAAQqB,OAAS,IAAIF,YAGlB,OAAjDhC,SAASC,eAAeY,EAAO,QAAQqB,QACvCL,EAAO,MAGRA,EAGX,SAASqC,IACL,IAAIC,EAAQ,IAAIC,KACZC,EAAa,IAAID,KACjBE,EAAc,IAAIF,KAClBG,EAAgB,IAAIH,KACpBI,EAAe,IAAIJ,KACnBK,EAAa,IAAIL,KACjBM,EAAe,IAAIN,KACnBO,EAAa,IAAIP,KA6BrB,OA3BuB,IAAnBD,EAAMS,UAENP,EAAWQ,QAAQV,EAAMW,UAAY,GACrCR,EAAYO,QAAQV,EAAMW,UAAY,GACtCP,EAAcM,QAAQV,EAAMW,UAAY,GACxCN,EAAaK,QAAQV,EAAMW,UAAY,GACvCL,EAAWI,QAAQV,EAAMW,UAAY,GACrCJ,EAAaG,QAAQV,EAAMW,UAAY,GACvCH,EAAWE,QAAQV,EAAMW,aAEzBT,EAAWQ,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAChDN,EAAYO,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WACjDL,EAAcM,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WACnDJ,EAAaK,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAClDH,EAAWI,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAChDF,EAAaG,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAClDD,EAAWE,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,YAW7C,CARPP,EAAaA,EAAWU,cAAgB,KAAyD,KAAjDV,EAAWW,WAAa,GAAGhD,WAAWzB,OAAe,KAAO8D,EAAWW,WAAa,GAAGhD,WAAcqC,EAAWW,WAAa,GAAM,KAAkD,IAA3CX,EAAWS,UAAU9C,WAAWzB,OAAe,IAAM8D,EAAWS,UAAU9C,WAAaqC,EAAWS,WAC5RR,EAAcA,EAAYS,cAAgB,KAA0D,KAAlDT,EAAYU,WAAa,GAAGhD,WAAWzB,OAAe,KAAO+D,EAAYU,WAAa,GAAGhD,WAAcsC,EAAYU,WAAa,GAAM,KAAmD,IAA5CV,EAAYQ,UAAU9C,WAAWzB,OAAe,IAAM+D,EAAYQ,UAAU9C,WAAasC,EAAYQ,WACpSP,EAAgBA,EAAcQ,cAAgB,KAA4D,KAApDR,EAAcS,WAAa,GAAGhD,WAAWzB,OAAe,KAAOgE,EAAcS,WAAa,GAAGhD,WAAcuC,EAAcS,WAAa,GAAM,KAAqD,IAA9CT,EAAcO,UAAU9C,WAAWzB,OAAe,IAAMgE,EAAcO,UAAU9C,WAAauC,EAAcO,WACpTN,EAAeA,EAAaO,cAAgB,KAA2D,KAAnDP,EAAaQ,WAAa,GAAGhD,WAAWzB,OAAe,KAAOiE,EAAaQ,WAAa,GAAGhD,WAAcwC,EAAaQ,WAAa,GAAO,KAAoD,IAA7CR,EAAaM,UAAU9C,WAAWzB,OAAe,IAAMiE,EAAaM,UAAU9C,WAAawC,EAAaM,WAC7SL,EAAaA,EAAWM,cAAgB,KAAyD,KAAjDN,EAAWO,WAAa,GAAGhD,WAAWzB,OAAe,KAAOkE,EAAWO,WAAa,GAAGhD,WAAcyC,EAAWO,WAAa,GAAM,KAAkD,IAA3CP,EAAWK,UAAU9C,WAAWzB,OAAe,IAAMkE,EAAWK,UAAU9C,WAAayC,EAAWK,WAC5RJ,EAAeA,EAAaK,cAAgB,KAA2D,KAAnDL,EAAaM,WAAa,GAAGhD,WAAWzB,OAAe,KAAOmE,EAAaM,WAAa,GAAGhD,WAAc0C,EAAaM,WAAa,GAAM,KAAoD,IAA7CN,EAAaI,UAAU9C,WAAWzB,OAAe,IAAMmE,EAAaI,UAAU9C,WAAa0C,EAAaI,WAC5SH,EAAaA,EAAWI,cAAgB,KAAyD,KAAjDJ,EAAWK,WAAa,GAAGhD,WAAWzB,OAAe,KAAOoE,EAAWK,WAAa,GAAGhD,WAAc2C,EAAWK,WAAa,GAAM,KAAkD,IAA3CL,EAAWG,UAAU9C,WAAWzB,OAAe,IAAMoE,EAAWG,UAAU9C,WAAa2C,EAAWG,gBAsjEjRG,sDAhjEX,SAAAC,EAAYzG,GAAO,IAAAD,EAAA2G,OAAAC,EAAA,EAAAD,CAAA9F,KAAA6F,IACf1G,EAAA6G,EAAAC,KAAAjG,KAAMZ,IAsDV8G,6BAA+B,WAC3BC,MAAM,mEACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFpH,EAAKqH,SAAS,CAACC,mBAAoBF,MAGvCG,WAAWvH,EAAK+G,6BAA8B,MA9D/B/G,EAiEnBwH,8BAAgC,WAC5BR,MAAM,oEACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFpH,EAAKqH,SAAS,CAACI,0BAA2BL,MAG9CG,WAAWvH,EAAKwH,8BAA+B,MAxEhCxH,EA2EnB0H,wBAA0B,WACtBV,MAAM,8DACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFpH,EAAKqH,SAAS,CAACM,oBAAqBP,MAGxCG,WAAWvH,EAAK0H,wBAAyB,MAlF1B1H,EAqFnB4H,wBAA0B,SAACC,GACvBb,MAAM,kEAAoEa,EAAQ3F,GAAGsB,WAAa,IAAK,CACnGsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWpI,EAAKF,MAAMwH,mBAAmBtD,IAAI,SAAAW,GAC/C,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGf3E,EAAKqH,SAAS,CAACC,mBAAoBc,OArGxBpI,EAyGnBsI,8BAAgC,SAACT,GAC7Bb,MAAM,mEAAqEa,EAAQ3F,GAAGsB,WAAa,IAAK,CACpGsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWpI,EAAKF,MAAM2H,0BAA0BzD,IAAI,SAAAW,GACtD,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGf3E,EAAKqH,SAAS,CAACI,0BAA2BW,OAzH/BpI,EA6HnBuI,wBAA0B,SAACV,GACvBb,MAAM,6DAA+Da,EAAQ3F,GAAGsB,WAAa,IAAK,CAC9FsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWpI,EAAKF,MAAM6H,oBAAoB3D,IAAI,SAAAW,GAChD,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGf3E,EAAKqH,SAAS,CAACM,oBAAqBS,OA7IzBpI,EAiJnBwI,yBAA2B,SAAC7D,GACxBA,EAAKzC,GAAKlC,EAAKC,MAAM2E,gBACrB5E,EAAK4H,wBAAwBjD,IAnJd3E,EAsJnByI,+BAAiC,SAAC9D,GAC9BA,EAAKzC,GAAKlC,EAAKC,MAAM2E,gBACrB5E,EAAKsI,8BAA8B3D,IAxJpB3E,EA2JnB0I,yBAA2B,SAAC/D,GACxBA,EAAKzC,GAAKlC,EAAKC,MAAM6E,QACrB9E,EAAKuI,wBAAwB5D,IA7Jd3E,EAgKnB2I,6BAA+B,WAC3B3I,EAAKwI,yBAAyBxI,EAAKF,MAAMwH,mBAAmB,KAjK7CtH,EAoKnB4I,mCAAqC,WACjC5I,EAAKyI,+BAA+BzI,EAAKF,MAAM2H,0BAA0B,KArK1DzH,EAwKnB6I,6BAA+B,WAC3B7I,EAAK0I,yBAAyB1I,EAAKF,MAAM6H,oBAAoB,KAzK9C3H,EA4KnB8I,iBAAmB,SAACC,EAAevG,GAC/B,OAAO,GA7KQxC,EAgLnBgJ,uBAAyB,SAACD,EAAeE,EAAaC,GAClD,IAAI1G,EAAOxC,EAAKC,MAAMkJ,KAAO,YAC7B,OAAOC,IAAO5G,IAlLCxC,EAqLnBqJ,aAAe,SAACN,EAAeO,GAC3B,IAAIC,EAAWR,EAAcS,YAAYF,EAAMlE,YAAYtB,KAkX1D2F,IAASC,OACNtJ,EAAAC,EAAAC,cAACqJ,EAAD,CACI3H,YAAa,kBAAoBuH,EACjC5H,YAAa2H,EAAMzE,MACnBpC,YAAa6G,EAAMtE,MACnBnC,UAAWyG,EAAMrE,IACjB7C,WAAYkH,EAAMpE,MAClBhC,gBAtWR,WAEI,IAAI0G,GAAc,EACdC,EAAmB,GACnBC,EAAkBtI,SAASuI,iBAAiB,6CAChDC,QAAQC,IAAIH,GACZ,IAAII,EAAgB1I,SAASuI,iBAAiB,8CAC9CC,QAAQC,IAAIC,GACZ,IARuBC,EAQnBC,EAAwB,GARLC,EAAA1D,OAAA2D,EAAA,EAAA3D,CASAuD,GATA,IASvB,IAAAG,EAAAE,MAAAJ,EAAAE,EAAA/E,KAAAkF,MAAsC,KAA7BC,EAA6BN,EAAAzG,MAC9B+G,IAAejJ,SAASC,eAAe,yBACvC2I,EAAsBM,KAAKhF,IAAW,IAEtC+E,IAAejJ,SAASC,eAAe,0BACvC2I,EAAsBM,KAAKhF,IAAW,IAEtC+E,IAAejJ,SAASC,eAAe,4BACvC2I,EAAsBM,KAAKhF,IAAW,IAEtC+E,IAAejJ,SAASC,eAAe,2BACvC2I,EAAsBM,KAAKhF,IAAW,IAEtC+E,IAAejJ,SAASC,eAAe,yBACvC2I,EAAsBM,KAAKhF,IAAW,IAEtC+E,IAAejJ,SAASC,eAAe,2BACvC2I,EAAsBM,KAAKhF,IAAW,IAEtC+E,IAAejJ,SAASC,eAAe,yBACvC2I,EAAsBM,KAAKhF,IAAW,KA7BvB,MAAAiF,GAAAN,EAAA/I,EAAAqJ,GAAA,QAAAN,EAAAO,IAgCvBZ,QAAQC,IAAIG,GASZ,IAPA,IAAIS,EAAYpG,EAAWjD,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,eAAeiC,MAAQ,IAAMlC,SAASC,eAAe,aAAaiC,OACpKoH,EAAUrG,EAAWjD,SAASC,eAAe,WAAWiC,MAAQ,IAAMlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,WAAWiC,OAE5JqH,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GAC5BC,EAAA,EAAAC,EAAoBhB,EAApBe,EAAAC,EAAArJ,OAAAoJ,IAA2C,CAAtC,IAAIE,EAAOD,EAAAD,GACZJ,EAAqBM,EAAU,IAAMR,EACrCG,EAAmBK,EAAU,IAAMP,EACnCd,QAAQC,IAAIc,GACZf,QAAQC,IAAIe,GAJ2B,IAAAM,EAAAC,EAAA5E,OAAA2D,EAAA,EAAA3D,CAKlBmD,GALkB,IAKvC,IAAAyB,EAAAhB,MAAAe,EAAAC,EAAAjG,KAAAkF,MAAsC,KAA7BgB,EAA6BF,EAAA5H,MAClCqF,EAAc0C,OAAOC,QAAQ,SAASpK,GAClC0I,QAAQC,IAAI3I,GACZ,IAAIqK,EAAsB,EAgB1B,GAfIH,EAAStJ,GAAG0J,SAAS,aACrBD,EAAsB,GAEtBH,EAAStJ,GAAG0J,SAAS,YACrBD,EAAsB,GAEtBH,EAAStJ,GAAG0J,SAAS,aACrBD,EAAsB,GAEtBH,EAAStJ,GAAG0J,SAAS,cACrBD,EAAsB,GAEtBH,EAAStJ,GAAG0J,SAAS,SACrBD,EAAsB,GAEtBrK,EAAE8D,aAAeuG,EAAqB,CACtC3B,QAAQC,IAAI,YACZ,IAAI4B,EAA6B,GAC7BvK,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CiK,EAA2BnB,KAAKhF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CiK,EAA2BnB,KAAKhF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CiK,EAA2BnB,KAAKhF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CiK,EAA2BnB,KAAKhF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CiK,EAA2BnB,KAAKhF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CiK,EAA2BnB,KAAKhF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CiK,EAA2BnB,KAAKhF,IAAW,IAE/CsE,QAAQC,IAAI4B,GAEZ,QAAAC,EAAA,EAAAC,EAAyBF,EAAzBC,EAAAC,EAAAhK,OAAA+J,IAAqD,CAAhD,IAAIE,EAAYD,EAAAD,GACjBb,EAA0Be,EAAe1K,EAAE0D,MAAMlD,UAAU,GAAG,IAC9DoJ,EAAwBc,EAAe1K,EAAE2D,IAAInD,UAAU,GAAG,KACpDiJ,GAAsBE,GACtBF,EAAqBG,GACrBF,EAAmBC,GACnBD,GAAoBE,GACpBD,GAA2BF,GAC3BE,EAA0BD,GAC1BE,EAAwBH,GACxBG,GAAyBF,IACzB1J,EAAEY,KAAOoH,EAAMpH,KACb0H,GAAc,EACTC,EAAiB+B,SAAStK,IAC3BuI,EAAiBa,KAAKpJ,SAhEX,MAAAqJ,GAAAY,EAAAjK,EAAAqJ,GAAA,QAAAY,EAAAX,KA2E3C,GAHAZ,QAAQC,IAAIJ,GAGRD,EAAa,CACb,IADaqC,EACTlM,EAAU,8CACVmM,EAAM,GAFGC,EAAAxF,OAAA2D,EAAA,EAAA3D,CAGMkD,GAHN,IAGb,IAAAsC,EAAA5B,MAAA0B,EAAAE,EAAA7G,KAAAkF,MAAqC,KAA5BiB,EAA4BQ,EAAAvI,MAC7B+H,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,GAAY,WAEZT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,GAAY,YAEZT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,GAAY,cAEZT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,GAAY,aAEZT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,GAAY,WAEZT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,GAAY,aAEZT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,GAAY,WAEhB,IAAIE,EAA8BrD,EAAcS,YAAYiC,EAAOrG,YAAYtB,KAC/E/D,GAAO,OAAAsM,OAAWZ,EAAOvG,MAAlB,SAAAmH,OAA+BD,EAA/B,QAAAC,OAAiEH,EAAIpK,UAAU,EAAEoK,EAAInK,OAAO,KA1B1F,MAAA4I,GAAAwB,EAAA7K,EAAAqJ,GAAA,QAAAwB,EAAAvB,IA4Bb0B,MAAMvM,OACH,CAEHuJ,EAAMpE,MAAQ1D,SAASC,eAAe,uBAAuBiC,MAAQ,KACvDlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,eAAeiC,MAAQ,IAClGlC,SAASC,eAAe,aAAaiC,MAAQ,MAAQlC,SAASC,eAAe,WAAWiC,MAAQ,IAChGlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,WAAWiC,MAAQ,IAG5GqF,EAAcwD,iBAAiBjD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAeiC,MAAQ,OAG1JqF,EAAc2D,eAAepD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAaiC,MAAQ,OAGpJ,IAAI/B,EAAc,uBAAyB6K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GACtE0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,IAAM,kBACnD0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElDyH,EAAMzE,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC2H,EAAMzE,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7DP,SAASC,eAAe,gBAAkB8H,EAASnF,QAAQ,MAAO,KAAKvC,SAAU,EACjF,IAAI8K,EAAa,EAMjB,GALA5D,EAAc0C,OAAOC,QAAQ,SAAAkB,IACrBA,EAAKpH,aAAemH,GAAcC,EAAK1K,IAAMyK,KAC7CA,EAAaC,EAAKpH,eAGtBhE,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAKnByD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAIfyD,OAAOC,SAASxM,MAAMkN,cAAc9H,EAAwBiE,EAAOkD,OAAOC,SAASxM,MAAM2E,kBACzF4H,OAAOC,SAASxM,MAAMmN,cAGtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,6BAIkB,IAAtE+K,OAAOC,SAAS3M,MAAM2H,0BAA0B,GAAG6F,iBACnDd,OAAOC,SAASpF,SAAS,CACrBI,0BAA2B,CAACd,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEjB6F,OAAOC,SAAS3M,MAAM2H,0BAA0B,IAFhC,IAGnB6F,eAAgB,OAGzB,WAAYd,OAAOC,SAAS7D,uCAEoC,IAA/D4D,OAAOC,SAAS3M,MAAMwH,mBAAmB,GAAGkG,gBAC5ChB,OAAOC,SAASpF,SAAS,CACrBC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEV6F,OAAOC,SAAS3M,MAAMwH,mBAAmB,IAFhC,IAGZkG,eAAgB,OAGzB,WAAYhB,OAAOC,SAAS9D,iCAC/B6D,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,iCAC/B2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,KAEzEnB,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,kCAKvCtB,WAAW,WAAY/F,SAASC,eAAe+K,OAAOC,SAASxM,MAAMiM,IAAM,YAAY0B,SAAU,MAYjGlM,mBAxXR,WACI+H,IAAS4D,uBAAuB7L,SAASC,eAAe,8BAwXpD0B,oBArXR,WAEIqJ,OAAOC,SAASxM,MAAM4N,cAAcvE,EAAM9D,aAC1CgH,OAAOC,SAASxM,MAAMmN,cAGtBrE,EAAc+E,YAAYxE,GAC1BkD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAEfU,IAAS4D,uBAAuB7L,SAASC,eAAe,gCA4WpDD,SAASC,eAAe,8BAljBjBzB,EAsjBnB6M,SAAW,SAAC9D,EAAegF,EAAQxE,EAAUvE,EAAOC,EAAK5C,EAAMuK,GAC3D,IAAID,EAAa,EACjB5D,EAAc0C,OAAOC,QAAQ,SAAAkB,IACrBA,EAAKpH,aAAemH,GAAcC,EAAK1K,IAAMyK,KAAYA,EAAaC,EAAKpH,YAAc,KAGjG,IAAIqH,EAAW,CACX3K,GAAIyK,EACJzH,MAAO,cAAgBkE,IAAOpE,GAAOgJ,OAAO,WAAa,MAAQ5E,IAAOnE,GAAK+I,OAAO,WAAa,IACjGhJ,MAAOA,EACPC,IAAKA,EACLG,WAAY2I,EACZjB,QAAS,UACTC,aAAa,EACblI,MAAO,uBAAyB7E,EAAKC,MAAM4F,WAAW/D,UAAU,EAAE,GAAK9B,EAAKC,MAAM4F,WAAW/D,UAAU,EAAE,GAAK9B,EAAKC,MAAM4F,WAAW/D,UAAU,EAAE,IAAM,kBAAoB9B,EAAKC,MAAMkG,WAAWrE,UAAU,EAAE,GAAK9B,EAAKC,MAAMkG,WAAWrE,UAAU,EAAE,GAAK9B,EAAKC,MAAMkG,WAAWrE,UAAU,EAAE,IAAM,kBAAoB9B,EAAKC,MAAMiM,IAAIpK,UAAU,EAAE,GAAGmM,eAGtVlF,EAAckE,SAASJ,GACvB7M,EAAKqH,SAAS,CACV6F,UAAWnE,IA4VfU,IAASC,OACLtJ,EAAAC,EAAAC,cAACqJ,EAAD,CACI3H,YAAa,iBAAmBuH,EAChC5H,YAAakL,EAAShI,MACtBpC,YAAaoK,EAAS7H,MACtBnC,UAAWgK,EAAS5H,IACpB7C,WAAYyK,EAAS3H,MACrBhC,gBAjVR,WAEI,IAFuBgL,EAEnBtE,GAAc,EACdC,EAAmB,GACnBC,EAAkBtI,SAASuI,iBAAiB,6CAC5CG,EAAgB1I,SAASuI,iBAAiB,8CAC1CK,EAAwB,GANL+D,EAAAxH,OAAA2D,EAAA,EAAA3D,CAOAuD,GAPA,IAOvB,IAAAiE,EAAA5D,MAAA2D,EAAAC,EAAA7I,KAAAkF,MAAsC,KAA7BC,EAA6ByD,EAAAxK,MACT,WAArB+G,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,YAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,cAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,KA3BvB,MAAAiF,GAAAwD,EAAA7M,EAAAqJ,GAAA,QAAAwD,EAAAvD,IAqGvB,GAtEA7B,EAAc0C,OAAOC,QAAQ,SAASpK,GAClC,IAAI8M,EAAS9M,EAAE0D,MACXqJ,EAAO/M,EAAE2D,IACTqJ,EAAShN,EAAEuD,MACXgH,EAA6B,GAC7ByC,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAG/C,IA3BqC6I,EA2BjCxD,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GA9BSsD,EAAA7H,OAAA2D,EAAA,EAAA3D,CA+BjByD,GA/BiB,IA+BrC,IAAAoE,EAAAjE,MAAAgE,EAAAC,EAAAlJ,KAAAkF,MAA2C,KAAlCa,EAAkCkD,EAAA7K,MAGvC,GAFAqH,EAAqBM,EAAUwB,EAAS7H,MAAMlD,UAAU,GAAG,IAC3DkJ,EAAmBK,EAAUwB,EAAS5H,IAAInD,UAAU,GAAG,IACnDR,EAAE8D,aAAeyH,EAASzH,WAAY,KAAAqJ,EAAAC,EAAA/H,OAAA2D,EAAA,EAAA3D,CACbkF,GADa,IACtC,IAAA6C,EAAAnE,MAAAkE,EAAAC,EAAApJ,KAAAkF,MAGI,GAFAS,GADKe,EAA4CyC,EAAA/K,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAO2K,EAAS3K,GAAK,CACtB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,OAX0B,MAAAqJ,GAAA+D,EAAApN,EAAAqJ,GAAA,QAAA+D,EAAA9D,KAHH,IAAA+D,EAAAC,EAAAjI,OAAA2D,EAAA,EAAA3D,CAkBlBmD,GAlBkB,IAkBvC,IAAA8E,EAAArE,MAAAoE,EAAAC,EAAAtJ,KAAAkF,MAAsC,KAA7BgB,EAA6BmD,EAAAjL,MAClC,GAAIpC,EAAEuN,YAAcrD,EAAS9H,MAAO,KAAAoL,EAAAC,EAAApI,OAAA2D,EAAA,EAAA3D,CACPkF,GADO,IAChC,IAAAkD,EAAAxE,MAAAuE,EAAAC,EAAAzJ,KAAAkF,MAAqD,KAA5CwB,EAGL,GAFAf,GADKe,EAA4C8C,EAAApL,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAO2K,EAAS3K,GAAK,CACtB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,QAXoB,MAAAqJ,GAAAoE,EAAAzN,EAAAqJ,GAAA,QAAAoE,EAAAnE,OAnBD,MAAAD,GAAAiE,EAAAtN,EAAAqJ,GAAA,QAAAiE,EAAAhE,MA/BN,MAAAD,GAAA6D,EAAAlN,EAAAqJ,GAAA,QAAA6D,EAAA5D,OAsErChB,EAAa,CACb,IADaoF,EACTjP,EAAU,8CACVmM,EAAM,GAFG+C,EAAAtI,OAAA2D,EAAA,EAAA3D,CAGMkD,GAHN,IAGb,IAAAoF,EAAA1E,MAAAyE,EAAAC,EAAA3J,KAAAkF,MAAqC,KAA5BiB,EAA4BuD,EAAAtL,MAC7B+H,EAAO5G,MAAM/C,UAAU,GAAG2J,EAAO5G,MAAM9C,QAAQH,SAAS,QACxDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAG2J,EAAO5G,MAAM9C,QAAQH,SAAS,QACxDsK,EAAM,YAENT,EAAO5G,MAAM/C,UAAU,GAAG2J,EAAO5G,MAAM9C,QAAQH,SAAS,QACxDsK,EAAM,cAENT,EAAO5G,MAAM/C,UAAU,GAAG2J,EAAO5G,MAAM9C,QAAQH,SAAS,QACxDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAG2J,EAAO5G,MAAM9C,QAAQH,SAAS,QACxDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAG2J,EAAO5G,MAAM9C,QAAQH,SAAS,QACxDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAG2J,EAAO5G,MAAM9C,QAAQH,SAAS,QACxDsK,EAAM,WAEV,IAAIE,EAA8BrD,EAAcS,YAAYiC,EAAOrG,YAAYtB,KAC/E/D,GAAO,OAAAsM,OAAWZ,EAAOvG,MAAlB,SAAAmH,OAA+BD,EAA/B,QAAAC,OAAiEH,EAAIpK,UAAU,EAAEoK,EAAInK,OAAO,KA1B1F,MAAA4I,GAAAsE,EAAA3N,EAAAqJ,GAAA,QAAAsE,EAAArE,IA4Bb0B,MAAMvM,OACH,CAEH8M,EAAS3H,MAAQ1D,SAASC,eAAe,uBAAuBiC,MAAQ,KACvDlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,eAAeiC,MAAQ,IAClGlC,SAASC,eAAe,aAAaiC,MAAQ,MAAQlC,SAASC,eAAe,WAAWiC,MAAQ,IAChGlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,WAAWiC,MAAQ,IAG/GqF,EAAcwD,iBAAiBM,EAAUL,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAeiC,MAAQ,OAG7JqF,EAAc2D,eAAeG,EAAUL,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAaiC,MAAQ,OAGvJ,IAAI/B,EAAc,uBAAyB6K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GACtE0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,IAAM,kBACnD0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,IAAM,kBAgCrE,GA/BIN,SAASC,eAAe,0BAA0BI,QAElDgL,EAAShI,MAAQlD,EAAc,wBAE3BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhCkL,EAAShI,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAIhEP,SAASC,eAAe,gBAAkB8H,EAASnF,QAAQ,MAAO,KAAKvC,SAAU,EAE7EL,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIqN,EAAkB,CAClBhN,GAFJyK,GAA0B,EAGtBzH,MAAO2H,EAAS3H,MAChBF,MAAO6H,EAAS7H,MAChBC,IAAK4H,EAAS5H,IACdG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOgI,EAAShI,OAEpB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBwK,EAAiB1C,OAAOC,SAASxM,MAAM2E,kBAC7FmE,EAAckE,SAASiC,GACvB1C,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIqN,EAAkB,CAClBhN,GAFJyK,GAA0B,EAGtBzH,MAAO2H,EAAS3H,MAChBF,MAAO6H,EAAS7H,MAChBC,IAAK4H,EAAS5H,IACdG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOgI,EAAShI,OAEpB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBwK,EAAiB1C,OAAOC,SAASxM,MAAM2E,kBAC7FmE,EAAckE,SAASiC,GACvB1C,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAIqN,EAAkB,CAClBhN,GAFJyK,GAA0B,EAGtBzH,MAAO2H,EAAS3H,MAChBF,MAAO6H,EAAS7H,MAChBC,IAAK4H,EAAS5H,IACdG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOgI,EAAShI,OAEpB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBwK,EAAiB1C,OAAOC,SAASxM,MAAM2E,kBAC7FmE,EAAckE,SAASiC,GACvB1C,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAIqN,EAAkB,CAClBhN,GAFJyK,GAA0B,EAGtBzH,MAAO2H,EAAS3H,MAChBF,MAAO6H,EAAS7H,MAChBC,IAAK4H,EAAS5H,IACdG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOgI,EAAShI,OAEpB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBwK,EAAiB1C,OAAOC,SAASxM,MAAM2E,kBAC7FmE,EAAckE,SAASiC,GACvB1C,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAIqN,EAAkB,CAClBhN,GAFJyK,GAA0B,EAGtBzH,MAAO2H,EAAS3H,MAChBF,MAAO6H,EAAS7H,MAChBC,IAAK4H,EAAS5H,IACdG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOgI,EAAShI,OAEpB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBwK,EAAiB1C,OAAOC,SAASxM,MAAM2E,kBAC7FmE,EAAckE,SAASiC,GACvB1C,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAKnByD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAIfyD,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtF4H,OAAOC,SAASxM,MAAMmN,cAEtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,6BAGkB,IAAtE+K,OAAOC,SAAS3M,MAAM2H,0BAA0B,GAAG6F,iBACnDd,OAAOC,SAASpF,SAAS,CACrBI,0BAA2B,CAACd,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEjB6F,OAAOC,SAAS3M,MAAM2H,0BAA0B,IAFhC,IAGnB6F,eAAgB,OAGzB,WAAYd,OAAOC,SAAS7D,uCAGoC,IAA/D4D,OAAOC,SAAS3M,MAAMwH,mBAAmB,GAAGkG,gBAC5ChB,OAAOC,SAASpF,SAAS,CACrBC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEV6F,OAAOC,SAAS3M,MAAMwH,mBAAmB,IAFhC,IAGZkG,eAAgB,OAGzB,WAAYhB,OAAOC,SAAS9D,iCAC/B6D,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,iCAC/B2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,KAEzEnB,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,kCAIvCtB,WAAW,WAAY/F,SAASC,eAAe+K,OAAOC,SAASxM,MAAMiM,IAAM,YAAY0B,SAAU,MAajGlM,mBAjWR,WAEI8K,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtF4H,OAAOC,SAASxM,MAAMmN,cAEtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,8BA6VpD0B,oBA3VR,WACI4F,EAAc+E,YAAYjB,GAC1BL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAEfU,IAAS4D,uBAAuB7L,SAASC,eAAe,gCAuVpDD,SAASC,eAAe,8BA/6BjBzB,EAm7BnBuM,iBAAmB,SAACxD,EAAeO,EAAO6F,GACtB7F,EAAMtE,MACtB+D,EAAcwD,iBAAiBjD,EAAO6F,GACtC7F,EAAMpE,MAAQoE,EAAMpE,MAAMpD,UAAU,EAAGwH,EAAMpE,MAAMnD,OAAS,IAAM,KAAOsC,EAAW+E,IAAO+F,GAAUnB,OAAO,UAAY,MAAQ3J,EAAW+E,IAAOE,EAAMrE,KAAK+I,OAAO,UAAY,IAChLhO,EAAKqH,SAAS,CACV6F,UAAWnE,IAwWf,IAAIQ,EAAWR,EAAcS,YAAYF,EAAMlE,YAAYtB,KAC3D2F,IAASC,OACLtJ,EAAAC,EAAAC,cAACqJ,EAAD,CACI3H,YAAa,kBAAoBuH,EACjC5H,YAAa2H,EAAMzE,MACnBpC,YAAa0M,EACbtM,UAAWyG,EAAMrE,IACjB7C,WAAYkH,EAAMpE,MAClBhC,gBAxVR,WAEI,IAFuBkM,EAEnBxF,GAAc,EACdC,EAAmB,GACnBC,EAAkBtI,SAASuI,iBAAiB,6CAC5CG,EAAgB1I,SAASuI,iBAAiB,8CAC1CK,EAAwB,GANLiF,EAAA1I,OAAA2D,EAAA,EAAA3D,CAOAuD,GAPA,IAOvB,IAAAmF,EAAA9E,MAAA6E,EAAAC,EAAA/J,KAAAkF,MAAsC,KAA7BC,EAA6B2E,EAAA1L,MACT,WAArB+G,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,YAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,cAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,KA3BvB,MAAAiF,GAAA0E,EAAA/N,EAAAqJ,GAAA,QAAA0E,EAAAzE,IAqGvB,GAtEA7B,EAAc0C,OAAOC,QAAQ,SAASpK,GAClC,IAAI8M,EAAS9M,EAAE0D,MACXqJ,EAAO/M,EAAE2D,IACTqJ,EAAShN,EAAEuD,MACXgH,EAA6B,GAC7ByC,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAG/C,IA3BqC4J,EA2BjCvE,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GA9BSqE,EAAA5I,OAAA2D,EAAA,EAAA3D,CA+BjByD,GA/BiB,IA+BrC,IAAAmF,EAAAhF,MAAA+E,EAAAC,EAAAjK,KAAAkF,MAA2C,KAAlCa,EAAkCiE,EAAA5L,MAGvC,GAFAqH,EAAqBM,EAAU/B,EAAMtE,MAAMlD,UAAU,GAAG,IACxDkJ,EAAmBK,EAAU/B,EAAMrE,IAAInD,UAAU,GAAG,IAChDR,EAAE8D,aAAekE,EAAMlE,WAAY,KAAAoK,EAAAC,EAAA9I,OAAA2D,EAAA,EAAA3D,CACVkF,GADU,IACnC,IAAA4D,EAAAlF,MAAAiF,EAAAC,EAAAnK,KAAAkF,MAGI,GAFAS,GADKe,EAA4CwD,EAAA9L,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAOoH,EAAMpH,GAAK,CACnB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,OAXuB,MAAAqJ,GAAA8E,EAAAnO,EAAAqJ,GAAA,QAAA8E,EAAA7E,KAHA,IAAA8E,EAAAC,EAAAhJ,OAAA2D,EAAA,EAAA3D,CAkBlBmD,GAlBkB,IAkBvC,IAAA6F,EAAApF,MAAAmF,EAAAC,EAAArK,KAAAkF,MAAsC,KAA7BgB,EAA6BkE,EAAAhM,MAClC,GAAIpC,EAAEuN,YAAcrD,EAAS9H,MAAO,KAAAkM,EAAAC,EAAAlJ,OAAA2D,EAAA,EAAA3D,CACPkF,GADO,IAChC,IAAAgE,EAAAtF,MAAAqF,EAAAC,EAAAvK,KAAAkF,MAAqD,KAA5CwB,EAGL,GAFAf,GADKe,EAA4C4D,EAAAlM,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAOoH,EAAMpH,GAAK,CACnB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,QAXoB,MAAAqJ,GAAAkF,EAAAvO,EAAAqJ,GAAA,QAAAkF,EAAAjF,OAnBD,MAAAD,GAAAgF,EAAArO,EAAAqJ,GAAA,QAAAgF,EAAA/E,MA/BN,MAAAD,GAAA4E,EAAAjO,EAAAqJ,GAAA,QAAA4E,EAAA3E,OAsErChB,EAAa,CACb,IADakG,EACT/P,EAAU,8CACVmM,EAAM,GAFG6D,EAAApJ,OAAA2D,EAAA,EAAA3D,CAGMkD,GAHN,IAGb,IAAAkG,EAAAxF,MAAAuF,EAAAC,EAAAzK,KAAAkF,MAAqC,KAA5BiB,EAA4BqE,EAAApM,MAC7B+H,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,YAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,cAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAEV,IAAIE,EAA8BrD,EAAcS,YAAYiC,EAAOrG,YAAYtB,KAC/E/D,GAAO,OAAAsM,OAAWZ,EAAOvG,MAAlB,SAAAmH,OAA+BD,EAA/B,QAAAC,OAAiEH,EAAIpK,UAAU,EAAEoK,EAAInK,OAAO,KA1B1F,MAAA4I,GAAAoF,EAAAzO,EAAAqJ,GAAA,QAAAoF,EAAAnF,IA4Bb0B,MAAMvM,OACH,CAEHuJ,EAAMpE,MAAQ1D,SAASC,eAAe,uBAAuBiC,MAAQ,KACvDlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,eAAeiC,MAAQ,IAClGlC,SAASC,eAAe,aAAaiC,MAAQ,MAAQlC,SAASC,eAAe,WAAWiC,MAAQ,IAChGlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,WAAWiC,MAAQ,IAG5GqF,EAAcwD,iBAAiBjD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAeiC,MAAQ,OAG1JqF,EAAc2D,eAAepD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAaiC,MAAQ,OAGpJ,IAAI/B,EAAc,uBAAyB6K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GACtE0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,IAAM,kBACnD0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElDyH,EAAMzE,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC2H,EAAMzE,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7DP,SAASC,eAAe,gBAAkB8H,EAASnF,QAAQ,MAAO,KAAKvC,SAAU,EACjF,IAAI8K,EAAa,EAOjB,GANA5D,EAAc0C,OAAOC,QAAQ,SAAAkB,IACrBA,EAAKpH,aAAemH,GAAcC,EAAK1K,IAAMyK,KAC7CA,EAAaC,EAAKpH,eAItBhE,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAKnByD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAIfyD,OAAOC,SAASxM,MAAMkN,cAAc9H,EAAwBiE,EAAOkD,OAAOC,SAASxM,MAAM2E,kBACzF4H,OAAOC,SAASxM,MAAMmN,cAEtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,6BAKkB,IAAtE+K,OAAOC,SAAS3M,MAAM2H,0BAA0B,GAAG6F,iBACnDd,OAAOC,SAASpF,SAAS,CACrBI,0BAA2B,CAACd,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEjB6F,OAAOC,SAAS3M,MAAM2H,0BAA0B,IAFhC,IAGnB6F,eAAgB,OAGzB,WAAYd,OAAOC,SAAS7D,uCAEoC,IAA/D4D,OAAOC,SAAS3M,MAAMwH,mBAAmB,GAAGkG,gBAC5ChB,OAAOC,SAASpF,SAAS,CACrBC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEV6F,OAAOC,SAAS3M,MAAMwH,mBAAmB,IAFhC,IAGZkG,eAAgB,OAGzB,WAAYhB,OAAOC,SAAS9D,iCAC/B6D,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,iCAC/B2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,KAEzEnB,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,kCAIvCtB,WAAW,WAAY/F,SAASC,eAAe+K,OAAOC,SAASxM,MAAMiM,IAAM,YAAY0B,SAAU,MAajGlM,mBA9WR,WAEI8K,OAAOC,SAASxM,MAAMkN,cAAc9H,EAAwBiE,EAAOkD,OAAOC,SAASxM,MAAM2E,kBACzF4H,OAAOC,SAASxM,MAAMmN,cAEtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,8BA0WpD0B,oBAxWR,WAEI4F,EAAc+E,YAAYxE,GAC1BkD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAIfyD,OAAOC,SAASxM,MAAM4N,cAAcvE,EAAM9D,aAC1CgH,OAAOC,SAASxM,MAAMmN,cAEtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,gCA8VpDD,SAASC,eAAe,8BA3yCjBzB,EA+yCnB0M,eAAiB,SAAC3D,EAAeO,EAAO0G,GACtB1G,EAAMrE,IACpB8D,EAAc2D,eAAepD,EAAO0G,GACpC1G,EAAMpE,MAAQoE,EAAMpE,MAAMpD,UAAU,EAAGwH,EAAMpE,MAAMnD,OAAS,IAAM,KAAOsC,EAAW+E,IAAOE,EAAMtE,OAAOgJ,OAAO,UAAY,MAAQ3J,EAAW+E,IAAO4G,GAAQhC,OAAO,UAAY,IAChLhO,EAAKqH,SAAS,CACV6F,UAAWnE,IAqWf,IAAIQ,EAAWR,EAAcS,YAAYF,EAAMlE,YAAYtB,KAC3D2F,IAASC,OACLtJ,EAAAC,EAAAC,cAACqJ,EAAD,CACI3H,YAAa,kBAAoBuH,EACjC5H,YAAa2H,EAAMzE,MACnBpC,YAAa6G,EAAMtE,MACnBnC,UAAWmN,EACX5N,WAAYkH,EAAMpE,MAClBhC,gBAtVR,WAEI,IAFuB+M,EAEnBrG,GAAc,EACdC,EAAmB,GACnBC,EAAkBtI,SAASuI,iBAAiB,6CAC5CG,EAAgB1I,SAASuI,iBAAiB,8CAC1CK,EAAwB,GANL8F,EAAAvJ,OAAA2D,EAAA,EAAA3D,CAOAuD,GAPA,IAOvB,IAAAgG,EAAA3F,MAAA0F,EAAAC,EAAA5K,KAAAkF,MAAsC,KAA7BC,EAA6BwF,EAAAvM,MACT,WAArB+G,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,YAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,cAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,KA3BvB,MAAAiF,GAAAuF,EAAA5O,EAAAqJ,GAAA,QAAAuF,EAAAtF,IAqGvB,GAtEA7B,EAAc0C,OAAOC,QAAQ,SAASpK,GAClC,IAAI8M,EAAS9M,EAAE0D,MACXqJ,EAAO/M,EAAE2D,IACTqJ,EAAShN,EAAEuD,MACXgH,EAA6B,GAC7ByC,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAG/C,IA3BqCyK,EA2BjCpF,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GA9BSkF,EAAAzJ,OAAA2D,EAAA,EAAA3D,CA+BjByD,GA/BiB,IA+BrC,IAAAgG,EAAA7F,MAAA4F,EAAAC,EAAA9K,KAAAkF,MAA2C,KAAlCa,EAAkC8E,EAAAzM,MAGvC,GAFAqH,EAAqBM,EAAU/B,EAAMtE,MAAMlD,UAAU,GAAG,IACxDkJ,EAAmBK,EAAU/B,EAAMrE,IAAInD,UAAU,GAAG,IAChDR,EAAE8D,aAAekE,EAAMlE,WAAY,KAAAiL,EAAAC,EAAA3J,OAAA2D,EAAA,EAAA3D,CACVkF,GADU,IACnC,IAAAyE,EAAA/F,MAAA8F,EAAAC,EAAAhL,KAAAkF,MAGI,GAFAS,GADKe,EAA4CqE,EAAA3M,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAOoH,EAAMpH,GAAK,CACnB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,OAXuB,MAAAqJ,GAAA2F,EAAAhP,EAAAqJ,GAAA,QAAA2F,EAAA1F,KAHA,IAAA2F,EAAAC,EAAA7J,OAAA2D,EAAA,EAAA3D,CAkBlBmD,GAlBkB,IAkBvC,IAAA0G,EAAAjG,MAAAgG,EAAAC,EAAAlL,KAAAkF,MAAsC,KAA7BgB,EAA6B+E,EAAA7M,MAClC,GAAIpC,EAAEuN,YAAcrD,EAAS9H,MAAO,KAAA+M,EAAAC,EAAA/J,OAAA2D,EAAA,EAAA3D,CACPkF,GADO,IAChC,IAAA6E,EAAAnG,MAAAkG,EAAAC,EAAApL,KAAAkF,MAAqD,KAA5CwB,EAGL,GAFAf,GADKe,EAA4CyE,EAAA/M,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAOoH,EAAMpH,GAAK,CACnB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,QAXoB,MAAAqJ,GAAA+F,EAAApP,EAAAqJ,GAAA,QAAA+F,EAAA9F,OAnBD,MAAAD,GAAA6F,EAAAlP,EAAAqJ,GAAA,QAAA6F,EAAA5F,MA/BN,MAAAD,GAAAyF,EAAA9O,EAAAqJ,GAAA,QAAAyF,EAAAxF,OAsErChB,EAAa,CACb,IADa+G,EACT5Q,EAAU,6CACVmM,EAAM,GAFG0E,EAAAjK,OAAA2D,EAAA,EAAA3D,CAGMkD,GAHN,IAGb,IAAA+G,EAAArG,MAAAoG,EAAAC,EAAAtL,KAAAkF,MAAqC,KAA5BiB,EAA4BkF,EAAAjN,MAC7B+H,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,YAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,cAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAEV,IAAIE,EAA8BrD,EAAcS,YAAYiC,EAAOrG,YAAYtB,KAC/E/D,GAAO,OAAAsM,OAAWZ,EAAOvG,MAAlB,SAAAmH,OAA+BD,EAA/B,QAAAC,OAAiEH,EAAIpK,UAAU,EAAEoK,EAAInK,OAAO,KA1B1F,MAAA4I,GAAAiG,EAAAtP,EAAAqJ,GAAA,QAAAiG,EAAAhG,IA4Bb0B,MAAMvM,OACH,CAEHuJ,EAAMpE,MAAQ1D,SAASC,eAAe,uBAAuBiC,MAAQ,KACvDlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,eAAeiC,MAAQ,IAClGlC,SAASC,eAAe,aAAaiC,MAAQ,MAAQlC,SAASC,eAAe,WAAWiC,MAAQ,IAChGlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,WAAWiC,MAAQ,IAG5GqF,EAAcwD,iBAAiBjD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAeiC,MAAQ,OAG1JqF,EAAc2D,eAAepD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAaiC,MAAQ,OAGpJ,IAAI/B,EAAc,uBAAyB6K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GACtE0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,IAAM,kBACnD0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElDyH,EAAMzE,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC2H,EAAMzE,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7DP,SAASC,eAAe,gBAAkB8H,EAASnF,QAAQ,MAAO,KAAKvC,SAAU,EACjF,IAAI8K,EAAa,EAMjB,GALA5D,EAAc0C,OAAOC,QAAQ,SAAAkB,IACrBA,EAAKpH,aAAemH,GAAcC,EAAK1K,IAAMyK,KAC7CA,EAAaC,EAAKpH,eAGtBhE,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAKnByD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAIfyD,OAAOC,SAASxM,MAAMkN,cAAc9H,EAAwBiE,EAAOkD,OAAOC,SAASxM,MAAM2E,kBACzF4H,OAAOC,SAASxM,MAAMmN,cAEtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,6BAGkB,IAAtE+K,OAAOC,SAAS3M,MAAM2H,0BAA0B,GAAG6F,iBACnDd,OAAOC,SAASpF,SAAS,CACrBI,0BAA2B,CAACd,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEjB6F,OAAOC,SAAS3M,MAAM2H,0BAA0B,IAFhC,IAGnB6F,eAAgB,OAGzB,WAAYd,OAAOC,SAAS7D,uCAEoC,IAA/D4D,OAAOC,SAAS3M,MAAMwH,mBAAmB,GAAGkG,gBAC5ChB,OAAOC,SAASpF,SAAS,CACrBC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEV6F,OAAOC,SAAS3M,MAAMwH,mBAAmB,IAFhC,IAGZkG,eAAgB,OAGzB,WAAYhB,OAAOC,SAAS9D,iCAC/B6D,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,iCAC/B2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,KAEzEnB,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,kCAIvCtB,WAAW,WAAY/F,SAASC,eAAe+K,OAAOC,SAASxM,MAAMiM,IAAM,YAAY0B,SAAU,MAcjGlM,mBA3WR,WACI+H,IAAS4D,uBAAuB7L,SAASC,eAAe,6BAGxD+K,OAAOC,SAASxM,MAAMkN,cAAc9H,EAAwBiE,EAAOkD,OAAOC,SAASxM,MAAM2E,kBACzF4H,OAAOC,SAASxM,MAAMmN,eAuWlBjK,oBArWR,WAEIqJ,OAAOC,SAASxM,MAAM4N,cAAcvE,EAAM9D,aAC1CgH,OAAOC,SAASxM,MAAMmN,cAGtBrE,EAAc+E,YAAYxE,GAC1BkD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAEfU,IAAS4D,uBAAuB7L,SAASC,eAAe,gCA4VpDD,SAASC,eAAe,8BApqDjBzB,EAwqDnB6Q,UAAY,SAAC9H,EAAeO,EAAOyE,EAAQxE,EAAUvE,EAAOC,GACxCqE,EAAMtE,MACRsE,EAAMrE,IACpB8D,EAAcwD,iBAAiBjD,EAAOtE,GACtC+D,EAAc2D,eAAepD,EAAOrE,GACpCqE,EAAMpE,MAAQoE,EAAMpE,MAAMpD,UAAU,EAAGwH,EAAMpE,MAAMnD,OAAS,IAAM,KAAOsC,EAAW+E,IAAOpE,GAAOgJ,OAAO,UAAY,MAAQ3J,EAAW+E,IAAOnE,GAAK+I,OAAO,UAAY,IACvKhO,EAAKqH,SAAS,CACV6F,UAAWnE,IAoWfU,IAASC,OACLtJ,EAAAC,EAAAC,cAACqJ,EAAD,CACI3H,YAAa,kBAAoBuH,EACjC5H,YAAa2H,EAAMzE,MACnBpC,YAAauC,EACbnC,UAAWoC,EACX7C,WAAYkH,EAAMpE,MAClBhC,gBAnVR,WAEI,IAFuB4N,EAEnBlH,GAAc,EACdC,EAAmB,GACnBC,EAAkBtI,SAASuI,iBAAiB,6CAC5CG,EAAgB1I,SAASuI,iBAAiB,8CAC1CK,EAAwB,GANL2G,EAAApK,OAAA2D,EAAA,EAAA3D,CAOAuD,GAPA,IAOvB,IAAA6G,EAAAxG,MAAAuG,EAAAC,EAAAzL,KAAAkF,MAAsC,KAA7BC,EAA6BqG,EAAApN,MACT,WAArB+G,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,YAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,cAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,aAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,IAEjB,WAArB+E,EAAW/G,OACX0G,EAAsBM,KAAKhF,IAAW,KA3BvB,MAAAiF,GAAAoG,EAAAzP,EAAAqJ,GAAA,QAAAoG,EAAAnG,IAqGvB,GAtEA7B,EAAc0C,OAAOC,QAAQ,SAASpK,GAClC,IAAI8M,EAAS9M,EAAE0D,MACXqJ,EAAO/M,EAAE2D,IACTqJ,EAAShN,EAAEuD,MACXgH,EAA6B,GAC7ByC,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAE3C4I,EAAOxM,UAAU,GAAIwM,EAAOvM,QAAQH,SAAS,OAC7CiK,EAA2BnB,KAAKhF,IAAW,IAG/C,IA3BqCsL,EA2BjCjG,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GA9BS+F,EAAAtK,OAAA2D,EAAA,EAAA3D,CA+BjByD,GA/BiB,IA+BrC,IAAA6G,EAAA1G,MAAAyG,EAAAC,EAAA3L,KAAAkF,MAA2C,KAAlCa,EAAkC2F,EAAAtN,MAGvC,GAFAqH,EAAqBM,EAAU/B,EAAMtE,MAAMlD,UAAU,GAAG,IACxDkJ,EAAmBK,EAAU/B,EAAMrE,IAAInD,UAAU,GAAG,IAChDR,EAAE8D,aAAekE,EAAMlE,WAAY,KAAA8L,EAAAC,EAAAxK,OAAA2D,EAAA,EAAA3D,CACVkF,GADU,IACnC,IAAAsF,EAAA5G,MAAA2G,EAAAC,EAAA7L,KAAAkF,MAGI,GAFAS,GADKe,EAA4CkF,EAAAxN,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAOoH,EAAMpH,GAAK,CACnB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,OAXuB,MAAAqJ,GAAAwG,EAAA7P,EAAAqJ,GAAA,QAAAwG,EAAAvG,KAHA,IAAAwG,EAAAC,EAAA1K,OAAA2D,EAAA,EAAA3D,CAkBlBmD,GAlBkB,IAkBvC,IAAAuH,EAAA9G,MAAA6G,EAAAC,EAAA/L,KAAAkF,MAAsC,KAA7BgB,EAA6B4F,EAAA1N,MAClC,GAAIpC,EAAEuN,YAAcrD,EAAS9H,MAAO,KAAA4N,EAAAC,EAAA5K,OAAA2D,EAAA,EAAA3D,CACPkF,GADO,IAChC,IAAA0F,EAAAhH,MAAA+G,EAAAC,EAAAjM,KAAAkF,MAAqD,KAA5CwB,EAGL,GAFAf,GADKe,EAA4CsF,EAAA5N,OACR0K,EAAOtM,UAAU,GAAG,IAC7DoJ,EAAwBc,EAAeqC,EAAKvM,UAAU,GAAG,KACnDiJ,GAAsBE,GAA2BF,EAAqBG,GACrEF,EAAmBC,GAA2BD,GAAoBE,GAClED,GAA2BF,GAAsBE,EAA0BD,GAC3EE,EAAwBH,GAAsBG,GAAyBF,IACvE1J,EAAEY,KAAOoH,EAAMpH,GAAK,CACnB0H,GAAc,EACdC,EAAiBa,KAAKpJ,GACtB,QAXoB,MAAAqJ,GAAA4G,EAAAjQ,EAAAqJ,GAAA,QAAA4G,EAAA3G,OAnBD,MAAAD,GAAA0G,EAAA/P,EAAAqJ,GAAA,QAAA0G,EAAAzG,MA/BN,MAAAD,GAAAsG,EAAA3P,EAAAqJ,GAAA,QAAAsG,EAAArG,OAsErChB,EAAa,CACb,IADa4H,EACTzR,EAAU,6CACVmM,EAAM,GAFGuF,EAAA9K,OAAA2D,EAAA,EAAA3D,CAGMkD,GAHN,IAGb,IAAA4H,EAAAlH,MAAAiH,EAAAC,EAAAnM,KAAAkF,MAAqC,KAA5BiB,EAA4B+F,EAAA9N,MAC7B+H,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,YAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,cAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,aAENT,EAAO5G,MAAM/C,UAAU,GAAGwH,EAAMzE,MAAM9C,QAAQH,SAAS,QACvDsK,EAAM,WAEV,IAAIE,EAA8BrD,EAAcS,YAAYiC,EAAOrG,YAAYtB,KAC/E/D,GAAO,OAAAsM,OAAWZ,EAAOvG,MAAlB,SAAAmH,OAA+BD,EAA/B,QAAAC,OAAiEH,EAAIpK,UAAU,EAAEoK,EAAInK,OAAO,KA1B1F,MAAA4I,GAAA8G,EAAAnQ,EAAAqJ,GAAA,QAAA8G,EAAA7G,IA4Bb0B,MAAMvM,OACH,CAEHuJ,EAAMpE,MAAQ1D,SAASC,eAAe,uBAAuBiC,MAAQ,KACvDlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,eAAeiC,MAAQ,IAClGlC,SAASC,eAAe,aAAaiC,MAAQ,MAAQlC,SAASC,eAAe,WAAWiC,MAAQ,IAChGlC,SAASC,eAAe,aAAaiC,MAAQ,IAAMlC,SAASC,eAAe,WAAWiC,MAAQ,IAG5GqF,EAAcwD,iBAAiBjD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAeiC,MAAQ,OAG1JqF,EAAc2D,eAAepD,EAAOkD,OAAOC,SAASxM,MAAMkJ,KAAO,IAAM1D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAaiC,MAAQ,OAGpJ,IAAI/B,EAAc,uBAAyB6K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GACtE0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAM4F,WAAW/D,UAAU,EAAE,IAAM,kBACnD0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,GAC7C0K,OAAOC,SAASxM,MAAMkG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElDyH,EAAMzE,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC2H,EAAMzE,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7D,IAAI4K,EAAa,EAOjB,GANA5D,EAAc0C,OAAOC,QAAQ,SAAAkB,IACrBA,EAAKpH,aAAemH,GAAcC,EAAK1K,IAAMyK,KAC7CA,EAAaC,EAAKpH,eAG1BhE,SAASC,eAAe,gBAAkB8H,EAASnF,QAAQ,MAAO,KAAKvC,SAAU,EAC7EL,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAGnB,GAAIvH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAIgL,EAAW,CACX3K,GAFJyK,GAA0B,EAGtBzH,MAAOoE,EAAMpE,MACbF,MAAOsE,EAAMtE,MACbC,IAAKqE,EAAMrE,IACXG,WAAY,EACZ0H,QAAS,UACTC,aAAa,EACblI,MAAOyE,EAAMzE,OAEjB2H,OAAOC,SAASxM,MAAM+M,WAAWtI,EAAqBmI,EAAUL,OAAOC,SAASxM,MAAM2E,kBACtFmE,EAAckE,SAASJ,GACvBL,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAKnByD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAIfyD,OAAOC,SAASxM,MAAMkN,cAAc9H,EAAwBiE,EAAOkD,OAAOC,SAASxM,MAAM2E,kBACzF4H,OAAOC,SAASxM,MAAMmN,cAEtB3D,IAAS4D,uBAAuB7L,SAASC,eAAe,6BAGkB,IAAtE+K,OAAOC,SAAS3M,MAAM2H,0BAA0B,GAAG6F,iBACnDd,OAAOC,SAASpF,SAAS,CACrBI,0BAA2B,CAACd,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEjB6F,OAAOC,SAAS3M,MAAM2H,0BAA0B,IAFhC,IAGnB6F,eAAgB,OAGzB,WAAYd,OAAOC,SAAS7D,uCAEoC,IAA/D4D,OAAOC,SAAS3M,MAAMwH,mBAAmB,GAAGkG,gBAC5ChB,OAAOC,SAASpF,SAAS,CACrBC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEV6F,OAAOC,SAAS3M,MAAMwH,mBAAmB,IAFhC,IAGZkG,eAAgB,OAGzB,WAAYhB,OAAOC,SAAS9D,iCAC/B6D,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,iCAC/B2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,KAEzEnB,OAAOC,SAASpF,SAAS,CACrBM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEX6F,OAAOC,SAAS3M,MAAM6H,oBAAoB,IAFhC,IAGb8F,OAAQjB,OAAOC,SAAS3M,MAAM6H,oBAAoB,GAAG8F,OAAS,OAGvE,WAAYjB,OAAOC,SAAS5D,oCAevCnH,mBAzWR,WACI+H,IAAS4D,uBAAuB7L,SAASC,eAAe,6BAGxD+K,OAAOC,SAASxM,MAAMkN,cAAc9H,EAAwBiE,EAAOkD,OAAOC,SAASxM,MAAM2E,kBACzF4H,OAAOC,SAASxM,MAAMmN,eAqWlBjK,oBAlWR,WAEIqJ,OAAOC,SAASxM,MAAM4N,cAAcvE,EAAM9D,aAC1CgH,OAAOC,SAASxM,MAAMmN,cAGtBrE,EAAc+E,YAAYxE,GAC1BkD,OAAOC,SAASpF,SAAS,CACrB6F,UAAWnE,IAEfU,IAAS4D,uBAAuB7L,SAASC,eAAe,gCAyVpDD,SAASC,eAAe,8BA7hEjBzB,EAiiEnB0R,iBAAmB,SAAC3I,EAAe4I,EAAQrI,EAAOjH,EAAM0L,EAAQxE,EAAUvE,EAAOC,GAC7E+E,QAAQC,IAAI0H,GACZ3H,QAAQC,IAAI5H,GACZoH,IAASC,OACLtJ,EAAAC,EAAAC,cAACsR,EAAD,CACI7R,QAAS,+CAAiDwJ,EAAW,IACrEpI,KAAM,WACFsI,IAAS4D,uBAAuB7L,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAxiEhC,IAAIsH,EAAgB,IAAI8I,gBACpB7R,EAAKC,MAAMkJ,KACX2I,YAAUC,KACV,GACA,EACA,CACIC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GACpB,CACCC,2BAA4BpS,EAAKgJ,uBACjCqJ,qBAAsBrS,EAAK8I,mBAdpB,OAiBfC,EAAcuJ,aAAa,CAAC,CAACpQ,GAAG,EAAG4B,KAAK,WAAY,CAAC5B,GAAG,EAAG4B,KAAK,OAAQ,CAAC5B,GAAG,EAAG4B,KAAK,UAAW,CAAC5B,GAAG,EAAG4B,KAAK,WAAY,CAAC5B,GAAG,EAAG4B,KAAK,eACnIiF,EAAcwJ,UAAUvS,EAAKC,MAAMwL,QACnCzL,EAAKF,MAAQ,CACToN,UAAWnE,EACXzB,mBAAoB,GACpBG,0BAA2B,GAC3BE,oBAAqB,GACrBgG,IAAK,GAETnB,OAAOC,SAAP9F,OAAA6L,EAAA,EAAA7L,CAAA3G,GA1BeA,uDA6BV,IACGkN,EAAcrM,KAAKf,MAAnBoN,UACR,OACI9M,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACmS,EAAApS,EAAD,CACIsN,IAAK9M,KAAKf,MAAM6N,IAChB5E,cAAemE,EACfwF,eAAgB7R,KAAKwI,aACrBkD,iBAAkB1L,KAAK0L,iBACvBG,eAAgB7L,KAAK6L,eACrBmE,UAAWhQ,KAAKgQ,UAChBhE,SAAUhM,KAAKgM,SACf6E,iBAAkB7Q,KAAK6Q,iEAQvC7Q,KAAKkG,+BACLlG,KAAK2G,gCACL3G,KAAK6G,iCArDU3G,cCzKvB,SAAS4R,EAAQtS,EAAEuS,GACf,IAAIC,EAAa,EAMjB,OALIxS,EAAE2B,YAAc4Q,EAAE5Q,YAClB6Q,EAAa,EACNxS,EAAE2B,YAAc4Q,EAAE5Q,cACzB6Q,GAAc,GAEXA,MAKLC,8MACFhT,MAAQ,CACJiT,MAAO,GACPpF,IAAK,KAOTqF,UAAY,WAERhM,MAAM,uDACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFA,EAAK6L,KAAKN,GACV3S,EAAKqH,SAAS,CAAC0L,MAAO3L,EAAMuG,IAAK3N,EAAKF,MAAM6N,IAAI,MAGpDpG,WAAWvH,EAAKgT,UAAW,QAG/BE,WAAa,SAACrL,GACVb,MAAM,sDAAwDa,EAAQ3F,GAAGsB,WAAa,IAAK,CACvFsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWpI,EAAKF,MAAMiT,MAAM/O,IAAI,SAAAW,GAClC,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGf3E,EAAKqH,SAAS,CAAC0L,MAAO3K,yEA/B1BvH,KAAKmS,6CAoCL,OACI5S,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,wBACJ9B,EAAAC,EAAAC,cAAC6S,EAAD,CACIxF,IAAK9M,KAAKf,MAAM6N,IAChBoF,MAAOlS,KAAKf,MAAMiT,MAClB5F,cAAetM,KAAKqS,cAG5B9S,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACyS,MAAM,UAAjB,yFApDqBrS,aA0D/BsS,yKACO,IAAAC,EAAAzS,KACCkS,EAAQlS,KAAKZ,MAAM8S,MAAM/O,IAAI,SAAAW,GAAI,OACnCvE,EAAAC,EAAAC,cAACiT,EAAD,CACI5F,IAAKhJ,EAAKzC,GACVA,GAAIyC,EAAKzC,GACT4C,QAASH,EAAKG,QACd9C,YAAa2C,EAAK3C,YAClBwR,aAAc7O,EAAK6O,aACnBrG,cAAemG,EAAKrT,MAAMkN,kBAGlC,OACI/M,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACyS,MAAM,UACfhT,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACiC,WAAW,OAAQ6Q,aAAa,QAA3C,YACArT,EAAAC,EAAAC,cAACoT,EAAD,CAAoBxR,GAAG,SAASyR,gBAAgB,EAAMZ,MAAOlS,KAAKZ,MAAM8S,SAE5E3S,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACiT,OAAO,OAAQ/P,MAAM,gBAC7BkP,WArBWhS,aA4B1B8S,8MACFC,aAAe,SAACnP,GACZA,EAAKzC,GAAK6R,EAAK9T,MAAMiC,GACrB6R,EAAK9T,MAAMkN,cAAcxI,2DAGpB,IAAAqP,EAAAnT,KAcL,OAXQT,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAC2T,EAAD,CACI/R,GAAI8R,EAAK/T,MAAMiC,GACf4C,QAASkP,EAAK/T,MAAM6E,QACpB9C,YAAagS,EAAK/T,MAAM+B,YACxBwR,aAAcQ,EAAK/T,MAAMuT,aACzBU,aAAcF,EAAKF,uBAfH/S,aA0BlCoT,8MACFrU,MAAQ,CACJgF,QAASsP,EAAKnU,MAAM6E,QACpB9C,YAAaoS,EAAKnU,MAAM+B,YACxBwR,aAAcY,EAAKnU,MAAMuT,aACzBlM,mBAAoB,GACpBK,oBAAqB,MAqBzBC,wBAA0B,SAACC,GACvBb,MAAM,kEAAoEa,EAAQ3F,GAAGsB,WAAa,IAAK,CACnGsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWgM,EAAKtU,MAAMwH,mBAAmBtD,IAAI,SAAAW,GAC/C,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGfyP,EAAK/M,SAAS,CAACC,mBAAoBc,SAI3CG,wBAA0B,SAACV,GACvBb,MAAM,6DAA+Da,EAAQ3F,GAAGsB,WAAa,IAAK,CAC9FsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWgM,EAAKtU,MAAM6H,oBAAoB3D,IAAI,SAAAW,GAChD,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGfyP,EAAK/M,SAAS,CAACM,oBAAqBS,SAI5CI,yBAA2B,SAAC7D,GACxBA,EAAKzC,GAAKkS,EAAKnU,MAAM6E,QACrBsP,EAAKxM,wBAAwBjD,MAGjC+D,yBAA2B,SAAC/D,GACxBA,EAAKzC,GAAKkS,EAAKnU,MAAM6E,QACrBsP,EAAK7L,wBAAwB5D,MAGjCgE,6BAA+B,WAC3ByL,EAAK5L,yBAAyB4L,EAAKtU,MAAMwH,mBAAmB,OAGhEuB,6BAA+B,WAC3BuL,EAAK1L,yBAAyB0L,EAAKtU,MAAM6H,oBAAoB,OAGjE0M,iBAAmB,WACfD,EAAKnU,MAAMiU,aAAXvN,OAAA4G,EAAA,EAAA5G,CAAA,GAA4ByN,EAAKtU,WAGrCwU,WAAa,WACT,IAAIC,EAAkBH,EAAKtU,MAAMkC,YAAc,eAO/C,GANAR,SAASC,eAAe8S,GAAiB1S,SAAU,EACnDuS,EAAK/M,SAAS,CAACmM,cAAc,GAAQ,WAAY3S,KAAKwT,qBACtD5K,IAAS4D,uBAAuB7L,SAASC,eAAe,kBACxD+S,IAGsD,IAAlDJ,EAAKtU,MAAMwH,mBAAmB,GAAGmN,aAAoB,CACrDL,EAAK/M,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVyN,EAAKtU,MAAMwH,mBAAmB,IAFrB,IAGZmN,aAAc,OAGvB,WAAY5T,KAAK8H,iCACpByL,EAAK/M,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXyN,EAAKtU,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ2G,EAAKtU,MAAM6H,oBAAoB,GAAG8F,OAAS,OAG5D,WAAY5M,KAAKgI,iCACpB2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,IAExE,IAEI+G,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,QAI7EgH,WAAa,WACT,IAAIL,EAAkBH,EAAKtU,MAAMkC,YAAc,eAO/C,GANAR,SAASC,eAAe8S,GAAiB1S,SAAU,EACnDuS,EAAK/M,SAAS,CAACmM,cAAc,GAAO,WAAY3S,KAAKwT,qBACrD5K,IAAS4D,uBAAuB7L,SAASC,eAAe,kBACxD+S,IAGsD,IAAlDJ,EAAKtU,MAAMwH,mBAAmB,GAAGmN,aAAoB,CACrDL,EAAK/M,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVyN,EAAKtU,MAAMwH,mBAAmB,IAFrB,IAGZmN,aAAc,OAGvB,WAAY5T,KAAK8H,iCACpByL,EAAK/M,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXyN,EAAKtU,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ2G,EAAKtU,MAAM6H,oBAAoB,GAAG8F,OAAS,OAG5D,WAAY5M,KAAKgI,iCACpB2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,IAEzE,IAEI+G,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,QAI5EiH,UAAY,WACR,IAAIC,EAAkBV,EAAKtU,MAAMkC,YAAc,eAC/CR,SAASC,eAAeqT,GAAiBjT,SAAU,EACnDuS,EAAK/M,SAAS,CAACmM,cAAc,GAAO,WAAY3S,KAAKwT,qBACrD5K,IAAS4D,uBAAuB7L,SAASC,eAAe,qBAG5DsT,UAAY,WACR,IAAID,EAAkBV,EAAKtU,MAAMkC,YAAc,eAC/CR,SAASC,eAAeqT,GAAiBjT,SAAU,EACnDuS,EAAK/M,SAAS,CAACmM,cAAc,GAAQ,WAAY3S,KAAKwT,qBACtD5K,IAAS4D,uBAAuB7L,SAASC,eAAe,qBAG5DuT,SAAW,SAAC1T,GAER,GADAA,EAAE2T,iBAC6B,YAA3Bb,EAAKtU,MAAMkC,aAAwD,WAA3BoS,EAAKtU,MAAMkC,aACnB,IAA5BoS,EAAKtU,MAAM0T,aACPhS,SAASC,eAAe,iBAAiByT,WAAWnT,OAAS,EAE7DqS,EAAK/M,SAAS,CAACmM,cAAc,GAAQ,WAAY3S,KAAKwT,qBAEtD5K,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC6U,EAAD,CACIpV,QAAS,8BAAgCqU,EAAKtU,MAAMkC,YAAc,IAClE9B,UAAakU,EAAKE,WAClBnU,SAAYiU,EAAKS,YACjBrT,SAASC,eAAe,kBAG5CD,SAASC,eAAe,iBAAiByT,WAAWnT,OAAS,EAE7DqS,EAAK/M,SAAS,CAACmM,cAAc,GAAO,WAAY3S,KAAKwT,qBAErD5K,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC6U,EAAD,CACIpV,QAAS,6BAA+BqU,EAAKtU,MAAMkC,YAAc,IACjE9B,UAAakU,EAAKQ,WAClBzU,SAAYiU,EAAKW,YACjBvT,SAASC,eAAe,uBASpD,GAJA2S,EAAK/M,SAAS,CAACmM,aAAclS,EAAEC,OAAOM,SAAU,WAAYhB,KAAKwT,qBACjEG,IAGsD,IAAlDJ,EAAKtU,MAAMwH,mBAAmB,GAAGmN,aAAoB,CACrDL,EAAK/M,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVyN,EAAKtU,MAAMwH,mBAAmB,IAFrB,IAGZmN,aAAc,OAGvB,WAAY5T,KAAK8H,iCACpByL,EAAK/M,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXyN,EAAKtU,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ2G,EAAKtU,MAAM6H,oBAAoB,GAAG8F,OAAS,OAG5D,WAAY5M,KAAKgI,iCACpB2D,OAAOkB,gBAAgBrG,SAAS,CAACsG,IAAKnB,OAAOkB,gBAAgB5N,MAAM6N,IAAM,IAEzE,IAEI+G,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,wEA3N5D,IAAAwH,EAAAvU,KAEhBmG,MAAM,mEACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFgO,EAAK/N,SAAS,CAACC,mBAAoBF,MAIvCJ,MAAM,8DACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFgO,EAAK/N,SAAS,CAACM,oBAAqBP,MAGxCoN,qCAmNA,IAAgC,IAA5B3T,KAAKf,MAAM0T,aACX,IAAI6B,EAA4B,WAC5BC,EAAuB,kBAAoBzU,KAAKf,MAAMkC,YAAYwB,WAAa,gBAEnF6R,EAA4B,YAC5BC,EAAuB,kBAAoBzU,KAAKf,MAAMkC,YAAYwB,WAAa,UAGnF,OACIpD,EAAAC,EAAAC,cAAA,OAAK4B,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,YAAauQ,UAAU,mBACvEvU,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAAC4U,UAAU,SAAUxS,WAAW,OAAQnC,MAAM,UAAxD,IAAoEC,KAAKf,MAAMkC,YAA/E,KACA5B,EAAAC,EAAAC,cAAA,OAAK4B,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,cAChDhE,EAAAC,EAAAC,cAAA,OAAKC,MAAO8U,GACRjV,EAAAC,EAAAC,cAAA,OAAKC,MAAM,aACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,eAAeiV,IAAKF,EAAsBG,IAAI,YAIrErV,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKqU,UAAU,iBACXvU,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLsS,UAAU,yBACVzS,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,eAC/CvC,QAAShB,KAAKf,MAAM0T,aACpBG,eAAgB9S,KAAKf,MAAM0T,aAC3BwB,SAAUnU,KAAKmU,WAEnB5U,EAAAC,EAAAC,cAAA,SAAOqU,UAAU,sBAAsB/Q,QAAS/C,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,gBACvFhE,EAAAC,EAAAC,cAAA,QAAMqU,UAAU,sBAAsBe,WAAS,KAAKC,UAAQ,QAC5DvV,EAAAC,EAAAC,cAAA,QAAMqU,UAAU,mCAzQR5T,aAiR1B6U,oDAKF,SAAAA,EAAY3V,GAAO,IAAA4V,EAAA,OAAAlP,OAAAC,EAAA,EAAAD,CAAA9F,KAAA+U,IACfC,EAAAC,EAAAhP,KAAAjG,KAAMZ,IALVH,MAAQ,CACJ+B,QAASgU,EAAK5V,MAAM0T,gBAGLkC,EAKnBvB,WAAa,WAE8C,OAAnD9S,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBmM,QAGA,OAAnDpM,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBmM,QAGD,OAAlDpM,SAASC,eAAe,wBACsC,IAA1DD,SAASC,eAAe,sBAAsBI,SAC9CL,SAASC,eAAe,sBAAsBmM,QAGE,OAApDpM,SAASC,eAAe,0BACwC,IAA5DD,SAASC,eAAe,wBAAwBI,SAChDL,SAASC,eAAe,wBAAwBmM,QAGL,OAA/CpM,SAASC,eAAe,qBACmC,IAAvDD,SAASC,eAAe,mBAAmBI,SAC3CL,SAASC,eAAe,mBAAmBmM,QAGnDpM,SAASC,eAAe,UAAUI,SAAU,EAC5CgU,EAAKxO,SAAS,CAACxF,SAAS,IACxB4H,IAAS4D,uBAAuB7L,SAASC,eAAe,mBAlCzCoU,EAqCnBjB,WAAa,WAE8C,OAAnDpT,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBmM,QAGA,OAAnDpM,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBmM,QAGD,OAAlDpM,SAASC,eAAe,wBACsC,IAA1DD,SAASC,eAAe,sBAAsBI,SAC9CL,SAASC,eAAe,sBAAsBmM,QAGE,OAApDpM,SAASC,eAAe,0BACwC,IAA5DD,SAASC,eAAe,wBAAwBI,SAChDL,SAASC,eAAe,wBAAwBmM,QAGL,OAA/CpM,SAASC,eAAe,qBACmC,IAAvDD,SAASC,eAAe,mBAAmBI,SAC3CL,SAASC,eAAe,mBAAmBmM,QAGnDpM,SAASC,eAAe,UAAUI,SAAU,EAC5CgU,EAAKxO,SAAS,CAACxF,SAAS,IACxB4H,IAAS4D,uBAAuB7L,SAASC,eAAe,mBAlEzCoU,EAqEnBhB,UAAY,WACRrT,SAASC,eAAe,UAAUI,SAAU,EAC5CgU,EAAKxO,SAAS,CAACxF,SAAS,IACxB4H,IAAS4D,uBAAuB7L,SAASC,eAAe,mBAxEzCoU,EA2EnBd,UAAY,WACRvT,SAASC,eAAe,UAAUI,SAAU,EAC5CgU,EAAKxO,SAAS,CAACxF,SAAS,IACxB4H,IAAS4D,uBAAuB7L,SAASC,eAAe,mBA9EzCoU,EAiFnBb,SAAW,SAAC1T,GACRA,EAAE2T,kBACyB,IAAvBY,EAAK/V,MAAM+B,QACX4H,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC6U,EAAD,CACIpV,QAAQ,0CACRG,UAAa2V,EAAKvB,WAClBnU,SAAY0V,EAAKhB,YAChBrT,SAASC,eAAe,kBAE7CgI,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC6U,EAAD,CACIpV,QAAQ,yCACRG,UAAa2V,EAAKjB,WAClBzU,SAAY0V,EAAKd,YACjBvT,SAASC,eAAe,mBA5FhD+K,OAAOuJ,OAAPpP,OAAA6L,EAAA,EAAA7L,CAAAkP,GAFeA,uDAmGf,IADK1L,EACDwJ,GAAiB,EADhBtJ,EAAA1D,OAAA2D,EAAA,EAAA3D,CAEY9F,KAAKZ,MAAM8S,OAFvB,IAEL,IAAA1I,EAAAE,MAAAJ,EAAAE,EAAA/E,KAAAkF,MAAmC,EACL,IADKL,EAAAzG,MACtB8P,eACLG,GAAiB,IAJpB,MAAAhJ,GAAAN,EAAA/I,EAAAqJ,GAAA,QAAAN,EAAAO,IAOL,OACIxK,EAAAC,EAAAC,cAAA,OAAKqU,UAAW,iBAAmB9T,KAAKZ,MAAM+V,MAAQ,gBAAkB,KACpE5V,EAAAC,EAAAC,cAAA,SACI+B,KAAK,WACLyB,KAAMjD,KAAKZ,MAAMgW,KACjBtB,UAAU,yBACVzS,GAAIrB,KAAKZ,MAAMiC,GACfL,QAAShB,KAAKgB,QACd8R,eAAgBA,EAChB7S,QAASD,KAAKmU,SACdkB,SAAUrV,KAAKZ,MAAMiW,WAExBrV,KAAKZ,MAAMiC,GACR9B,EAAAC,EAAAC,cAAA,SAAOqU,UAAU,sBAAsB/Q,QAAS/C,KAAKZ,MAAMiC,IACvD9B,EAAAC,EAAAC,cAAA,QACIqU,UAAW9T,KAAKZ,MAAMiW,SAAW,6CAA+C,sBAChFR,WAAS,KACTC,UAAQ,QAEZvV,EAAAC,EAAAC,cAAA,QACIqU,UAAW9T,KAAKZ,MAAMiW,SAAW,8CAA+C,0BAGxF,aArIanV,aA6IjC,SAASyT,IAEDhT,SAASC,eAAe,uBAAuBI,SAAWL,SAASC,eAAe,uBAAuBI,SACzGL,SAASC,eAAe,sBAAsBI,SAAWL,SAASC,eAAe,wBAAwBI,SACzGL,SAASC,eAAe,mBAAmBI,SAC3C2K,OAAOuJ,OAAO1O,SAAS,CAACxF,SAAS,IACjCL,SAASC,eAAe,UAAUI,SAAU,GAGvCL,SAASC,eAAe,uBAAuBI,SAAYL,SAASC,eAAe,uBAAuBI,SAC1GL,SAASC,eAAe,sBAAsBI,SAAYL,SAASC,eAAe,wBAAwBI,SAC1GL,SAASC,eAAe,mBAAmBI,UAC5C2K,OAAOuJ,OAAO1O,SAAS,CAACxF,SAAS,IACjCL,SAASC,eAAe,UAAUI,SAAU,GAQxD,SAASsU,EAAY9V,EAAEuS,GACnB,IAAIC,EAAa,EAMjB,OALIxS,EAAE2E,MAAQ4N,EAAE5N,MACZ6N,EAAa,EACNxS,EAAE2E,MAAQ4N,EAAE5N,QACnB6N,GAAc,GAEXA,EAGX,SAASxO,EAAWhB,GAChB,IAAIiB,EAAWhB,OAAOD,EAAKvB,UAAU,EAAE,IACnCyC,EAAWD,GAAY,GAAK,KAAO,KAEnCE,GADJF,EAAYA,EAAW,IAAO,IACH,IAAMjB,EAAKvB,UAAU,EAAE,GAAK,IAAMyC,EAK7D,OAHyB,IAArBC,EAAUzC,SACVyC,EAAY,IAAMA,GAEdA,EAGZ,SAASkB,IACL,IAAIC,EAAQ,IAAIC,KACZC,EAAa,IAAID,KACjBE,EAAc,IAAIF,KAClBG,EAAgB,IAAIH,KACpBI,EAAe,IAAIJ,KACnBK,EAAa,IAAIL,KACjBM,EAAe,IAAIN,KACnBO,EAAa,IAAIP,KA6BrB,OA3BuB,IAAnBD,EAAMS,UAENP,EAAWQ,QAAQV,EAAMW,UAAY,GACrCR,EAAYO,QAAQV,EAAMW,UAAY,GACtCP,EAAcM,QAAQV,EAAMW,UAAY,GACxCN,EAAaK,QAAQV,EAAMW,UAAY,GACvCL,EAAWI,QAAQV,EAAMW,UAAY,GACrCJ,EAAaG,QAAQV,EAAMW,UAAY,GACvCH,EAAWE,QAAQV,EAAMW,aAEzBT,EAAWQ,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAChDN,EAAYO,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WACjDL,EAAcM,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WACnDJ,EAAaK,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAClDH,EAAWI,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAChDF,EAAaG,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,WAClDD,EAAWE,QAAQV,EAAMW,WAAa,EAAIX,EAAMS,YAW7C,CARPP,EAAaA,EAAWU,cAAgB,KAAyD,KAAjDV,EAAWW,WAAa,GAAGhD,WAAWzB,OAAe,KAAO8D,EAAWW,WAAa,GAAGhD,WAAcqC,EAAWW,WAAa,GAAM,KAAkD,IAA3CX,EAAWS,UAAU9C,WAAWzB,OAAe,IAAM8D,EAAWS,UAAU9C,WAAaqC,EAAWS,WAC5RR,EAAcA,EAAYS,cAAgB,KAA0D,KAAlDT,EAAYU,WAAa,GAAGhD,WAAWzB,OAAe,KAAO+D,EAAYU,WAAa,GAAGhD,WAAcsC,EAAYU,WAAa,GAAM,KAAmD,IAA5CV,EAAYQ,UAAU9C,WAAWzB,OAAe,IAAM+D,EAAYQ,UAAU9C,WAAasC,EAAYQ,WACpSP,EAAgBA,EAAcQ,cAAgB,KAA4D,KAApDR,EAAcS,WAAa,GAAGhD,WAAWzB,OAAe,KAAOgE,EAAcS,WAAa,GAAGhD,WAAcuC,EAAcS,WAAa,GAAM,KAAqD,IAA9CT,EAAcO,UAAU9C,WAAWzB,OAAe,IAAMgE,EAAcO,UAAU9C,WAAauC,EAAcO,WACpTN,EAAeA,EAAaO,cAAgB,KAA2D,KAAnDP,EAAaQ,WAAa,GAAGhD,WAAWzB,OAAe,KAAOiE,EAAaQ,WAAa,GAAGhD,WAAcwC,EAAaQ,WAAa,GAAO,KAAoD,IAA7CR,EAAaM,UAAU9C,WAAWzB,OAAe,IAAMiE,EAAaM,UAAU9C,WAAawC,EAAaM,WAC7SL,EAAaA,EAAWM,cAAgB,KAAyD,KAAjDN,EAAWO,WAAa,GAAGhD,WAAWzB,OAAe,KAAOkE,EAAWO,WAAa,GAAGhD,WAAcyC,EAAWO,WAAa,GAAM,KAAkD,IAA3CP,EAAWK,UAAU9C,WAAWzB,OAAe,IAAMkE,EAAWK,UAAU9C,WAAayC,EAAWK,WAC5RJ,EAAeA,EAAaK,cAAgB,KAA2D,KAAnDL,EAAaM,WAAa,GAAGhD,WAAWzB,OAAe,KAAOmE,EAAaM,WAAa,GAAGhD,WAAc0C,EAAaM,WAAa,GAAM,KAAoD,IAA7CN,EAAaI,UAAU9C,WAAWzB,OAAe,IAAMmE,EAAaI,UAAU9C,WAAa0C,EAAaI,WAC5SH,EAAaA,EAAWI,cAAgB,KAAyD,KAAjDJ,EAAWK,WAAa,GAAGhD,WAAWzB,OAAe,KAAOoE,EAAWK,WAAa,GAAGhD,WAAc2C,EAAWK,WAAa,GAAM,KAAkD,IAA3CL,EAAWG,UAAU9C,WAAWzB,OAAe,IAAMoE,EAAWG,UAAU9C,WAAa2C,EAAWG,YAhFhSmD,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC8V,EAAD,MAA4B5U,SAASC,eAAe,uBAoG9D4U,8MACFvW,MAAQ,CACJ2L,OAAQ,GACR6K,MAAO,GACPC,WAAY,GACZxD,MAAO,GACPpF,IAAK,KA8FTP,YAAc,WAEVpG,MAAM,yDACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFoP,EAAKnP,SAAS,CAAC0L,MAAO3L,IACtB,IAFUkE,EAENmL,EAAe,GAFTlL,EAAA5E,OAAA2D,EAAA,EAAA3D,CAGQS,GAHR,IAGV,IAAAmE,EAAAhB,MAAAe,EAAAC,EAAAjG,KAAAkF,MAAwB,KAAfkM,EAAepL,EAAA5H,MACpB8S,EAAKnP,SAAS,CAACzC,gBAAiB8R,EAAM5R,SAAU,WAAYkF,QAAQC,IAAIpJ,KAAKf,MAAM8E,mBACnF,IAAIQ,EAAasR,EAAMvR,eACnBwR,EAAUD,EAAM3R,SAChBtC,EAAciU,EAAMjU,YACpBI,EAAY6T,EAAM7T,UAGlB+T,EAAavS,EAAW5B,GACxBoU,EAAWxS,EAAWxB,GACtBT,EAAasU,EAAMtU,WAAa,KAAOwU,EAAa,MAAQC,EAAW,IAVvDC,EAY+EpR,IAZ/EqR,EAAApQ,OAAAqQ,EAAA,EAAArQ,CAAAmQ,EAAA,GAYfjR,EAZekR,EAAA,GAYHjR,EAZGiR,EAAA,GAYUhR,EAZVgR,EAAA,GAYyB/Q,EAZzB+Q,EAAA,GAYuC9Q,EAZvC8Q,EAAA,GAYmD7Q,EAZnD6Q,EAAA,GAYiE5Q,EAZjE4Q,EAAA,GAahBpV,EAAc,uBAAyBkE,EAAW/D,UAAU,EAAE,GAAK+D,EAAW/D,UAAU,EAAE,GAAK+D,EAAW/D,UAAU,EAAE,IAAM,kBAAoBqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,IAAM,kBACzOW,EAAcoD,EAAa,IAAMpD,EACjCI,EAAYgD,EAAa,IAAMhD,EAC3B6T,EAAM/U,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,aAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,eAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAK5C8U,EAAa/L,KAAK,CAACxI,GAAIyU,EAAS3R,MAAOvC,EAAawC,IAAKpC,EAAWqC,MAAO9C,EAAYyC,MAAOlD,EAAayD,WAAYA,EAAY2H,aAAa,EAAOD,QAAS,UAAWtH,YAAakR,EAAMxU,MAtExL,MAAAyI,GAAAY,EAAAjK,EAAAqJ,GAAA,QAAAY,EAAAX,IAwEV6L,EAAaxD,KAAKkD,GAClBK,EAAKnP,SAAS,CACVoE,OAAQgL,EACRH,MAAO,CAACzQ,EAAYC,EAAaC,EAAeC,EAAcC,EAAYC,EAAcC,UAKpG+Q,cAAgB,SAACvS,GACb,IAAMwS,EAxMd,SAAmBrT,GACf,IAAIsT,EAAc,KAClB,GAAI5V,SAAS6V,QAA8B,KAApB7V,SAAS6V,OAE5B,IADA,IAAMC,EAAU9V,SAAS6V,OAAOE,MAAM,KAC7BC,EAAI,EAAGA,EAAIF,EAAQvV,OAAQyV,IAAK,CACrC,IAAMH,EAASC,EAAQE,GAAGC,OAC1B,GAAIJ,EAAOvV,UAAU,EAAEgC,EAAK/B,OAAO,KAAQ+B,EAAO,IAAM,CACpDsT,EAAcM,mBAAmBL,EAAOvV,UAAUgC,EAAK/B,OAAS,IAChE,OAIZ,OAAOqV,EA4LeO,CAAU,aAC5B3Q,MAAM,wDAAyD,CAC3Dc,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChB4P,cAAeT,GAEnBlP,KAAMC,KAAKC,UAAUxD,KAExBsC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAtC,GACF6R,EAAKnP,SAAS,CAAC0L,MAAOyD,EAAK1W,MAAMiT,MAAM1G,OAAO,CAAC1H,WAIvDuO,WAAa,SAACrL,GACVb,MAAM,wDAA0Da,EAAQ3F,GAAGsB,WAAa,IAAK,CACzFsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWoO,EAAK1W,MAAMiT,MAAM/O,IAAI,SAAAW,GAClC,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAIf6R,EAAKnP,SAAS,CAAC0L,MAAO3K,SAI9ByP,WAAa,SAACC,GACV9Q,MAAM,wDAA0D8Q,EAAS,IAAK,CAC1EhQ,OAAQ,SACRC,QAAS,CACLC,eAAgB,sBAGvBf,KAAK,WACFuP,EAAKnP,SAAS,CAAC0L,MAAOyD,EAAK1W,MAAMiT,MAAMgF,OAAO,SAAApT,GAAI,OAAIA,EAAKzC,KAAO4V,WAI1EE,qBAAuB,WACnBxW,SAASC,eAAe,QAAQyT,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAG+C,YAAYzW,SAASC,eAAe,QAAQyT,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAGA,WAAW,OAG/KgD,SAAW,WAGP,IAAIV,EACAW,EACJ,IAJA3W,SAAS4W,uBAAuB,sBAAsB,GAAGlD,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAIvU,MAAM0X,YAAc,EAInHb,EAAE,EAAGA,EAAE,EAAGA,IACX,IAAKW,EAAE,EAAGA,EAAE,GAAIA,GAAG,EACf3W,SAAS4W,uBAAuB,sBAAsB,GAAGlD,WAAW,GAAGA,WAAWsC,GAAGtC,WAAWiD,GAAGxX,MAAM0X,YAAc,uBAKnIC,aAAe,WACX9B,EAAKpJ,cAELoJ,EAAKnP,SAAS,CAACkP,WAAY,WAG3B/U,SAASC,eAAe,kBAAkBkT,UAAY,WACtDnT,SAASC,eAAe,mBAAmBkT,UAAY,GACvDnT,SAASC,eAAe,qBAAqBkT,UAAY,GACzDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GAGtDlL,IAAS4D,uBAAuB7L,SAASC,eAAe,SACxDgI,IAASC,OACLtJ,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAaoJ,EAAKpJ,YAClB3B,OAAQ+K,EAAK1W,MAAM2L,OACnBtC,KAAMqN,EAAK1W,MAAMwW,MAAM,GACvBzI,cAAe2I,EAAKqB,WACpB7K,WAAYwJ,EAAKU,cACjB/J,cAAeqJ,EAAKtD,WACpBH,MAAOyD,EAAK1W,MAAMiT,MAClBlN,WAAY2Q,EAAK1W,MAAMwW,MAAM,GAC7BnQ,WAAYqQ,EAAK1W,MAAMwW,MAAM,GAC7BpK,IAAI,SACJtH,gBAAiB4R,EAAK1W,MAAM8E,kBAC5BpD,SAASC,eAAe,SAChC+U,EAAKwB,uBACLxB,EAAK0B,cAGTM,cAAgB,WACZhC,EAAKpJ,cAELoJ,EAAKnP,SAAS,CAACkP,WAAY,YAG3B/U,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,mBAAmBkT,UAAY,WACvDnT,SAASC,eAAe,qBAAqBkT,UAAY,GACzDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GAGtDlL,IAAS4D,uBAAuB7L,SAASC,eAAe,SACxDgI,IAASC,OACLtJ,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAaoJ,EAAKpJ,YAClB3B,OAAQ+K,EAAK1W,MAAM2L,OACnBtC,KAAMqN,EAAK1W,MAAMwW,MAAM,GACvBzI,cAAe2I,EAAKqB,WACpB7K,WAAYwJ,EAAKU,cACjB/J,cAAeqJ,EAAKtD,WACpBH,MAAOyD,EAAK1W,MAAMiT,MAClBlN,WAAY2Q,EAAK1W,MAAMwW,MAAM,GAC7BnQ,WAAYqQ,EAAK1W,MAAMwW,MAAM,GAC7BpK,IAAI,UACJtH,gBAAiB4R,EAAK1W,MAAM8E,kBAC5BpD,SAASC,eAAe,SAChC+U,EAAKwB,uBACLxB,EAAK0B,cAGTO,gBAAkB,WACdjC,EAAKpJ,cAELoJ,EAAKnP,SAAS,CAACkP,WAAY,cAG3B/U,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,mBAAmBkT,UAAY,GACvDnT,SAASC,eAAe,qBAAqBkT,UAAY,WACzDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GAGtDlL,IAAS4D,uBAAuB7L,SAASC,eAAe,SACxDgI,IAASC,OACLtJ,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAaoJ,EAAKpJ,YAClB3B,OAAQ+K,EAAK1W,MAAM2L,OACnBtC,KAAMqN,EAAK1W,MAAMwW,MAAM,GACvBzI,cAAe2I,EAAKqB,WACpB7K,WAAYwJ,EAAKU,cACjB/J,cAAeqJ,EAAKtD,WACpBH,MAAOyD,EAAK1W,MAAMiT,MAClBlN,WAAY2Q,EAAK1W,MAAMwW,MAAM,GAC7BnQ,WAAYqQ,EAAK1W,MAAMwW,MAAM,GAC7BpK,IAAI,YACJtH,gBAAiB4R,EAAK1W,MAAM8E,kBAC5BpD,SAASC,eAAe,SAChC+U,EAAKwB,uBACLxB,EAAK0B,cAGTQ,eAAiB,WACblC,EAAKpJ,cAELoJ,EAAKnP,SAAS,CAACkP,WAAY,aAG3B/U,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,mBAAmBkT,UAAY,GACvDnT,SAASC,eAAe,qBAAqBkT,UAAY,GACzDnT,SAASC,eAAe,oBAAoBkT,UAAY,WACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GAGtDlL,IAAS4D,uBAAuB7L,SAASC,eAAe,SACxDgI,IAASC,OACLtJ,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAaoJ,EAAKpJ,YAClB3B,OAAQ+K,EAAK1W,MAAM2L,OACnBtC,KAAMqN,EAAK1W,MAAMwW,MAAM,GACvBzI,cAAe2I,EAAKqB,WACpB7K,WAAYwJ,EAAKU,cACjB/J,cAAeqJ,EAAKtD,WACpBH,MAAOyD,EAAK1W,MAAMiT,MAClBlN,WAAY2Q,EAAK1W,MAAMwW,MAAM,GAC7BnQ,WAAYqQ,EAAK1W,MAAMwW,MAAM,GAC7BpK,IAAI,WACJtH,gBAAiB4R,EAAK1W,MAAM8E,kBAC5BpD,SAASC,eAAe,SAChC+U,EAAKwB,uBACLxB,EAAK0B,cAGTS,aAAe,WACXnC,EAAKpJ,cAELoJ,EAAKnP,SAAS,CAACkP,WAAY,WAG3B/U,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,mBAAmBkT,UAAY,GACvDnT,SAASC,eAAe,qBAAqBkT,UAAY,GACzDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,WACtDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GAGtDlL,IAAS4D,uBAAuB7L,SAASC,eAAe,SACxDgI,IAASC,OACLtJ,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAaoJ,EAAKpJ,YAClB3B,OAAQ+K,EAAK1W,MAAM2L,OACnBtC,KAAMqN,EAAK1W,MAAMwW,MAAM,GACvBzI,cAAe2I,EAAKqB,WACpB7K,WAAYwJ,EAAKU,cACjB/J,cAAeqJ,EAAKtD,WACpBH,MAAOyD,EAAK1W,MAAMiT,MAClBlN,WAAY2Q,EAAK1W,MAAMwW,MAAM,GAC7BnQ,WAAYqQ,EAAK1W,MAAMwW,MAAM,GAC7BpK,IAAI,SACJtH,gBAAiB4R,EAAK1W,MAAM8E,kBAC5BpD,SAASC,eAAe,SAChC+U,EAAKwB,uBACLxB,EAAK0B,cAGTU,eAAiB,WACbpC,EAAKpJ,cAELoJ,EAAKnP,SAAS,CAACkP,WAAY,aAG3B/U,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,mBAAmBkT,UAAY,GACvDnT,SAASC,eAAe,qBAAqBkT,UAAY,GACzDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,oBAAoBkT,UAAY,WACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GAGtDlL,IAAS4D,uBAAuB7L,SAASC,eAAe,SACxDgI,IAASC,OACLtJ,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAaoJ,EAAKpJ,YAClB3B,OAAQ+K,EAAK1W,MAAM2L,OACnBtC,KAAMqN,EAAK1W,MAAMwW,MAAM,GACvBzI,cAAe2I,EAAKqB,WACpB7K,WAAYwJ,EAAKU,cACjB/J,cAAeqJ,EAAKtD,WACpBH,MAAOyD,EAAK1W,MAAMiT,MAClBlN,WAAY2Q,EAAK1W,MAAMwW,MAAM,GAC7BnQ,WAAYqQ,EAAK1W,MAAMwW,MAAM,GAC7BpK,IAAI,WACJtH,gBAAiB4R,EAAK1W,MAAM8E,kBAC5BpD,SAASC,eAAe,SAChC+U,EAAKwB,uBACLxB,EAAK0B,cAGTW,aAAe,WACXrC,EAAKpJ,cAELoJ,EAAKnP,SAAS,CAACkP,WAAY,WAG3B/U,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,mBAAmBkT,UAAY,GACvDnT,SAASC,eAAe,qBAAqBkT,UAAY,GACzDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,GACtDnT,SAASC,eAAe,oBAAoBkT,UAAY,GACxDnT,SAASC,eAAe,kBAAkBkT,UAAY,WAGtDlL,IAAS4D,uBAAuB7L,SAASC,eAAe,SACxDgI,IAASC,OACLtJ,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAaoJ,EAAKpJ,YAClB3B,OAAQ+K,EAAK1W,MAAM2L,OACnBtC,KAAMqN,EAAK1W,MAAMwW,MAAM,GACvBzI,cAAe2I,EAAKqB,WACpB7K,WAAYwJ,EAAKU,cACjB/J,cAAeqJ,EAAKtD,WACpBH,MAAOyD,EAAK1W,MAAMiT,MAClBlN,WAAY2Q,EAAK1W,MAAMwW,MAAM,GAC7BnQ,WAAYqQ,EAAK1W,MAAMwW,MAAM,GAC7BpK,IAAI,SACJtH,gBAAiB4R,EAAK1W,MAAM8E,kBAC5BpD,SAASC,eAAe,SAChC+U,EAAKwB,uBACLxB,EAAK0B,8EA3dW,IAAAY,EAAAjY,KAEhBmG,MAAM,yDACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACF0R,EAAKzR,SAAS,CAAC0L,MAAO3L,IACtB,IAFU6E,EAENwK,EAAe,GAFTtK,EAAAxF,OAAA2D,EAAA,EAAA3D,CAGQS,GAHR,IAGV,IAAA+E,EAAA5B,MAAA0B,EAAAE,EAAA7G,KAAAkF,MAAwB,KAAfkM,EAAezK,EAAAvI,MACpBoV,EAAKzR,SAAS,CAACzC,gBAAiB8R,EAAM5R,SAAU,WAAWkF,QAAQC,IAAIpJ,KAAKf,MAAM8E,mBAClF,IAAIQ,EAAasR,EAAMvR,eACnBwR,EAAUD,EAAM3R,SAChBtC,EAAciU,EAAMjU,YACpBI,EAAY6T,EAAM7T,UAGlB+T,EAAavS,EAAW5B,GACxBoU,EAAWxS,EAAWxB,GACtBT,EAAasU,EAAMtU,WAAa,KAAOwU,EAAa,MAAQC,EAAW,IAVvDkC,EAY+ErT,IAZ/EsT,EAAArS,OAAAqQ,EAAA,EAAArQ,CAAAoS,EAAA,GAYflT,EAZemT,EAAA,GAYHlT,EAZGkT,EAAA,GAYUjT,EAZViT,EAAA,GAYyBhT,EAZzBgT,EAAA,GAYuC/S,EAZvC+S,EAAA,GAYmD9S,EAZnD8S,EAAA,GAYiE7S,EAZjE6S,EAAA,GAahBrX,EAAc,uBAAyBkE,EAAW/D,UAAU,EAAE,GAAK+D,EAAW/D,UAAU,EAAE,GAAK+D,EAAW/D,UAAU,EAAE,IAAM,kBAAoBqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,IAAM,kBACzOW,EAAcoD,EAAa,IAAMpD,EACjCI,EAAYgD,EAAa,IAAMhD,EAC3B6T,EAAM/U,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,aAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,eAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+U,EAAM/U,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsV,OAAOtV,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAK5C8U,EAAa/L,KAAK,CAACxI,GAAIyU,EAAS3R,MAAOvC,EAAawC,IAAKpC,EAAWqC,MAAO9C,EAAYyC,MAAOlD,EAAayD,WAAYA,EAAY2H,aAAa,EAAOD,QAAS,UAAWtH,YAAakR,EAAMxU,KAG9L,IAEIwS,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,KA7E9D,MAAAjD,GAAAwB,EAAA7K,EAAAqJ,GAAA,QAAAwB,EAAAvB,IA+EV6L,EAAaxD,KAAKkD,GAClB2C,EAAKzR,SAAS,CACVoE,OAAQgL,EACRH,MAAO,CAACzQ,EAAYC,EAAaC,EAAeC,EAAcC,EAAYC,EAAcC,wCAyYhG,OACI/F,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAA,OAAKqU,UAAU,OACXvU,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,iBAAiBpB,QAASD,KAAKyX,cAA1C,YACAlY,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,kBAAkBpB,QAASD,KAAK2X,eAA3C,aACApY,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,oBAAoBpB,QAASD,KAAK4X,iBAA7C,eACArY,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,mBAAmBpB,QAASD,KAAK6X,gBAA5C,cACAtY,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,iBAAiBpB,QAASD,KAAK8X,cAA1C,YACAvY,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,mBAAmBpB,QAASD,KAAK+X,gBAA5C,cACAxY,EAAAC,EAAAC,cAAA,UAAQ4B,GAAG,iBAAiBpB,QAASD,KAAKgY,cAA1C,aAEJzY,EAAAC,EAAAC,cAAC2Y,EAAD,CACItL,IAAK9M,KAAKf,MAAM6N,IAChBP,YAAavM,KAAKuM,YAClB3B,OAAQ5K,KAAKf,MAAM2L,OACnB6K,MAAOzV,KAAKf,MAAMwW,MAClBzI,cAAehN,KAAKgX,WACpB7K,WAAYnM,KAAKqW,cACjB/J,cAAetM,KAAKqS,WACpBH,MAAOlS,KAAKf,MAAMiT,MAClBnO,gBAAiB/D,KAAKf,MAAM8E,kBAEhCxE,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,4BAAR,aA9fuBnB,aAogBjCmY,yKAEE,IACIvT,EAAQ,IAAIC,KACZuT,EAAaxT,EAAMY,cAAgB,KAAoD,KAA5CZ,EAAMa,WAAa,GAAGhD,WAAWzB,OAAe,KAAO4D,EAAMa,WAAa,GAAGhD,WAAcmC,EAAMa,WAAa,GAAM,KAA6C,IAAtCb,EAAMW,UAAU9C,WAAWzB,OAAe,IAAM4D,EAAMW,UAAU9C,WAAamC,EAAMW,WAC7P,OACIlG,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,QACJ9B,EAAAC,EAAAC,cAACiY,EAAD,CACInL,YAAavM,KAAKZ,MAAMmN,YACxB3B,OAAQ5K,KAAKZ,MAAMwL,OACnBtC,KAAMgQ,EACNtL,cAAehN,KAAKZ,MAAM4N,cAC1Bb,WAAYnM,KAAKZ,MAAM+M,WACvBG,cAAetM,KAAKZ,MAAMkN,cAC1B4F,MAAOlS,KAAKZ,MAAM8S,MAClBlN,WAAYhF,KAAKZ,MAAMqW,MAAM,GAC7BnQ,WAAYtF,KAAKZ,MAAMqW,MAAM,GAC7BpK,IAfD,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAexDvG,EAAMS,UAChBxB,gBAAiB/D,KAAKZ,MAAM2E,0BAlBd7D,aAyBlC0I,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC8Y,EAAD,MAA8B5X,SAASC,eAAe,+BAIhE4X,oDAMF,SAAAA,EAAYpZ,GAAO,IAAAqZ,EAAA,OAAA3S,OAAAC,EAAA,EAAAD,CAAA9F,KAAAwY,IACfC,EAAAC,EAAAzS,KAAAjG,KAAMZ,IANVH,MAAQ,CACJiT,MAAO,GACPpF,IAAK,GAGU2L,EAenBpG,WAAa,SAACrL,GACVb,MAAM,wDAA0Da,EAAQ3F,GAAGsB,WAAa,IAAK,CACzFsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAWkR,EAAKxZ,MAAMiT,MAAM/O,IAAI,SAAAW,GAClC,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGf2U,EAAKjS,SAAS,CAAC0L,MAAO3K,OA7B1BoE,OAAOkB,gBAAP/G,OAAA6L,EAAA,EAAA7L,CAAA2S,GAFeA,kEAKC,IAAAE,EAAA3Y,KAEhBmG,MAAM,yDACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACFA,EAAK6L,KAAKN,GACV6G,EAAKnS,SAAS,CAAC0L,MAAO3L,uCAyB1B,OACIhH,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACE7B,EAAAC,EAAAC,cAAA,WAEIF,EAAAC,EAAAC,cAACmZ,EAAD,CACI9L,IAAK9M,KAAKf,MAAM6N,IAChBoF,MAAOlS,KAAKf,MAAMiT,MAClB5F,cAAetM,KAAKqS,qBAjDHnS,aAyDjC2Y,yKACO,IAAAC,EAAA9Y,KACCkS,EAAQlS,KAAKZ,MAAM8S,MAAM/O,IAAI,SAAAW,GAAI,OACnCvE,EAAAC,EAAAC,cAACsZ,GAAD,CACIjM,IAAKhJ,EAAKzC,GACVA,GAAIyC,EAAKzC,GACT4C,QAASH,EAAKG,QACd9C,YAAa2C,EAAK3C,YAClB6X,iBAAkBlV,EAAKkV,iBACvB1M,cAAewM,EAAK1Z,MAAMkN,kBAGlC,OACI/M,EAAAC,EAAAC,cAAA,OAAKC,MAAM,iBACNwS,UAdiBhS,aAoB5B+Y,+MACFhG,aAAe,SAACnP,GACZA,EAAKzC,GAAK6X,EAAK9Z,MAAMiC,GACrB6X,EAAK9Z,MAAMkN,cAAcxI,2DAGpB,IAAAqV,EAAAnZ,KAcL,OAXQT,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAC2Z,GAAD,CACI/X,GAAI8X,EAAK/Z,MAAMiC,GACf4C,QAASkV,EAAK/Z,MAAM6E,QACpB9C,YAAagY,EAAK/Z,MAAM+B,YACxB6X,iBAAkBG,EAAK/Z,MAAM4Z,iBAC7B3F,aAAc8F,EAAKlG,uBAfD/S,aA0BpCmZ,+MACFpa,MAAQ,CACJgF,QAASqV,EAAKla,MAAM6E,QACpB9C,YAAamY,EAAKla,MAAM+B,YACxB6X,iBAAkBM,EAAKla,MAAM4Z,iBAC7BvS,mBAAoB,GACpBK,oBAAqB,MAQzBZ,6BAA+B,WAC3BC,MAAM,mEACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACF+S,EAAK9S,SAAS,CAACC,mBAAoBF,MAGvCG,WAAW4S,EAAKpT,6BAA8B,QAGlDW,wBAA0B,WACtBV,MAAM,8DACLC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACF+S,EAAK9S,SAAS,CAACM,oBAAqBP,MAGxCG,WAAW4S,EAAKzS,wBAAyB,QAG7CE,wBAA0B,SAACC,GACvBb,MAAM,kEAAoEa,EAAQ3F,GAAGsB,WAAa,IAAK,CACnGsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAW+R,EAAKra,MAAMwH,mBAAmBtD,IAAI,SAAAW,GAC/C,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGfwV,EAAK9S,SAAS,CAACC,mBAAoBc,SAI3CG,wBAA0B,SAACV,GACvBb,MAAM,6DAA+Da,EAAQ3F,GAAGsB,WAAa,IAAK,CAC9FsE,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUN,KACtBZ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAY,GACF,IAAMO,EAAW+R,EAAKra,MAAM6H,oBAAoB3D,IAAI,SAAAW,GAChD,OAAIA,EAAKzC,KAAO2F,EAAQ3F,GACbyE,OAAO0B,OAAO,GAAIR,GAElBlD,IAGfwV,EAAK9S,SAAS,CAACM,oBAAqBS,SAI5CI,yBAA2B,SAAC7D,GACxBA,EAAKzC,GAAKiY,EAAKla,MAAM6E,QACrBqV,EAAKvS,wBAAwBjD,MAGjC+D,yBAA2B,SAAC/D,GACxBA,EAAKzC,GAAKiY,EAAKla,MAAM6E,QACrBqV,EAAK5R,wBAAwB5D,MAGjCgE,6BAA+B,WAC3BwR,EAAK3R,yBAAyB2R,EAAKra,MAAMwH,mBAAmB,OAGhEuB,6BAA+B,WAC3BsR,EAAKzR,yBAAyByR,EAAKra,MAAM6H,oBAAoB,OAGjE2M,WAAa,WAMT,GAJA6F,EAAK9S,SAAS,CAACwS,iBAAkB,WAAY,WAAYhZ,KAAKwT,qBAC9D5K,IAAS4D,uBAAuB7L,SAASC,eAAe,kBAGA,IAApD0Y,EAAKra,MAAMwH,mBAAmB,GAAG8S,eAAsB,CACvDD,EAAK9S,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVwT,EAAKra,MAAMwH,mBAAmB,IAFrB,IAGZ8S,eAAgB,OAGzB,WAAYvZ,KAAK8H,iCAEpBwR,EAAK9S,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXwT,EAAKra,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ0M,EAAKra,MAAM6H,oBAAoB,GAAG8F,OAAS,OAG5D,WAAY5M,KAAKgI,iCAEpB,IAEI6L,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,QAI5EiH,UAAY,WACRrT,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAO,IAAM,UAAUV,MAAQyW,EAAKra,MAAM+Z,iBACjGpQ,IAAS4D,uBAAuB7L,SAASC,eAAe,qBAG5D4S,iBAAmB,WACf8F,EAAKla,MAAMiU,aAAXvN,OAAA4G,EAAA,EAAA5G,CAAA,GAA4BwT,EAAKra,WAGrCua,oBAAsB,SAACC,GACnB,GAAyB,UAArBA,EAAI/Y,OAAOmC,OAA0C,YAArB4W,EAAI/Y,OAAOmC,QAE3C+F,IAAS4D,uBAAuB7L,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,qBAEnG+V,EAAK9S,SAAS,CAACwS,iBAAkBS,EAAI/Y,OAAOmC,OAAQ,WAAY7C,KAAKwT,qBAGb,IAApD8F,EAAKra,MAAMwH,mBAAmB,GAAG8S,gBAAsB,CACvDD,EAAK9S,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVwT,EAAKra,MAAMwH,mBAAmB,IAFrB,IAGZ8S,eAAgB,OAGzB,WAAYvZ,KAAK8H,iCACpBwR,EAAK9S,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXwT,EAAKra,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ0M,EAAKra,MAAM6H,oBAAoB,GAAG8F,OAAS,OAG5D,WAAY5M,KAAKgI,iCAEpB,IAEI6L,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,IAGnD,UAArB0M,EAAI/Y,OAAOmC,OAEX+F,IAASC,OACLtJ,EAAAC,EAAAC,cAACia,GAAD,CACIvY,YAAamY,EAAKra,MAAMkC,YACxBwY,kBAAmBL,EAAKK,kBACxBC,iBAAkBN,EAAKM,iBACvBC,oBAAqBP,EAAKO,oBAC1BxX,gBAAiBiX,EAAKjX,kBACtB1B,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,qBAGtD,YAArBkW,EAAI/Y,OAAOmC,QAEX+F,IAAS4D,uBAAuB7L,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,qBACnGqF,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC6U,EAAD,CACIpV,QAAS,mDAAqDoa,EAAKra,MAAMkC,YAAc,IACvF9B,UAAaia,EAAK7F,WAClBnU,SAAYga,EAAKtF,YACjBrT,SAASC,eAAe,sBAIpD+Y,kBAAoB,SAACF,GACjBH,EAAK9S,SAAS,CAACwS,iBAAkBS,EAAI/Y,OAAOmC,WAGhD+W,iBAAmB,SAACH,GACA,UAAZA,EAAI3M,KAAmC,KAAhB2M,EAAIK,SAC3BR,EAAKjX,qBAIb0R,WAAa,WAYT,GAVApT,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,KAAKuQ,UAAY,UAE9EnT,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,KAAK8Q,WAAW,GAAGA,WAAW,GAAGM,IAAM,kBAAoB2E,EAAKra,MAAMkC,YAAYwB,WAAa,WAE5JhC,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,UAAUV,MAAQ,UAErFyW,EAAK9S,SAAS,CAACwS,iBAAkB,WAAY,WAAYhZ,KAAKwT,qBAC9D5K,IAAS4D,uBAAuB7L,SAASC,eAAe,kBAGA,IAApD0Y,EAAKra,MAAMwH,mBAAmB,GAAG8S,eAAsB,CACvDD,EAAK9S,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVwT,EAAKra,MAAMwH,mBAAmB,IAFrB,IAGZ8S,eAAgB,OAGzB,WAAYvZ,KAAK8H,iCACpBwR,EAAK9S,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXwT,EAAKra,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ0M,EAAKra,MAAM6H,oBAAoB,GAAG8F,OAAS,QAK/D,IAEIiH,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,QAI5EmH,UAAY,WACRtL,IAAS4D,uBAAuB7L,SAASC,eAAe,qBAG5DmZ,wBAA0B,WACtB,GAAoF,cAAhFpZ,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,KAAKuQ,UAClElL,IAASC,OAAOtJ,EAAAC,EAAAC,cAAC6U,EAAD,CACIpV,QAAS,mDAAqDoa,EAAKra,MAAMkC,YAAc,IACvF9B,UAAaia,EAAKvF,WAClBzU,SAAYga,EAAKpF,YACjBvT,SAASC,eAAe,uBAY5C,GATAD,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,KAAKuQ,UAAY,YAE9EnT,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,KAAK8Q,WAAW,GAAGA,WAAW,GAAGM,IAAM,kBAAoB2E,EAAKra,MAAMkC,YAAYwB,WAAa,UAE5JhC,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,UAAUV,MAAQ,IAErFyW,EAAK9S,SAAS,CAACwS,iBAAkB,KAAM,WAAYhZ,KAAKwT,qBAGA,IAApD8F,EAAKra,MAAMwH,mBAAmB,GAAG8S,eAAsB,CACvDD,EAAK9S,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVwT,EAAKra,MAAMwH,mBAAmB,IAFrB,IAGZ8S,eAAgB,OAGzB,WAAYvZ,KAAK8H,iCACpBwR,EAAK9S,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXwT,EAAKra,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ0M,EAAKra,MAAM6H,oBAAoB,GAAG8F,OAAS,OAG5D,WAAY5M,KAAKgI,iCAEpB,IAEI6L,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,QAKhF8M,oBAAsB,WAElBjR,IAAS4D,uBAAuB7L,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,qBAEnG5C,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,UAAUV,MAAQ,IACrFyW,EAAK9S,SAAS,CAACwS,iBAAkB,GAAI,WAAYhZ,KAAKwT,wBAI1DnR,gBAAkB,WAWd,GATA1B,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,UAAUV,MAAQlC,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,aAAaV,MAErKlC,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,aAAaV,MAAQ,GAExF+F,IAAS4D,uBAAuB7L,SAASC,eAAe0Y,EAAKra,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,qBAEnG+V,EAAK9F,mBAGmD,IAApD8F,EAAKra,MAAMwH,mBAAmB,GAAG8S,eAAsB,CACvDD,EAAK9S,SAAS,CACVC,mBAAoB,CAACX,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEVwT,EAAKra,MAAMwH,mBAAmB,IAFrB,IAGZ8S,eAAgB,OAGzB,WAAYvZ,KAAK8H,iCACpBwR,EAAK9S,SAAS,CACVM,oBAAqB,CAAChB,OAAA4G,EAAA,EAAA5G,QAAA4G,EAAA,EAAA5G,CAAA,GAEXwT,EAAKra,MAAM6H,oBAAoB,IAFrB,IAGb8F,OAAQ0M,EAAKra,MAAM6H,oBAAoB,GAAG8F,OAAS,OAG5D,WAAY5M,KAAKgI,iCAEpB,IAEI6L,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAI9O,MACWQ,UAAY,WACvC5E,SAASC,eAAeiT,GAAWC,UAAU,WAC7CpN,WAAW,WAAY/F,SAASC,eAAeiT,GAAW9G,SAAU,wEA/TxE/M,KAAKkG,+BACLlG,KAAK6G,2DAoUL,GADwB,CAAC,UAAW,IAAK,KAAM,KAAM,KAAM,KAAM,SAC7C9F,SAASf,KAAKf,MAAM+Z,iBAAiBrW,YACrD,IAAI0S,GAAW,EACX2E,EAAgB,GAChBC,EAAe,QAEnB5E,GAAW,EACX2E,EAAgBha,KAAKf,MAAM+Z,iBAC3BiB,EAAeja,KAAKf,MAAM+Z,iBAAmB,WAGjD,GAA+C,YAA3ChZ,KAAKf,MAAM+Z,iBAAiBrW,WAC5B,IAAIuX,EAA8B,UAC9BC,EAAyB,kBAAoBna,KAAKf,MAAMkC,YAAYwB,WAAa,gBAErFuX,EAA8B,YAC9BC,EAAyB,kBAAoBna,KAAKf,MAAMkC,YAAYwB,WAAa,UAGrF,OACIpD,EAAAC,EAAAC,cAAA,OAAK4B,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,cAAeuQ,UAAU,oBAAoB7T,QAASD,KAAKoa,WAC3G7a,EAAAC,EAAAC,cAAA,OAAKqU,UAAU,gBACXvU,EAAAC,EAAAC,cAAA,OAAKqU,UAAWoG,EAA6B7Y,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAKtD,QAASD,KAAK+Z,yBACrGxa,EAAAC,EAAAC,cAAA,OAAKqU,UAAU,aACXvU,EAAAC,EAAAC,cAAA,OAAKC,MAAM,eAAeiV,IAAKwF,EAAwBvF,IAAI,YAIvErV,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACkD,MAAM,QAASqX,OAAO,OAAQC,UAAU,YACjD/a,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACya,SAAS,WAAYvX,MAAM,QAASqX,OAAO,MAAOC,UAAU,YACrE/a,EAAAC,EAAAC,cAAA,OAAKqU,UAAU,mBAAmBzS,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,YAC7EhE,EAAAC,EAAAC,cAAA,OAAKC,MAAM,gBACPH,EAAAC,EAAAC,cAAA,aAAKO,KAAKf,MAAMkC,YAAhB,MAEJ5B,EAAAC,EAAAC,cAAA,UAAQ6B,aAActB,KAAKf,MAAM+Z,iBAAkB7E,SAAUnU,KAAKwZ,oBAAqBnY,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,UAClIhE,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,WAAd,gBACAtD,EAAAC,EAAAC,cAAA,YAAU+a,MAAM,0BACZjb,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,KAAd,eACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,gBACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,gBACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,gBACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,MAAd,YACAtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAM,SAAd,kBAEJtD,EAAAC,EAAAC,cAAA,UAAQoD,MAAOmX,EAAe3E,SAAUA,GAAxC,IAAoD4E,EAApD,OAIR1a,EAAAC,EAAAC,cAAA,OAAK4B,GAAIrB,KAAKf,MAAMkC,YAAYoC,QAAQ,MAAM,IAAM,oBAApD,eA9XUrD,aAuY5Bua,+MACFL,UAAY,WACRM,EAAKtb,MAAMya,8EAGX,OACAta,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACI7B,EAAAC,EAAAC,cAAA,OAAK4B,GAAG,uBAAuByS,UAAU,yBAAyB7T,QAASD,KAAKoa,YAChF7a,EAAAC,EAAAC,cAAA,OAAK4B,GAAIrB,KAAKZ,MAAM+B,YAAYoC,QAAQ,MAAM,IAAM,gBAAiBuQ,UAAU,mBAC3EvU,EAAAC,EAAAC,cAAA,SAAO+B,KAAK,OAAOH,GAAIrB,KAAKZ,MAAM+B,YAAYoC,QAAQ,MAAM,IAAM,YAAa4Q,SAAUnU,KAAKZ,MAAMua,kBAAmBgB,QAAS3a,KAAKZ,MAAMwa,mBAC3Ira,EAAAC,EAAAC,cAAA,KAAGC,MAAM,WAAT,aACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQ4B,GAAIrB,KAAKZ,MAAM+B,YAAYoC,QAAQ,MAAM,IAAM,eAAgBtD,QAASD,KAAKZ,MAAMya,qBAA3F,YACAta,EAAAC,EAAAC,cAAA,UAAQ4B,GAAIrB,KAAKZ,MAAM+B,YAAYoC,QAAQ,MAAM,IAAM,WAAYtD,QAASD,KAAKZ,MAAMiD,iBAAvF,iBAbmBnC,aAoBnC0I,IAASC,OAAOtJ,EAAAC,EAAAC,cAACmb,EAAD,MAA8Bja,SAASC,eAAe,2BAKtE,IAAIia,GAAuBla,SAASC,eAAe,qBAC/Cka,GAAiBna,SAASC,eAAe,kBACzCma,GAAkBpa,SAASC,eAAe,qBAC1Coa,GAAmBra,SAASC,eAAe,YAC3Cqa,GAAkBta,SAASC,eAAe,qBAC1Csa,GAAmBva,SAASC,eAAe,oBAE/C+K,OAAOwP,OAAS,WACd,IAAIC,EAAwBP,GAAqBQ,wBAC7CC,EAAqBR,GAAeO,wBACpCE,EAAeH,EAAsBI,MAAQF,EAAmBE,MAAQ,GAC5EV,GAAeW,YAAc,WAC3B7S,IAASC,OACLtJ,EAAAC,EAAAC,cAAA,OAAK4B,GAAI,wBACP9B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,mJACMY,SAASC,eAAe,kBACpCD,SAASC,eAAe,wBAAwBd,MAAMkD,MAAQuY,EAAa5Y,WAAa,MAE1FmY,GAAeY,WAAa,WAC1B9S,IAAS4D,uBAAuB7L,SAASC,eAAe,mBAE1D,IAAI+a,EAAmBZ,GAAgBM,wBACnCO,EAAuBZ,GAAiBK,wBACxCQ,EAAiBF,EAAiBH,MAAQI,EAAqBJ,MAAQ,GAC3ER,GAAiBS,YAAc,WAC7B7S,IAASC,OACLtJ,EAAAC,EAAAC,cAAA,OAAK4B,GAAI,kBACP9B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,0IACMY,SAASC,eAAe,YACpCD,SAASC,eAAe,kBAAkBd,MAAMkD,MAAQ6Y,EAAelZ,WAAa,MAEtFqY,GAAiBU,WAAa,WAC5B9S,IAAS4D,uBAAuB7L,SAASC,eAAe,aAE1D,IAAIkb,EAAmBb,GAAgBI,wBACnCU,EAAuBb,GAAiBG,wBACxCW,EAAiBF,EAAiBN,MAAQO,EAAqBP,MAAQ,GAC3EN,GAAiBO,YAAc,WAC7B7S,IAASC,OACLtJ,EAAAC,EAAAC,cAAA,OAAK4B,GAAI,0BACP9B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,yKACMY,SAASC,eAAe,oBACpCD,SAASC,eAAe,0BAA0Bd,MAAMkD,MAAQgZ,EAAerZ,WAAa,MAE9FuY,GAAiBQ,WAAa,WAC5B9S,IAAS4D,uBAAuB7L,SAASC,eAAe,sBAI5D+K,OAAOsQ,SAAW,WAEhB,IAAIb,EAAwBP,GAAqBQ,wBAC7CC,EAAqBR,GAAeO,wBACpCE,EAAeH,EAAsBI,MAAQF,EAAmBE,MAAQ,GAC5EV,GAAeW,YAAc,WAC3B7S,IAASC,OACLtJ,EAAAC,EAAAC,cAAA,OAAK4B,GAAI,wBACP9B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,mJACMY,SAASC,eAAe,kBACpCD,SAASC,eAAe,wBAAwBd,MAAMkD,MAAQuY,EAAa5Y,WAAa,MAE1FmY,GAAeY,WAAa,WAC1B9S,IAAS4D,uBAAuB7L,SAASC,eAAe,mBAE1D,IAAI+a,EAAmBZ,GAAgBM,wBACnCO,EAAuBZ,GAAiBK,wBACxCQ,EAAiBF,EAAiBH,MAAQI,EAAqBJ,MAAQ,GAC3ER,GAAiBS,YAAc,WAC7B7S,IAASC,OACLtJ,EAAAC,EAAAC,cAAA,OAAK4B,GAAI,kBACP9B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,0IACMY,SAASC,eAAe,YACpCD,SAASC,eAAe,kBAAkBd,MAAMkD,MAAQ6Y,EAAelZ,WAAa,MAEtFqY,GAAiBU,WAAa,WAC5B9S,IAAS4D,uBAAuB7L,SAASC,eAAe,aAE1D,IAAIkb,EAAmBb,GAAgBI,wBACnCU,EAAuBb,GAAiBG,wBACxCW,EAAiBF,EAAiBN,MAAQO,EAAqBP,MAAQ,GAC3EN,GAAiBO,YAAc,WAC7B7S,IAASC,OACLtJ,EAAAC,EAAAC,cAAA,OAAK4B,GAAI,0BACP9B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,yKACMY,SAASC,eAAe,oBACpCD,SAASC,eAAe,0BAA0Bd,MAAMkD,MAAQgZ,EAAerZ,WAAa,MAE9FuY,GAAiBQ,WAAa,WAC5B9S,IAAS4D,uBAAuB7L,SAASC,eAAe,sBAK5D,IAAIsb,GAAavQ,OAAOwQ,OACpBC,GAASzQ,OAAO0Q,UAChBC,GAAaF,GAAOG,OACpBC,GAAgC,qBAAf7Q,OAAO8Q,IACxBC,GAAWN,GAAOO,UAAUjY,QAAQ,SAAW,EACjC0X,GAAOO,UAAUC,MAAM,SAItCjc,SAASkc,UAAY,SAASpU,IACb,IAAhBA,EAAMqU,SAAmC,OAAhBrU,EAAMsU,OAAkC,QAAhBtU,EAAMsU,OAAmC,QAAhBtU,EAAMsU,OAAmC,QAAhBtU,EAAMsU,OAAoC,QAAhBtU,EAAMsU,OAAoC,QAAhBtU,EAAMsU,OACzJtU,EAAM2L,kBAQG,OAAf8H,IACsB,qBAAfA,IACQ,gBAAfI,KACY,IAAZE,KACa,IAAbE,KAGC/b,SAASkc,UAAY,SAASpU,IACX,IAAlBA,EAAMqU,SAAqC,OAAhBrU,EAAMsU,OAAkC,QAAhBtU,EAAMsU,OAAmC,QAAhBtU,EAAMsU,OAAmC,QAAhBtU,EAAMsU,OAAoC,QAAhBtU,EAAMsU,OAAoC,QAAhBtU,EAAMsU,OAC3JtU,EAAM2L","file":"static/js/main.95785c44.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass ConfirmAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onConfirm: this.props.onConfirm,\r\n        onCancel: this.props.onCancel\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"confirm_alert_cancel\" onClick={this.state.onCancel}> Cancel </button>\r\n                            <button class=\"confirm_alert_confirm\" onClick={this.state.onConfirm}> Confirm </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ConfirmAlert;","// This is the component that wraps the calendar in a drag and drop context to allow dragging. \r\n\r\nimport { DragDropContext } from \"react-dnd\";\r\nimport HTML5Backend from \"react-dnd-html5-backend\";\r\n\r\nexport default DragDropContext(HTML5Backend);\r\n","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass OnlyAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onOK: this.props.onOK\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"alert_ok\" onClick={this.state.onOK}> OK </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OnlyAlert;","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faClock, faTrash } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nclass ScheduleControlPopup extends Component {\r\n\r\n    componentDidMount() {\r\n        // Automatically select day\r\n        if (this.props.event_rrule.includes(\"MO,TU,WE,TH,FR,SA,SU\")) {\r\n            document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"MO\")) {\r\n            // Automatically select Monday\r\n            document.getElementById(\"ScheduleRepeatMonday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"TU\")) {\r\n            // Automatically select Tuesday\r\n            document.getElementById(\"ScheduleRepeatTuesday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"WE\")) {\r\n            // Automatically select Wednesday\r\n            document.getElementById(\"ScheduleRepeatWednesday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"TH\")) {\r\n            // Automatically select Thursday\r\n            document.getElementById(\"ScheduleRepeatThursday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"FR\")) {\r\n            // Automatically select Friday\r\n            document.getElementById(\"ScheduleRepeatFriday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"SA\")) {\r\n            // Automatically select Saturday\r\n            document.getElementById(\"ScheduleRepeatSaturday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"SU\")) {\r\n            // Automatically select Sunday\r\n            document.getElementById(\"ScheduleRepeatSunday\").checked = true;\r\n        }\r\n\r\n        // Automatically select plug load\r\n        if (this.props.device_type.includes(\"Desktop\")) {\r\n            // Automatically select Desktop\r\n            document.getElementById(\"ScheduleApplyDesktop\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Monitor\")) {\r\n            // Automatically select Monitor\r\n            document.getElementById(\"ScheduleApplyMonitor\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Laptop\")) {\r\n            // Automatically select Laptop\r\n            document.getElementById(\"ScheduleApplyLaptop\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Task Lamp\")) {\r\n            // Automatically select Task Lamp\r\n            document.getElementById(\"ScheduleApplyTaskLamp\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Fan\")) {\r\n            // Automatically select Fan\r\n            document.getElementById(\"ScheduleApplyFan\").checked = true;\r\n        }\r\n    }\r\n\r\n    exitPopup = (e) => {\r\n        if (e.target === document.getElementById(\"schedule_popup_overlay\")) {\r\n            this.props.closeButtonClicked();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div id=\"schedule_popup_overlay\" onClick={this.exitPopup}>\r\n                    <div id=\"schedule_popup\">\r\n                        <p id=\"schedule_device_type\"> {this.props.device_type} </p>\r\n                        <button id=\"schedule_popup_close\" onClick={this.props.closeButtonClicked}> &times; </button>\r\n                        <br/>\r\n                        <input id=\"schedule_name_input\" defaultValue={this.props.event_name.substring(0,this.props.event_name.length-22)} type=\"text\" />\r\n                        <div id=\"schedule_time_input\">\r\n                            <FontAwesomeIcon icon={faClock} style={{color:\"#4E73DF\"}} />\r\n                            <ScheduleControlTimepicker type=\"Start\" time={this.props.event_start.substring(this.props.event_start.length-8, this.props.event_start.length)} />\r\n                            <p style={{display: \"inline-block\", marginRight:\"-5px\", marginLeft:\"5px\"}}> - </p>\r\n                            <ScheduleControlTimepicker type=\"End\" time={this.props.event_end.substring(this.props.event_end.length-8, this.props.event_end.length)} />\r\n                        </div>\r\n                        <div id=\"schedule_repeat_input\">\r\n                            <ScheduleControlRepeat />\r\n                        </div>\r\n                        <div id=\"schedule_apply_input\">\r\n                            <p style={{fontWeight:\"bold\"}}> Also apply to: </p>\r\n                            <ScheduleControlApply devices={[\"Desktop\", \"Monitor\", \"Laptop\", \"Fan\", \"Task Lamp\"]} />\r\n                        </div>\r\n                        <br/>\r\n                        <button id=\"schedule_popup_ok\" onClick={this.props.okButtonClicked}> OK </button>\r\n                        <button id=\"schedule_popup_delete\" onClick={this.props.deleteButtonClicked}> Delete </button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlTimepicker extends Component {\r\n    render() {\r\n        var hour = this.props.time.substring(0,2);\r\n        if (Number(hour) >= 12) {\r\n            var am_pm = \"PM\"\r\n        } else {\r\n            am_pm = \"AM\"\r\n        }\r\n        if (Number(hour) > 12 && Number(hour) < 22) {\r\n            hour = \"0\" + (Number(hour)-12).toString();\r\n        } else {\r\n            if (Number(hour) >= 22) {\r\n                hour = (Number(hour)-12).toString();\r\n            } else {\r\n                if (hour === \"00\") {\r\n                    hour = \"12\"\r\n                }\r\n            }\r\n        }\r\n        var minute = this.props.time.substring(3,5);\r\n\r\n\r\n\r\n        return (\r\n            <div id={this.props.type + \"Time\"}>\r\n                <select id={this.props.type + \"Hour\"} defaultValue={hour}>\r\n                    <option value=\"01\"> 1 </option>\r\n                    <option value=\"02\"> 2 </option>\r\n                    <option value=\"03\"> 3 </option>\r\n                    <option value=\"04\"> 4 </option>\r\n                    <option value=\"05\"> 5 </option>\r\n                    <option value=\"06\"> 6 </option>\r\n                    <option value=\"07\"> 7 </option>\r\n                    <option value=\"08\"> 8 </option>\r\n                    <option value=\"09\"> 9 </option>\r\n                    <option value=\"10\"> 10 </option>\r\n                    <option value=\"11\"> 11 </option>\r\n                    <option value=\"12\"> 12 </option>\r\n                </select>\r\n                <span style={{marginLeft:\"-10px\", marginRight:\"1px\"}}> : </span>\r\n                <select id={this.props.type + \"Minute\"} defaultValue={minute}>\r\n                    <option value=\"00\"> 00 </option>\r\n                    <option value=\"15\"> 15 </option>\r\n                    <option value=\"30\"> 30 </option>\r\n                    <option value=\"45\"> 45 </option>\r\n                </select>\r\n                <select id={this.props.type + \"AMPM\"} defaultValue={am_pm}>\r\n                    <option value=\"AM\"> AM </option>\r\n                    <option value=\"PM\"> PM </option>\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlRepeat extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <p style={{fontWeight:\"bold\"}}> Repeat: </p>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    id=\"ScheduleRepeatEveryDay\"\r\n                    value=\"Every Day\"\r\n                    onClick={function(e) {\r\n                        if (e.target.checked) {\r\n                            document.getElementById(\"ScheduleRepeatMonday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatTuesday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatWednesday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatThursday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatFriday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatSaturday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatSunday\").checked = true;\r\n                        } else {\r\n                            document.getElementById(\"ScheduleRepeatMonday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatTuesday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatWednesday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatThursday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatFriday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatSaturday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatSunday\").checked = false;\r\n                        }\r\n                    }}\r\n                />\r\n                <label htmlFor=\"ScheduleRepeatEveryDay\" style={{marginLeft: \"2px\"}}> Every Day </label>\r\n                <br />\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Monday\"\r\n                        id=\"ScheduleRepeatMonday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatTuesday\").checked && document.getElementById(\"ScheduleRepeatWednesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Monday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Tuesday\"\r\n                        id=\"ScheduleRepeatTuesday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatWednesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Tuesday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Wednesday\"\r\n                        id=\"ScheduleRepeatWednesday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Wednesday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Thursday\"\r\n                        id=\"ScheduleRepeatThursday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Thursday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Friday\"\r\n                        id=\"ScheduleRepeatFriday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Friday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Saturday\"\r\n                        id=\"ScheduleRepeatSaturday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatFriday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Saturday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Sunday\"\r\n                        id=\"ScheduleRepeatSunday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatFriday\").checked && document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Sunday </label>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlApply extends Component {\r\n    render() {\r\n        const devices = this.props.devices.map(device =>\r\n            <ScheduleControlApplyItem device_type={device} />\r\n        )\r\n        return(\r\n            <>\r\n                {devices}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlApplyItem extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"ScheduleApplyOption\"\r\n                    id={\"ScheduleApply\" + this.props.device_type.replace(/\\s/g,'')}\r\n                />\r\n                <label style={{marginLeft: \"2px\"}}> {this.props.device_type} </label>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default ScheduleControlPopup;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport moment from 'moment';\nimport Scheduler, { SchedulerData, ViewTypes } from 'react-big-scheduler';\nimport 'react-big-scheduler/lib/css/style.css';\nimport withDragDropContext from './withDnDContext';\nimport OnlyAlert from './OnlyAlert';\nimport ScheduleControlPopup from './ScheduleControlPopup';\nimport './index.css';\n\nfunction from24to12(hour) {\n    var new_hour = Number(hour.substring(0,2));\n    var am_or_pm = new_hour >= 12 ? \"PM\" : \"AM\";\n    new_hour = (new_hour % 12) || 12;\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \" \" + am_or_pm;\n\n    if (finalTime.length !== 8) {\n        finalTime = \"0\" + finalTime\n    }\n    return (finalTime);\n}\n\nfunction from12to24(hour) {\n    var new_hour = Number(hour.substring(0,2))\n    if (hour.substring(6,8) === \"PM\" && new_hour !== 12) {\n        new_hour = new_hour + 12;\n    }\n    if (hour.substring(6,8) === \"AM\" && new_hour === 12) {\n        new_hour = \"00\"\n    }\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \":00\"\n    if (finalTime.length !== 8) {\n        finalTime = \"0\" + finalTime\n    }\n    return(finalTime)\n}\n\nfunction formatForDatabaseAdd(book, current_user_id) {\n    var event_rrule = \"\"\n    if (book.rrule.substring(60,book.rrule.length).includes(\"MO\")) {\n        event_rrule = event_rrule + \"Monday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TU\")) {\n        event_rrule = event_rrule + \"Tuesday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"WE\")) {\n        event_rrule = event_rrule + \"Wednesday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TH\")) {\n        event_rrule = event_rrule + \"Thursday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"FR\")) {\n        event_rrule = event_rrule + \"Friday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SA\")) {\n        event_rrule = event_rrule + \"Saturday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SU\")) {\n        event_rrule = event_rrule + \"Sunday, \"\n    }\n\n\n    const devices = [\"Desktop\", \"Laptop\", \"Monitor\", \"Task Lamp\", \"Fan\"]\n\n    return({\n        user_id: Number(current_user_id),\n        event_id: book.id,\n        event_start: book.start.substring(book.start.length-8, book.start.length),\n        event_end: book.end.substring(book.end.length-8, book.end.length),\n        event_name: book.title.substring(0, book.title.length-22),\n        event_rrule: event_rrule.substring(0,event_rrule.length-2),\n        device_type_id: book.resourceId,\n        device_type: devices[book.resourceId - 1]\n    })\n}\n\nfunction formatForDatabaseUpdate(book, current_user_id) {\n    var event_rrule = \"\"\n    if (book.rrule.substring(60,book.rrule.length).includes(\"MO\")) {\n        event_rrule = event_rrule + \"Monday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TU\")) {\n        event_rrule = event_rrule + \"Tuesday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"WE\")) {\n        event_rrule = event_rrule + \"Wednesday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TH\")) {\n        event_rrule = event_rrule + \"Thursday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"FR\")) {\n        event_rrule = event_rrule + \"Friday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SA\")) {\n        event_rrule = event_rrule + \"Saturday, \"\n    }\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SU\")) {\n        event_rrule = event_rrule + \"Sunday, \"\n    }\n\n    const devices = [\"Desktop\", \"Laptop\", \"Monitor\", \"Task Lamp\", \"Fan\"]\n\n    if (typeof book.id === \"string\") {\n        var n = book.id.indexOf(\"-\")\n        var event_id = Number(book.id.substring(0,n))\n    } else {\n        event_id = book.id\n    }\n    return({\n        user_id: Number(current_user_id),\n        event_id: event_id,\n        event_start: book.start.substring(book.start.length-8, book.start.length),\n        event_end: book.end.substring(book.end.length-8, book.end.length),\n        event_name: book.title.substring(0, book.title.length-22),\n        event_rrule: event_rrule.substring(0,event_rrule.length-2),\n        device_type_id: book.resourceId,\n        device_type: devices[book.resourceId - 1],\n        id: book.database_id\n    })\n}\n\nfunction processHourInput(type) {\n    var hour = document.getElementById(type + \"Hour\").value;\n    if (document.getElementById(type + \"AMPM\").value === \"PM\") {\n        if (document.getElementById(type + \"Hour\").value !== \"12\") {\n            hour = (Number(document.getElementById(type + \"Hour\").value) + 12).toString();\n        }\n    } else {\n        if (document.getElementById(type + \"Hour\").value === \"12\") {\n            hour = \"00\";\n        }\n    }\n    return(hour)\n}\n\nfunction getDates() {\n    var today = new Date();\n    var mondayDate = new Date();\n    var tuesdayDate = new Date();\n    var wednesdayDate = new Date();\n    var thursdayDate = new Date();\n    var fridayDate = new Date();\n    var saturdayDate = new Date();\n    var sundayDate = new Date();\n\n    if (today.getDay() === 0) {\n        // Today is Sunday\n        mondayDate.setDate(today.getDate() - 6);\n        tuesdayDate.setDate(today.getDate() - 5);\n        wednesdayDate.setDate(today.getDate() - 4);\n        thursdayDate.setDate(today.getDate() - 3);\n        fridayDate.setDate(today.getDate() - 2);\n        saturdayDate.setDate(today.getDate() - 1);\n        sundayDate.setDate(today.getDate());\n    } else {\n        mondayDate.setDate(today.getDate() + (1 - today.getDay()));\n        tuesdayDate.setDate(today.getDate() + (2 - today.getDay()));\n        wednesdayDate.setDate(today.getDate() + (3 - today.getDay()));\n        thursdayDate.setDate(today.getDate() + (4 - today.getDay()));\n        fridayDate.setDate(today.getDate() + (5 - today.getDay()));\n        saturdayDate.setDate(today.getDate() + (6 - today.getDay()));\n        sundayDate.setDate(today.getDate() + (7 - today.getDay()));\n    }\n\n    mondayDate = mondayDate.getFullYear() + \"-\" + ((mondayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (mondayDate.getMonth() + 1).toString() : (mondayDate.getMonth() + 1)) + \"-\" + (mondayDate.getDate().toString().length === 1 ? \"0\" + mondayDate.getDate().toString() : mondayDate.getDate())\n    tuesdayDate = tuesdayDate.getFullYear() + \"-\" + ((tuesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (tuesdayDate.getMonth() + 1).toString() : (tuesdayDate.getMonth() + 1)) + \"-\" + (tuesdayDate.getDate().toString().length === 1 ? \"0\" + tuesdayDate.getDate().toString() : tuesdayDate.getDate())\n    wednesdayDate = wednesdayDate.getFullYear() + \"-\" + ((wednesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (wednesdayDate.getMonth() + 1).toString() : (wednesdayDate.getMonth() + 1)) + \"-\" + (wednesdayDate.getDate().toString().length === 1 ? \"0\" + wednesdayDate.getDate().toString() : wednesdayDate.getDate())\n    thursdayDate = thursdayDate.getFullYear() + \"-\" + ((thursdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (thursdayDate.getMonth() + 1).toString() : (thursdayDate.getMonth() + 1))  + \"-\" + (thursdayDate.getDate().toString().length === 1 ? \"0\" + thursdayDate.getDate().toString() : thursdayDate.getDate())\n    fridayDate = fridayDate.getFullYear() + \"-\" + ((fridayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (fridayDate.getMonth() + 1).toString() : (fridayDate.getMonth() + 1)) + \"-\" + (fridayDate.getDate().toString().length === 1 ? \"0\" + fridayDate.getDate().toString() : fridayDate.getDate())\n    saturdayDate = saturdayDate.getFullYear() + \"-\" + ((saturdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (saturdayDate.getMonth() + 1).toString() : (saturdayDate.getMonth() + 1)) + \"-\" + (saturdayDate.getDate().toString().length === 1 ? \"0\" + saturdayDate.getDate().toString() : saturdayDate.getDate())\n    sundayDate = sundayDate.getFullYear() + \"-\" + ((sundayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (sundayDate.getMonth() + 1).toString() : (sundayDate.getMonth() + 1)) + \"-\" + (sundayDate.getDate().toString().length === 1 ? \"0\" + sundayDate.getDate().toString() : sundayDate.getDate())\n\n    return([mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate])\n}\n\nclass Calendar extends Component {\n    constructor(props) {\n        super(props);\n        let schedulerData = new SchedulerData(\n            this.props.date,\n            ViewTypes.Day,\n            false,\n            false,\n            {\n                checkConflict: true,\n                recurringEventsEnabled: true,\n                scrollToSpecialMomentEnabled: true,\n                crossResourceMove: false\n            }, {\n                getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\n                isNonWorkingTimeFunc: this.isNonWorkingTime\n            }\n        );\n        schedulerData.setResources([{id:1, name:\"Desktop\"}, {id:5, name:\"Fan\"}, {id:2, name:\"Laptop\"}, {id:3, name:\"Monitor\"}, {id:4, name:\"Task Lamp\"}]);\n        schedulerData.setEvents(this.props.events);\n        this.state = {\n            viewModel: schedulerData,\n            achievements_books: [],\n            weekly_achievements_books: [],\n            points_wallet_books: [],\n            key: 1\n        };\n        window.calendar = this;\n    }\n\n    render() {\n        const { viewModel } = this.state;\n        return (\n            <div>\n                <div>\n                    <Scheduler\n                        key={this.state.key}\n                        schedulerData={viewModel}\n                        eventItemClick={this.eventClicked}\n                        updateEventStart={this.updateEventStart}\n                        updateEventEnd={this.updateEventEnd}\n                        moveEvent={this.moveEvent}\n                        newEvent={this.newEvent}\n                        conflictOccurred={this.conflictOccurred}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        this.refetchBonusAchievementsData();\n        this.refetchWeeklyAchievementsData();\n        this.refetchPointsWalletData();\n    }\n\n    refetchBonusAchievementsData = () => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({achievements_books: data})\n        })\n\n        setTimeout(this.refetchBonusAchievementsData, 10000)\n    }\n\n    refetchWeeklyAchievementsData = () => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_weekly/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({weekly_achievements_books: data})\n        })\n\n        setTimeout(this.refetchWeeklyAchievementsData, 10000)\n    }\n\n    refetchPointsWalletData = () => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({points_wallet_books: data})\n        })\n\n        setTimeout(this.refetchPointsWalletData, 10000)\n    }\n\n    updateAchievementsBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.achievements_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({achievements_books: newBooks})\n        })\n    }\n\n    updateWeeklyAchievementsBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_weekly/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.weekly_achievements_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({weekly_achievements_books: newBooks})\n        })\n    }\n\n    updatePointsWalletBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.points_wallet_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({points_wallet_books: newBooks})\n        })\n    }\n\n    handleAchievementsUpdate = (book) => {\n        book.id = this.props.current_user_id;\n        this.updateAchievementsBooks(book);\n    }\n\n    handleWeeklyAchievementsUpdate = (book) => {\n        book.id = this.props.current_user_id;\n        this.updateWeeklyAchievementsBooks(book);\n    }\n\n    handlePointsWalletUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updatePointsWalletBooks(book);\n    }\n\n    handleAchievementsFormSubmit = () => {\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\n    }\n\n    handleWeeklyAchievementsFormSubmit = () => {\n        this.handleWeeklyAchievementsUpdate(this.state.weekly_achievements_books[0])\n    }\n\n    handlePointsWalletFormSubmit = () => {\n        this.handlePointsWalletUpdate(this.state.points_wallet_books[0])\n    }\n\n    isNonWorkingTime = (schedulerData, time) => {\n        return true;\n    }\n\n    getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\n        var time = this.props.date + \" 07:00:00\";\n        return moment(time);\n    }\n\n    eventClicked = (schedulerData, event) => {\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\n\n        function closeButtonClicked() {\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n\n        function deleteButtonClicked() {\n            // Update database (Delete)\n            window.calendar.props.onDeleteClick(event.database_id)\n            window.calendar.props.refetchData();\n\n            // Update calendar\n            schedulerData.removeEvent(event);\n            window.calendar.setState({\n                viewModel: schedulerData\n            });\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n\n        function okButtonClicked() {\n            // Checking conflicts\n            var hasConflict = false;\n            var conflictedEvents = [];\n            var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\n            console.log(plugload_option)\n            var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\n            console.log(repeat_option)\n            var new_days_to_loop_over = [];\n            for (var repeat_day of repeat_option) {\n                if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\n                    new_days_to_loop_over.push(getDates()[0])\n                }\n                if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\n                    new_days_to_loop_over.push(getDates()[1])\n                }\n                if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\n                    new_days_to_loop_over.push(getDates()[2])\n                }\n                if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\n                    new_days_to_loop_over.push(getDates()[3])\n                }\n                if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\n                    new_days_to_loop_over.push(getDates()[4])\n                }\n                if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\n                    new_days_to_loop_over.push(getDates()[5])\n                }\n                if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\n                    new_days_to_loop_over.push(getDates()[6])\n                }\n            }\n            console.log(new_days_to_loop_over)\n\n            var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\n            var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\n\n            var new_start_for_this = \"\";\n            var new_end_for_this = \"\";\n            var existing_start_for_this = \"\";\n            var existing_end_for_this = \"\";\n            for (var new_day of new_days_to_loop_over) {\n                new_start_for_this = new_day + \" \" + new_start;\n                new_end_for_this = new_day + \" \" + new_end;\n                console.log(new_start_for_this)\n                console.log(new_end_for_this)\n                for (var plugload of plugload_option) {\n                    schedulerData.events.forEach(function(e) {\n                        console.log(e)\n                        var current_resource_id = 0\n                        if (plugload.id.contains(\"Desktop\")) {\n                            current_resource_id = 1\n                        }\n                        if (plugload.id.contains(\"Laptop\")) {\n                            current_resource_id = 2\n                        }\n                        if (plugload.id.contains(\"Monitor\")) {\n                            current_resource_id = 3\n                        }\n                        if (plugload.id.contains(\"TaskLamp\")) {\n                            current_resource_id = 4\n                        }\n                        if (plugload.id.contains(\"Fan\")) {\n                            current_resource_id = 5\n                        }\n                        if (e.resourceId === current_resource_id) {\n                            console.log(\"Checking\")\n                            var existing_days_to_loop_over = [];\n                            if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\n                                existing_days_to_loop_over.push(getDates()[0])\n                            }\n                            if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\n                                existing_days_to_loop_over.push(getDates()[1])\n                            }\n                            if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\n                                existing_days_to_loop_over.push(getDates()[2])\n                            }\n                            if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\n                                existing_days_to_loop_over.push(getDates()[3])\n                            }\n                            if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\n                                existing_days_to_loop_over.push(getDates()[4])\n                            }\n                            if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\n                                existing_days_to_loop_over.push(getDates()[5])\n                            }\n                            if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\n                                existing_days_to_loop_over.push(getDates()[6])\n                            }\n                            console.log(existing_days_to_loop_over)\n\n                            for (var existing_day of existing_days_to_loop_over) {\n                                existing_start_for_this = existing_day + e.start.substring(10,19);\n                                existing_end_for_this = existing_day + e.end.substring(10,19);\n                                if (((new_start_for_this >= existing_start_for_this &&\n                                      new_start_for_this < existing_end_for_this) || (\n                                      new_end_for_this > existing_start_for_this &&\n                                      new_end_for_this <= existing_end_for_this) || (\n                                      existing_start_for_this >= new_start_for_this &&\n                                      existing_start_for_this < new_end_for_this) || (\n                                      existing_end_for_this > new_start_for_this &&\n                                      existing_end_for_this <= new_end_for_this)) && (\n                                      e.id !== event.id)) {\n                                        hasConflict = true;\n                                        if (!conflictedEvents.contains(e)) {\n                                            conflictedEvents.push(e)\n                                        }\n                                      }\n                            }\n                        }\n                    })\n                }\n            }\n            console.log(conflictedEvents)\n\n\n            if (hasConflict) {\n                var message = \"Conflict occurred for the following events:\"\n                var day = \"\"\n                for (var events of conflictedEvents) {\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"MO\")) {\n                        day = day + \"Monday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TU\")) {\n                        day = day + \"Tuesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"WE\")) {\n                        day = day + \"Wednesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TH\")) {\n                        day = day + \"Thursday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"FR\")) {\n                        day = day + \"Friday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SA\")) {\n                        day = day + \"Saturday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SU\")) {\n                        day = day + \"Sunday,\"\n                    }\n                    var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n                    message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-1)}`\n                }\n                alert(message)\n            } else {\n                // Rename\n                event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\n                              document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\n                              document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\n                              document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\n\n                // Update start\n                schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\n\n                // Update end\n                schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\n\n                // Update repeat\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\n                                  window.calendar.props.mondayDate.substring(5,7) +\n                                  window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\n                                  window.calendar.props.sundayDate.substring(0,4) +\n                                  window.calendar.props.sundayDate.substring(5,7) +\n                                  window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\n                if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\n                    // Repeat Every Day\n                    event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\n                } else {\n                    if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\n                        event_rrule = event_rrule + \"MO,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\n                        event_rrule = event_rrule + \"TU,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\n                        event_rrule = event_rrule + \"WE,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\n                        event_rrule = event_rrule + \"TH,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\n                        event_rrule = event_rrule + \"FR,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\n                        event_rrule = event_rrule + \"SA,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\n                        event_rrule = event_rrule + \"SU,\"\n                    }\n                    event.rrule = event_rrule.substring(0,event_rrule.length-1)\n                }\n\n                // Apply to other devices\n                document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\n                var newFreshId = 0;\n                schedulerData.events.forEach(item => {\n                    if (item.database_id >= newFreshId || item.id >= newFreshId) {\n                        newFreshId = item.database_id;\n                    }\n                })\n                if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\n                    newFreshId = newFreshId + 1;\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 1,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 3,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 2,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 4,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyFan\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 5,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n\n                // Update calendar\n                window.calendar.setState({\n                    viewModel: schedulerData\n                })\n\n                // Update database (Update)\n                window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\n                window.calendar.props.refetchData();\n\n\n                ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n\n\n                // Update weekly achievement\n                if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\n                    window.calendar.setState({\n                        weekly_achievements_books: [\n                            {\n                                ...window.calendar.state.weekly_achievements_books[0],\n                                schedule_based: 20\n                            }\n                        ]\n                    }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\n                    // If first time clicking, update achievement\n                    if (window.calendar.state.achievements_books[0].first_schedule === 0) {\n                        window.calendar.setState({\n                            achievements_books: [\n                                {\n                                    ...window.calendar.state.achievements_books[0],\n                                    first_schedule: 70\n                                }\n                            ]\n                        }, function() {window.calendar.handleAchievementsFormSubmit()})\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 90\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                        window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n                    } else {\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 20\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                    }\n\n                }\n\n                setTimeout(function() {document.getElementById(window.calendar.props.day + \"Schedule\").click()}, 0.1)\n            }\n        }\n\n         ReactDOM.render(\n            <ScheduleControlPopup\n                device_type={\"Edit Schedule: \" + slotName}\n                event_rrule={event.rrule}\n                event_start={event.start}\n                event_end={event.end}\n                event_name={event.title}\n                okButtonClicked={okButtonClicked}\n                closeButtonClicked={closeButtonClicked}\n                deleteButtonClicked={deleteButtonClicked}\n            />, document.getElementById(\"popup-container-schedule\")\n        )\n    }\n\n    newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\n        let newFreshId = 0;\n        schedulerData.events.forEach(item => {\n            if (item.database_id >= newFreshId || item.id >= newFreshId) newFreshId = item.database_id + 1;\n        });\n\n        let newEvent = {\n            id: newFreshId,\n            title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\n            start: start,\n            end: end,\n            resourceId: slotId,\n            bgColor: \"#06D6A0\",\n            showPopover: false,\n            rrule: \"FREQ=WEEKLY;DTSTART=\" + this.props.mondayDate.substring(0,4) + this.props.mondayDate.substring(5,7) + this.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" + this.props.sundayDate.substring(0,4) + this.props.sundayDate.substring(5,7) + this.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\" + this.props.day.substring(0,2).toUpperCase()\n        }\n\n        schedulerData.addEvent(newEvent);\n        this.setState({\n            viewModel: schedulerData\n        })\n\n        function closeButtonClicked() {\n            // Update database (Add)\n            window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id))\n            window.calendar.props.refetchData();\n\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n        function deleteButtonClicked() {\n            schedulerData.removeEvent(newEvent);\n            window.calendar.setState({\n                viewModel: schedulerData\n            })\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n\n        function okButtonClicked() {\n            // Checking conflicts\n            var hasConflict = false;\n            var conflictedEvents = [];\n            var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\n            var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\n            var new_days_to_loop_over = [];\n            for (var repeat_day of repeat_option) {\n                if (repeat_day.value === \"Monday\") {\n                    new_days_to_loop_over.push(getDates()[0])\n                }\n                if (repeat_day.value === \"Tuesday\") {\n                    new_days_to_loop_over.push(getDates()[1])\n                }\n                if (repeat_day.value === \"Wednesday\") {\n                    new_days_to_loop_over.push(getDates()[2])\n                }\n                if (repeat_day.value === \"Thursday\") {\n                    new_days_to_loop_over.push(getDates()[3])\n                }\n                if (repeat_day.value === \"Friday\") {\n                    new_days_to_loop_over.push(getDates()[4])\n                }\n                if (repeat_day.value === \"Saturday\") {\n                    new_days_to_loop_over.push(getDates()[5])\n                }\n                if (repeat_day.value === \"Sunday\") {\n                    new_days_to_loop_over.push(getDates()[6])\n                }\n            }\n\n            schedulerData.events.forEach(function(e) {\n                var eStart = e.start;\n                var eEnd = e.end;\n                var eRrule = e.rrule;\n                var existing_days_to_loop_over = [];\n                if (eRrule.substring(60, eRrule.length).includes(\"MO\")) {\n                    existing_days_to_loop_over.push(getDates()[0])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TU\")) {\n                    existing_days_to_loop_over.push(getDates()[1])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"WE\")) {\n                    existing_days_to_loop_over.push(getDates()[2])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TH\")) {\n                    existing_days_to_loop_over.push(getDates()[3])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"FR\")) {\n                    existing_days_to_loop_over.push(getDates()[4])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SA\")) {\n                    existing_days_to_loop_over.push(getDates()[5])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SU\")) {\n                    existing_days_to_loop_over.push(getDates()[6])\n                }\n\n                var new_start_for_this = \"\";\n                var new_end_for_this = \"\";\n                var existing_start_for_this = \"\";\n                var existing_end_for_this = \"\";\n                for (var new_day of new_days_to_loop_over) {\n                    new_start_for_this = new_day + newEvent.start.substring(10,19);\n                    new_end_for_this = new_day + newEvent.end.substring(10,19);\n                    if (e.resourceId === newEvent.resourceId) {\n                        for (var existing_day of existing_days_to_loop_over) {\n                            existing_start_for_this = existing_day + eStart.substring(10,19);\n                            existing_end_for_this = existing_day + eEnd.substring(10,19);\n                            if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                  (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                  (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                  (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                  (e.id !== newEvent.id)) {\n                                    hasConflict = true;\n                                    conflictedEvents.push(e);\n                                    break\n                            }\n                        }\n                    }\n                    for (var plugload of plugload_option) {\n                        if (e.resouceId === plugload.value) {\n                            for (var existing_day of existing_days_to_loop_over) {\n                                existing_start_for_this = existing_day + eStart.substring(10,19);\n                                existing_end_for_this = existing_day + eEnd.substring(10,19);\n                                if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                      (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                      (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                      (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                      (e.id !== newEvent.id)) {\n                                        hasConflict = true;\n                                        conflictedEvents.push(e);\n                                        break\n                                }\n                            }\n                        }\n                    }\n                }\n\n            })\n\n            if (hasConflict) {\n                var message = \"Conflict occurred for the following events:\"\n                var day = \"\"\n                for (var events of conflictedEvents) {\n                    if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\n                        day = \"Monday,\"\n                    }\n                    if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\n                        day = \"Tuesday,\"\n                    }\n                    if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\n                        day = \"Wednesday,\"\n                    }\n                    if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\n                        day = \"Thursday,\"\n                    }\n                    if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\n                        day = \"Friday,\"\n                    }\n                    if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\n                        day = \"Saturday,\"\n                    }\n                    if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\n                        day = \"Sunday,\"\n                    }\n                    var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n                    message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-1)}`\n                }\n                alert(message)\n            } else {\n                // Rename\n                newEvent.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\n                                 document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\n                                 document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\n                                 document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\n\n                // Update start\n                schedulerData.updateEventStart(newEvent, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\n\n                // Update end\n                schedulerData.updateEventEnd(newEvent, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\n\n                // Update repeat\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\n                                  window.calendar.props.mondayDate.substring(5,7) +\n                                  window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\n                                  window.calendar.props.sundayDate.substring(0,4) +\n                                  window.calendar.props.sundayDate.substring(5,7) +\n                                  window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\n                if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\n                    // Repeat Every Day\n                    newEvent.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\n                } else {\n                    if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\n                        event_rrule = event_rrule + \"MO,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\n                        event_rrule = event_rrule + \"TU,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\n                        event_rrule = event_rrule + \"WE,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\n                        event_rrule = event_rrule + \"TH,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\n                        event_rrule = event_rrule + \"FR,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\n                        event_rrule = event_rrule + \"SA,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\n                        event_rrule = event_rrule + \"SU,\"\n                    }\n                    newEvent.rrule = event_rrule.substring(0,event_rrule.length-1)\n                }\n\n                // Apply to other devices\n                document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\n\n                if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\n                    newFreshId = newFreshId + 1;\n                    let anotherNewEvent = {\n                        id: newFreshId,\n                        title: newEvent.title,\n                        start: newEvent.start,\n                        end: newEvent.end,\n                        resourceId: 1,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: newEvent.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(anotherNewEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\n                    newFreshId = newFreshId + 1;\n                    let anotherNewEvent = {\n                        id: newFreshId,\n                        title: newEvent.title,\n                        start: newEvent.start,\n                        end: newEvent.end,\n                        resourceId: 3,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: newEvent.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(anotherNewEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\n                    newFreshId = newFreshId + 1\n                    let anotherNewEvent = {\n                        id: newFreshId,\n                        title: newEvent.title,\n                        start: newEvent.start,\n                        end: newEvent.end,\n                        resourceId: 2,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: newEvent.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(anotherNewEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\n                    newFreshId = newFreshId + 1\n                    let anotherNewEvent = {\n                        id: newFreshId,\n                        title: newEvent.title,\n                        start: newEvent.start,\n                        end: newEvent.end,\n                        resourceId: 4,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: newEvent.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(anotherNewEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyFan\").checked) {\n                    newFreshId = newFreshId + 1\n                    let anotherNewEvent = {\n                        id: newFreshId,\n                        title: newEvent.title,\n                        start: newEvent.start,\n                        end: newEvent.end,\n                        resourceId: 5,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: newEvent.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(anotherNewEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n\n                // Update calendar\n                window.calendar.setState({\n                    viewModel: schedulerData\n                })\n\n                // Update database (Add)\n                window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                window.calendar.props.refetchData();\n\n                ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n\n                // Update weekly achievement\n                if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\n                    window.calendar.setState({\n                        weekly_achievements_books: [\n                            {\n                                ...window.calendar.state.weekly_achievements_books[0],\n                                schedule_based: 20\n                            }\n                        ]\n                    }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\n\n                    // If first time clicking, update achievement\n                    if (window.calendar.state.achievements_books[0].first_schedule === 0) {\n                        window.calendar.setState({\n                            achievements_books: [\n                                {\n                                    ...window.calendar.state.achievements_books[0],\n                                    first_schedule: 70\n                                }\n                            ]\n                        }, function() {window.calendar.handleAchievementsFormSubmit()})\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 90\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                        window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n                    } else {\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 20\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                    }\n                }\n\n                setTimeout(function() {document.getElementById(window.calendar.props.day + \"Schedule\").click()}, 0.1)\n            }\n        }\n\n\n        ReactDOM.render(\n            <ScheduleControlPopup\n                device_type={\"Add Schedule: \" + slotName}\n                event_rrule={newEvent.rrule}\n                event_start={newEvent.start}\n                event_end={newEvent.end}\n                event_name={newEvent.title}\n                okButtonClicked={okButtonClicked}\n                closeButtonClicked={closeButtonClicked}\n                deleteButtonClicked={deleteButtonClicked}\n            />, document.getElementById(\"popup-container-schedule\")\n        )\n    }\n\n    updateEventStart = (schedulerData, event, newStart) => {\n        var old_start = event.start;\n        schedulerData.updateEventStart(event, newStart);\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(newStart).format('HH:mm')) + \" - \" + from24to12(moment(event.end).format('HH:mm')) + \")\";\n        this.setState({\n            viewModel: schedulerData\n        })\n\n        function closeButtonClicked() {\n            // Update database (Update)\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\n            window.calendar.props.refetchData();\n\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n        function deleteButtonClicked() {\n            // Update calendar\n            schedulerData.removeEvent(event);\n            window.calendar.setState({\n                viewModel: schedulerData\n            })\n\n            // Update database\n            window.calendar.props.onDeleteClick(event.database_id);\n            window.calendar.props.refetchData();\n\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n\n        function okButtonClicked() {\n            // Checking conflicts\n            var hasConflict = false;\n            var conflictedEvents = [];\n            var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\n            var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\n            var new_days_to_loop_over = [];\n            for (var repeat_day of repeat_option) {\n                if (repeat_day.value === \"Monday\") {\n                    new_days_to_loop_over.push(getDates()[0])\n                }\n                if (repeat_day.value === \"Tuesday\") {\n                    new_days_to_loop_over.push(getDates()[1])\n                }\n                if (repeat_day.value === \"Wednesday\") {\n                    new_days_to_loop_over.push(getDates()[2])\n                }\n                if (repeat_day.value === \"Thursday\") {\n                    new_days_to_loop_over.push(getDates()[3])\n                }\n                if (repeat_day.value === \"Friday\") {\n                    new_days_to_loop_over.push(getDates()[4])\n                }\n                if (repeat_day.value === \"Saturday\") {\n                    new_days_to_loop_over.push(getDates()[5])\n                }\n                if (repeat_day.value === \"Sunday\") {\n                    new_days_to_loop_over.push(getDates()[6])\n                }\n            }\n\n            schedulerData.events.forEach(function(e) {\n                var eStart = e.start;\n                var eEnd = e.end;\n                var eRrule = e.rrule;\n                var existing_days_to_loop_over = [];\n                if (eRrule.substring(60, eRrule.length).includes(\"MO\")) {\n                    existing_days_to_loop_over.push(getDates()[0])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TU\")) {\n                    existing_days_to_loop_over.push(getDates()[1])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"WE\")) {\n                    existing_days_to_loop_over.push(getDates()[2])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TH\")) {\n                    existing_days_to_loop_over.push(getDates()[3])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"FR\")) {\n                    existing_days_to_loop_over.push(getDates()[4])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SA\")) {\n                    existing_days_to_loop_over.push(getDates()[5])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SU\")) {\n                    existing_days_to_loop_over.push(getDates()[6])\n                }\n\n                var new_start_for_this = \"\";\n                var new_end_for_this = \"\";\n                var existing_start_for_this = \"\";\n                var existing_end_for_this = \"\";\n                for (var new_day of new_days_to_loop_over) {\n                    new_start_for_this = new_day + event.start.substring(10,19);\n                    new_end_for_this = new_day + event.end.substring(10,19);\n                    if (e.resourceId === event.resourceId) {\n                        for (var existing_day of existing_days_to_loop_over) {\n                            existing_start_for_this = existing_day + eStart.substring(10,19);\n                            existing_end_for_this = existing_day + eEnd.substring(10,19);\n                            if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                  (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                  (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                  (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                  (e.id !== event.id)) {\n                                    hasConflict = true;\n                                    conflictedEvents.push(e);\n                                    break\n                            }\n                        }\n                    }\n                    for (var plugload of plugload_option) {\n                        if (e.resouceId === plugload.value) {\n                            for (var existing_day of existing_days_to_loop_over) {\n                                existing_start_for_this = existing_day + eStart.substring(10,19);\n                                existing_end_for_this = existing_day + eEnd.substring(10,19);\n                                if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                      (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                      (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                      (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                      (e.id !== event.id)) {\n                                        hasConflict = true;\n                                        conflictedEvents.push(e);\n                                        break\n                                }\n                            }\n                        }\n                    }\n                }\n\n            })\n\n            if (hasConflict) {\n                var message = \"Conflict occurred for the following events:\"\n                var day = \"\"\n                for (var events of conflictedEvents) {\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"MO\")) {\n                        day = \"Monday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TU\")) {\n                        day = \"Tuesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"WE\")) {\n                        day = \"Wednesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TH\")) {\n                        day = \"Thursday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"FR\")) {\n                        day = \"Friday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SA\")) {\n                        day = \"Saturday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SU\")) {\n                        day = \"Sunday,\"\n                    }\n                    var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n                    message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-1)}`\n                }\n                alert(message)\n            } else {\n                // Rename\n                event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\n                              document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\n                              document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\n                              document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\n\n                // Update start\n                schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\n\n                // Update end\n                schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\n\n                // Update repeat\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\n                                  window.calendar.props.mondayDate.substring(5,7) +\n                                  window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\n                                  window.calendar.props.sundayDate.substring(0,4) +\n                                  window.calendar.props.sundayDate.substring(5,7) +\n                                  window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\n                if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\n                    // Repeat Every Day\n                    event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\n                } else {\n                    if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\n                        event_rrule = event_rrule + \"MO,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\n                        event_rrule = event_rrule + \"TU,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\n                        event_rrule = event_rrule + \"WE,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\n                        event_rrule = event_rrule + \"TH,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\n                        event_rrule = event_rrule + \"FR,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\n                        event_rrule = event_rrule + \"SA,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\n                        event_rrule = event_rrule + \"SU,\"\n                    }\n                    event.rrule = event_rrule.substring(0,event_rrule.length-1)\n                }\n\n                // Apply to other devices\n                document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\n                var newFreshId = 0;\n                schedulerData.events.forEach(item => {\n                    if (item.database_id >= newFreshId || item.id >= newFreshId) {\n                        newFreshId = item.database_id;\n                    }\n                })\n\n                if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\n                    newFreshId = newFreshId + 1;\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 1,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 3,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 2,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 4,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyFan\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 5,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n\n                // Update calendar\n                window.calendar.setState({\n                    viewModel: schedulerData\n                })\n\n                // Update database (Update)\n                window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\n                window.calendar.props.refetchData();\n\n                ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n\n\n\n                // Update weekly achievement\n                if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\n                    window.calendar.setState({\n                        weekly_achievements_books: [\n                            {\n                                ...window.calendar.state.weekly_achievements_books[0],\n                                schedule_based: 20\n                            }\n                        ]\n                    }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\n                    // If first time clicking, update achievement\n                    if (window.calendar.state.achievements_books[0].first_schedule === 0) {\n                        window.calendar.setState({\n                            achievements_books: [\n                                {\n                                    ...window.calendar.state.achievements_books[0],\n                                    first_schedule: 70\n                                }\n                            ]\n                        }, function() {window.calendar.handleAchievementsFormSubmit()})\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 90\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                        window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n                    } else {\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 20\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                    }\n                }\n\n                setTimeout(function() {document.getElementById(window.calendar.props.day + \"Schedule\").click()}, 0.1)\n            }\n        }\n\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\n        ReactDOM.render(\n            <ScheduleControlPopup\n                device_type={\"Edit Schedule: \" + slotName}\n                event_rrule={event.rrule}\n                event_start={newStart}\n                event_end={event.end}\n                event_name={event.title}\n                okButtonClicked={okButtonClicked}\n                closeButtonClicked={closeButtonClicked}\n                deleteButtonClicked={deleteButtonClicked}\n            />, document.getElementById(\"popup-container-schedule\")\n        )\n    }\n\n    updateEventEnd = (schedulerData, event, newEnd) => {\n        var old_end = event.end;\n        schedulerData.updateEventEnd(event, newEnd);\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(event.start).format('HH:mm')) + \" - \" + from24to12(moment(newEnd).format('HH:mm')) + \")\";\n        this.setState({\n            viewModel: schedulerData\n        })\n\n        function closeButtonClicked() {\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n\n            // Update database (Update)\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\n            window.calendar.props.refetchData();\n        }\n        function deleteButtonClicked() {\n            // Update database (Delete)\n            window.calendar.props.onDeleteClick(event.database_id)\n            window.calendar.props.refetchData();\n\n            // Update calendar\n            schedulerData.removeEvent(event);\n            window.calendar.setState({\n                viewModel: schedulerData\n            })\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n\n        function okButtonClicked() {\n            // Checking conflicts\n            var hasConflict = false;\n            var conflictedEvents = [];\n            var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\n            var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\n            var new_days_to_loop_over = [];\n            for (var repeat_day of repeat_option) {\n                if (repeat_day.value === \"Monday\") {\n                    new_days_to_loop_over.push(getDates()[0])\n                }\n                if (repeat_day.value === \"Tuesday\") {\n                    new_days_to_loop_over.push(getDates()[1])\n                }\n                if (repeat_day.value === \"Wednesday\") {\n                    new_days_to_loop_over.push(getDates()[2])\n                }\n                if (repeat_day.value === \"Thursday\") {\n                    new_days_to_loop_over.push(getDates()[3])\n                }\n                if (repeat_day.value === \"Friday\") {\n                    new_days_to_loop_over.push(getDates()[4])\n                }\n                if (repeat_day.value === \"Saturday\") {\n                    new_days_to_loop_over.push(getDates()[5])\n                }\n                if (repeat_day.value === \"Sunday\") {\n                    new_days_to_loop_over.push(getDates()[6])\n                }\n            }\n\n            schedulerData.events.forEach(function(e) {\n                var eStart = e.start;\n                var eEnd = e.end;\n                var eRrule = e.rrule;\n                var existing_days_to_loop_over = [];\n                if (eRrule.substring(60, eRrule.length).includes(\"MO\")) {\n                    existing_days_to_loop_over.push(getDates()[0])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TU\")) {\n                    existing_days_to_loop_over.push(getDates()[1])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"WE\")) {\n                    existing_days_to_loop_over.push(getDates()[2])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TH\")) {\n                    existing_days_to_loop_over.push(getDates()[3])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"FR\")) {\n                    existing_days_to_loop_over.push(getDates()[4])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SA\")) {\n                    existing_days_to_loop_over.push(getDates()[5])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SU\")) {\n                    existing_days_to_loop_over.push(getDates()[6])\n                }\n\n                var new_start_for_this = \"\";\n                var new_end_for_this = \"\";\n                var existing_start_for_this = \"\";\n                var existing_end_for_this = \"\";\n                for (var new_day of new_days_to_loop_over) {\n                    new_start_for_this = new_day + event.start.substring(10,19);\n                    new_end_for_this = new_day + event.end.substring(10,19);\n                    if (e.resourceId === event.resourceId) {\n                        for (var existing_day of existing_days_to_loop_over) {\n                            existing_start_for_this = existing_day + eStart.substring(10,19);\n                            existing_end_for_this = existing_day + eEnd.substring(10,19);\n                            if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                  (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                  (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                  (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                  (e.id !== event.id)) {\n                                    hasConflict = true;\n                                    conflictedEvents.push(e);\n                                    break\n                            }\n                        }\n                    }\n                    for (var plugload of plugload_option) {\n                        if (e.resouceId === plugload.value) {\n                            for (var existing_day of existing_days_to_loop_over) {\n                                existing_start_for_this = existing_day + eStart.substring(10,19);\n                                existing_end_for_this = existing_day + eEnd.substring(10,19);\n                                if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                      (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                      (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                      (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                      (e.id !== event.id)) {\n                                        hasConflict = true;\n                                        conflictedEvents.push(e);\n                                        break\n                                }\n                            }\n                        }\n                    }\n                }\n\n            })\n\n            if (hasConflict) {\n                var message = \"Conflict occured for the following events:\"\n                var day = \"\"\n                for (var events of conflictedEvents) {\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"MO\")) {\n                        day = \"Monday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TU\")) {\n                        day = \"Tuesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"WE\")) {\n                        day = \"Wednesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TH\")) {\n                        day = \"Thursday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"FR\")) {\n                        day = \"Friday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SA\")) {\n                        day = \"Saturday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SU\")) {\n                        day = \"Sunday,\"\n                    }\n                    var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n                    message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-1)}`\n                }\n                alert(message)\n            } else {\n                // Rename\n                event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\n                              document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\n                              document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\n                              document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\n\n                // Update start\n                schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\n\n                // Update end\n                schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\n\n                // Update repeat\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\n                                  window.calendar.props.mondayDate.substring(5,7) +\n                                  window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\n                                  window.calendar.props.sundayDate.substring(0,4) +\n                                  window.calendar.props.sundayDate.substring(5,7) +\n                                  window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\n                if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\n                    // Repeat Every Day\n                    event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\n                } else {\n                    if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\n                        event_rrule = event_rrule + \"MO,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\n                        event_rrule = event_rrule + \"TU,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\n                        event_rrule = event_rrule + \"WE,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\n                        event_rrule = event_rrule + \"TH,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\n                        event_rrule = event_rrule + \"FR,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\n                        event_rrule = event_rrule + \"SA,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\n                        event_rrule = event_rrule + \"SU,\"\n                    }\n                    event.rrule = event_rrule.substring(0,event_rrule.length-1)\n                }\n\n                // Apply to other devices\n                document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\n                let newFreshId = 0;\n                schedulerData.events.forEach(item => {\n                    if (item.database_id >= newFreshId || item.id >= newFreshId) {\n                        newFreshId = item.database_id;\n                    }\n                })\n                if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\n                    newFreshId = newFreshId + 1;\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 1,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 3,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 2,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 4,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyFan\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 5,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n\n                // Update calendar\n                window.calendar.setState({\n                    viewModel: schedulerData\n                })\n\n                // Update database (Update)\n                window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\n                window.calendar.props.refetchData();\n\n                ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n\n                // Update weekly achievement\n                if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\n                    window.calendar.setState({\n                        weekly_achievements_books: [\n                            {\n                                ...window.calendar.state.weekly_achievements_books[0],\n                                schedule_based: 20\n                            }\n                        ]\n                    }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\n                    // If first time clicking, update achievement\n                    if (window.calendar.state.achievements_books[0].first_schedule === 0) {\n                        window.calendar.setState({\n                            achievements_books: [\n                                {\n                                    ...window.calendar.state.achievements_books[0],\n                                    first_schedule: 70\n                                }\n                            ]\n                        }, function() {window.calendar.handleAchievementsFormSubmit()})\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 90\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                        window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n                    } else {\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 20\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                    }\n                }\n\n                setTimeout(function() {document.getElementById(window.calendar.props.day + \"Schedule\").click()}, 0.1)\n            }\n        }\n\n\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\n        ReactDOM.render(\n            <ScheduleControlPopup\n                device_type={\"Edit Schedule: \" + slotName}\n                event_rrule={event.rrule}\n                event_start={event.start}\n                event_end={newEnd}\n                event_name={event.title}\n                okButtonClicked={okButtonClicked}\n                closeButtonClicked={closeButtonClicked}\n                deleteButtonClicked={deleteButtonClicked}\n            />, document.getElementById(\"popup-container-schedule\")\n        )\n    }\n\n    moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\n        var old_start = event.start;\n        var old_end = event.end;\n        schedulerData.updateEventStart(event, start);\n        schedulerData.updateEventEnd(event, end);\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(start).format('HH:mm')) + \" - \" + from24to12(moment(end).format('HH:mm')) + \")\";\n        this.setState({\n            viewModel: schedulerData\n        })\n\n        function closeButtonClicked() {\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n\n            // Update database (Update)\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\n            window.calendar.props.refetchData();\n        }\n\n        function deleteButtonClicked() {\n            // Update database (Delete)\n            window.calendar.props.onDeleteClick(event.database_id);\n            window.calendar.props.refetchData();\n\n            // Update calendar\n            schedulerData.removeEvent(event);\n            window.calendar.setState({\n                viewModel: schedulerData\n            })\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n        }\n\n        function okButtonClicked() {\n            // Checking conflicts\n            var hasConflict = false;\n            var conflictedEvents = [];\n            var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\n            var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\n            var new_days_to_loop_over = [];\n            for (var repeat_day of repeat_option) {\n                if (repeat_day.value === \"Monday\") {\n                    new_days_to_loop_over.push(getDates()[0])\n                }\n                if (repeat_day.value === \"Tuesday\") {\n                    new_days_to_loop_over.push(getDates()[1])\n                }\n                if (repeat_day.value === \"Wednesday\") {\n                    new_days_to_loop_over.push(getDates()[2])\n                }\n                if (repeat_day.value === \"Thursday\") {\n                    new_days_to_loop_over.push(getDates()[3])\n                }\n                if (repeat_day.value === \"Friday\") {\n                    new_days_to_loop_over.push(getDates()[4])\n                }\n                if (repeat_day.value === \"Saturday\") {\n                    new_days_to_loop_over.push(getDates()[5])\n                }\n                if (repeat_day.value === \"Sunday\") {\n                    new_days_to_loop_over.push(getDates()[6])\n                }\n            }\n\n            schedulerData.events.forEach(function(e) {\n                var eStart = e.start;\n                var eEnd = e.end;\n                var eRrule = e.rrule;\n                var existing_days_to_loop_over = [];\n                if (eRrule.substring(60, eRrule.length).includes(\"MO\")) {\n                    existing_days_to_loop_over.push(getDates()[0])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TU\")) {\n                    existing_days_to_loop_over.push(getDates()[1])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"WE\")) {\n                    existing_days_to_loop_over.push(getDates()[2])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"TH\")) {\n                    existing_days_to_loop_over.push(getDates()[3])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"FR\")) {\n                    existing_days_to_loop_over.push(getDates()[4])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SA\")) {\n                    existing_days_to_loop_over.push(getDates()[5])\n                }\n                if (eRrule.substring(60, eRrule.length).includes(\"SU\")) {\n                    existing_days_to_loop_over.push(getDates()[6])\n                }\n\n                var new_start_for_this = \"\";\n                var new_end_for_this = \"\";\n                var existing_start_for_this = \"\";\n                var existing_end_for_this = \"\";\n                for (var new_day of new_days_to_loop_over) {\n                    new_start_for_this = new_day + event.start.substring(10,19);\n                    new_end_for_this = new_day + event.end.substring(10,19);\n                    if (e.resourceId === event.resourceId) {\n                        for (var existing_day of existing_days_to_loop_over) {\n                            existing_start_for_this = existing_day + eStart.substring(10,19);\n                            existing_end_for_this = existing_day + eEnd.substring(10,19);\n                            if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                  (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                  (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                  (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                  (e.id !== event.id)) {\n                                    hasConflict = true;\n                                    conflictedEvents.push(e);\n                                    break\n                            }\n                        }\n                    }\n                    for (var plugload of plugload_option) {\n                        if (e.resouceId === plugload.value) {\n                            for (var existing_day of existing_days_to_loop_over) {\n                                existing_start_for_this = existing_day + eStart.substring(10,19);\n                                existing_end_for_this = existing_day + eEnd.substring(10,19);\n                                if (((new_start_for_this >= existing_start_for_this && new_start_for_this < existing_end_for_this) ||\n                                      (new_end_for_this > existing_start_for_this && new_end_for_this <= existing_end_for_this) ||\n                                      (existing_start_for_this >= new_start_for_this && existing_start_for_this < new_end_for_this) ||\n                                      (existing_end_for_this > new_start_for_this && existing_end_for_this <= new_end_for_this)) &&\n                                      (e.id !== event.id)) {\n                                        hasConflict = true;\n                                        conflictedEvents.push(e);\n                                        break\n                                }\n                            }\n                        }\n                    }\n                }\n\n            })\n\n            if (hasConflict) {\n                var message = \"Conflict occured for the following events:\"\n                var day = \"\"\n                for (var events of conflictedEvents) {\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"MO\")) {\n                        day = \"Monday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TU\")) {\n                        day = \"Tuesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"WE\")) {\n                        day = \"Wednesday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"TH\")) {\n                        day = \"Thursday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"FR\")) {\n                        day = \"Friday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SA\")) {\n                        day = \"Saturday,\"\n                    }\n                    if (events.rrule.substring(60,event.rrule.length).includes(\"SU\")) {\n                        day = \"Sunday,\"\n                    }\n                    var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\n                    message += `\\n- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-1)}`\n                }\n                alert(message)\n            } else {\n                // Rename\n                event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\n                              document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\n                              document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\n                              document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\n\n                // Update start\n                schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\n\n                // Update end\n                schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\n\n                // Update repeat\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.mondayDate.substring(0,4) +\n                                  window.calendar.props.mondayDate.substring(5,7) +\n                                  window.calendar.props.mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" +\n                                  window.calendar.props.sundayDate.substring(0,4) +\n                                  window.calendar.props.sundayDate.substring(5,7) +\n                                  window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\n                if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\n                    // Repeat Every Day\n                    event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\n                } else {\n                    if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\n                        event_rrule = event_rrule + \"MO,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\n                        event_rrule = event_rrule + \"TU,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\n                        event_rrule = event_rrule + \"WE,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\n                        event_rrule = event_rrule + \"TH,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\n                        event_rrule = event_rrule + \"FR,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\n                        event_rrule = event_rrule + \"SA,\"\n                    }\n                    if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\n                        event_rrule = event_rrule + \"SU,\"\n                    }\n                    event.rrule = event_rrule.substring(0,event_rrule.length-1)\n                }\n\n                // Apply to other devices\n                var newFreshId = 0;\n                schedulerData.events.forEach(item => {\n                    if (item.database_id >= newFreshId || item.id >= newFreshId) {\n                        newFreshId = item.database_id;\n                    }\n                })\n                document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\n                if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 1,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 3,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 2,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 4,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n                if (document.getElementById(\"ScheduleApplyFan\").checked) {\n                    newFreshId = newFreshId + 1\n                    let newEvent = {\n                        id: newFreshId,\n                        title: event.title,\n                        start: event.start,\n                        end: event.end,\n                        resourceId: 5,\n                        bgColor: \"#06D6A0\",\n                        showPopover: false,\n                        rrule: event.rrule\n                    }\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\n                    schedulerData.addEvent(newEvent);\n                    window.calendar.setState({\n                        viewModel: schedulerData\n                    })\n                }\n\n                // Update calendar\n                window.calendar.setState({\n                    viewModel: schedulerData\n                })\n\n                // Update database (Update)\n                window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\n                window.calendar.props.refetchData();\n\n                ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\n\n                // Update weekly achievement\n                if (window.calendar.state.weekly_achievements_books[0].schedule_based === 0) {\n                    window.calendar.setState({\n                        weekly_achievements_books: [\n                            {\n                                ...window.calendar.state.weekly_achievements_books[0],\n                                schedule_based: 20\n                            }\n                        ]\n                    }, function() {window.calendar.handleWeeklyAchievementsFormSubmit()})\n                    // If first time clicking, update achievement\n                    if (window.calendar.state.achievements_books[0].first_schedule === 0) {\n                        window.calendar.setState({\n                            achievements_books: [\n                                {\n                                    ...window.calendar.state.achievements_books[0],\n                                    first_schedule: 70\n                                }\n                            ]\n                        }, function() {window.calendar.handleAchievementsFormSubmit()})\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 90\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                        window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n                    } else {\n                        window.calendar.setState({\n                            points_wallet_books: [\n                                {\n                                    ...window.calendar.state.points_wallet_books[0],\n                                    points: window.calendar.state.points_wallet_books[0].points + 20\n                                }\n                            ]\n                        }, function() {window.calendar.handlePointsWalletFormSubmit()})\n                    }\n                }\n            }\n        }\n\n\n        ReactDOM.render(\n            <ScheduleControlPopup\n                device_type={\"Edit Schedule: \" + slotName}\n                event_rrule={event.rrule}\n                event_start={start}\n                event_end={end}\n                event_name={event.title}\n                okButtonClicked={okButtonClicked}\n                closeButtonClicked={closeButtonClicked}\n                deleteButtonClicked={deleteButtonClicked}\n            />, document.getElementById(\"popup-container-schedule\")\n        )\n    }\n\n    conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\n        console.log(action)\n        console.log(type)\n        ReactDOM.render(\n            <OnlyAlert\n                message={\"This is conflicting with a schedule set for \" + slotName + \".\"}\n                onOK={function() {\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\n                }}\n            />, document.getElementById(\"confirm-alert\")\n        )\n    }\n\n}\n\nexport default withDragDropContext(Calendar);","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ConfirmAlert from './ConfirmAlert';\nimport Calendar from './Calendar';\n\nfunction compare(a,b) {\n    let comparison = 0;\n    if (a.device_type > b.device_type) {\n        comparison = 1;\n    } else if (a.device_type < b.device_type) {\n        comparison = -1\n    }\n    return comparison\n}\n\n// Remote Control\n\nclass RemoteControlDashboard extends Component {\n    state = {\n        books: [],\n        key: 1\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    fetchData = () => {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/remote/')\n        .then(response => response.json())\n        .then(data => {\n            data.sort(compare);\n            this.setState({books: data, key: this.state.key+1})\n        })\n\n        setTimeout(this.fetchData, 5000)\n    }\n\n    updateBook = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/remote/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook)\n                } else {\n                    return book;\n                }\n            });\n            this.setState({books: newBooks});\n        })\n    }\n\n    render() {\n        return (\n            <>\n                <div id=\"remote_control_space\">\n                    <RemoteControlList\n                        key={this.state.key}\n                        books={this.state.books}\n                        onUpdateClick={this.updateBook}\n                    />\n                </div>\n                <p style={{float:\"right\"}}> Note: It will take around 5 seconds for your devices to be switched ON/OFF. </p>\n            </>\n        )\n    }\n}\n\nclass RemoteControlList extends Component {\n    render() {\n        const books = this.props.books.map(book => (\n            <RemoteControlEditableItem\n                key={book.id}\n                id={book.id}\n                user_id={book.user_id}\n                device_type={book.device_type}\n                device_state={book.device_state}\n                onUpdateClick={this.props.onUpdateClick}\n            />\n        ));\n        return (\n            <>\n                <div style={{float:\"right\"}}>\n                    <p style={{marginLeft:\"50px\", marginBottom:\"5px\"}}> Master </p>\n                    <RemoteToggleButton id=\"master\" defaultChecked={true} books={this.props.books} />\n                </div>\n                <br/>\n                <br/>\n                <div style={{margin:\"auto\", width:\"fit-content\"}}>\n                    {books}\n                </div>\n            </>\n        )\n    }\n}\n\nclass RemoteControlEditableItem extends Component {\n    handleUpdate = (book) => {\n        book.id = this.props.id;\n        this.props.onUpdateClick(book);\n    }\n\n    render() {\n        const component = () => {\n            return (\n                <>\n                    <RemoteControlItem\n                        id={this.props.id}\n                        user_id={this.props.user_id}\n                        device_type={this.props.device_type}\n                        device_state={this.props.device_state}\n                        onFormSubmit={this.handleUpdate}\n                    />\n                </>\n            )\n        }\n        return (\n            component()\n        )\n    }\n}\n\nclass RemoteControlItem extends Component {\n    state = {\n        user_id: this.props.user_id,\n        device_type: this.props.device_type,\n        device_state: this.props.device_state,\n        achievements_books: [],\n        points_wallet_books: []\n    }\n\n    componentDidMount() {\n        // Fetch data for achievements\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({achievements_books: data})\n        })\n\n        // Fetch data for points wallet\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({points_wallet_books: data})\n        })\n\n        Main();\n    }\n\n    updateAchievementsBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.achievements_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({achievements_books: newBooks})\n        })\n    }\n\n    updatePointsWalletBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.points_wallet_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({points_wallet_books: newBooks})\n        })\n    }\n\n    handleAchievementsUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updateAchievementsBooks(book);\n    }\n\n    handlePointsWalletUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updatePointsWalletBooks(book);\n    }\n\n    handleAchievementsFormSubmit = () => {\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\n    }\n\n    handlePointsWalletFormSubmit = () => {\n        this.handlePointsWalletUpdate(this.state.points_wallet_books[0])\n    }\n\n    handleFormSubmit = () => {\n        this.props.onFormSubmit({...this.state});\n    }\n\n    onConfirm1 = () => {\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_confirmed).checked = false;\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n        Main();\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_remote === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_remote: 60\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 60\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n             // Open the calendar for today\n             const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n             var today = new Date();\n             var wanted_id = days[today.getDay()] + \"Calendar\";\n             document.getElementById(wanted_id).className=\"selected\";\n             setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onConfirm2 = () => {\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_confirmed).checked = true;\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n        Main();\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_remote === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_remote: 60\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 60\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onCancel1 = () => {\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_cancelled).checked = true;\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onCancel2 = () => {\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\n        document.getElementById(to_be_cancelled).checked = false;\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onChange = (e) => {\n        e.preventDefault();\n        if (this.state.device_type === \"Desktop\" || this.state.device_type === \"Laptop\") {\n            if (this.state.device_state === true) {\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\n                    // Switch OFF\n                    this.setState({device_state: false}, function() {this.handleFormSubmit()})\n                } else {\n                    ReactDOM.render(<ConfirmAlert\n                                        message={\"You are switching off your \" + this.state.device_type + \".\"}\n                                        onConfirm = {this.onConfirm1}\n                                        onCancel = {this.onCancel1}\n                                    />, document.getElementById(\"confirm-alert\"))\n                }\n            } else {\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\n                    // Switch ON\n                    this.setState({device_state: true}, function() {this.handleFormSubmit()})\n                } else {\n                    ReactDOM.render(<ConfirmAlert\n                                        message={\"You are switching on your \" + this.state.device_type + \".\"}\n                                        onConfirm = {this.onConfirm2}\n                                        onCancel = {this.onCancel2}\n                                    />, document.getElementById(\"confirm-alert\"))\n                }\n            }\n        } else {\n            // Update database\n            this.setState({device_state: e.target.checked}, function() {this.handleFormSubmit()})\n            Main();\n\n            // If first time clicking, update achievement\n            if (this.state.achievements_books[0].first_remote === 0) {\n                this.setState({\n                    achievements_books: [\n                        {\n                            ...this.state.achievements_books[0],\n                            first_remote: 60\n                        }\n                    ]\n                }, function() {this.handleAchievementsFormSubmit()})\n                this.setState({\n                    points_wallet_books: [\n                        {\n                            ...this.state.points_wallet_books[0],\n                            points: this.state.points_wallet_books[0].points + 60\n                        }\n                    ]\n                }, function() {this.handlePointsWalletFormSubmit()})\n                window.presencecontrol.setState({key: window.presencecontrol.state.key + 1})\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n        }\n    }\n\n    render() {\n\n        if (this.state.device_state === false) {\n            var remote_control_outer_ring = \"greyRing\";\n            var remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\n        } else {\n            remote_control_outer_ring = \"greenRing\";\n            remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\n        }\n\n        return (\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxRemote\"} className=\"containerRemote\">\n                <p style={{textAlign:\"center\", fontWeight:\"bold\", color:\"black\"}}> {this.state.device_type} </p>\n                <div id={this.state.device_type.replace(/\\s/g,'') + \"IconRemote\"}>\n                    <div class={remote_control_outer_ring}>\n                        <div class=\"whiteRing\">\n                            <img class=\"PlugLoadIcon\" src={remote_control_image} alt=\"Icon\" />\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"toggle-switch\">\n                    <input\n                        type=\"checkbox\"\n                        className=\"toggle-switch-checkbox\"\n                        id={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}\n                        checked={this.state.device_state}\n                        defaultChecked={this.state.device_state}\n                        onChange={this.onChange}\n                    />\n                    <label className=\"toggle-switch-label\" htmlFor={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}>\n                        <span className=\"toggle-switch-inner\" data-yes=\"ON\" data-no=\"OFF\" />\n                        <span className=\"toggle-switch-switch\" />\n                    </label>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass RemoteToggleButton extends Component {\n    state = {\n        checked: this.props.defaultChecked\n    };\n\n    constructor(props) {\n        super(props);\n        window.master = this;\n    }\n\n    onConfirm1 = () => {\n        // Switch OFF all plug loads\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\n            if (document.getElementById(\"DesktopToggleRemote\").checked === true) {\n                document.getElementById(\"DesktopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\n            if (document.getElementById(\"MonitorToggleRemote\").checked === true) {\n                document.getElementById(\"MonitorToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\n            if (document.getElementById(\"LaptopToggleRemote\").checked === true) {\n                document.getElementById(\"LaptopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === true) {\n                document.getElementById(\"TaskLampToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\n            if (document.getElementById(\"FanToggleRemote\").checked === true) {\n                document.getElementById(\"FanToggleRemote\").click();\n            }\n        }\n        document.getElementById(\"master\").checked = false;\n        this.setState({checked: false})\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onConfirm2 = () => {\n        // Switch ON all plug loads\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\n            if (document.getElementById(\"DesktopToggleRemote\").checked === false) {\n                document.getElementById(\"DesktopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\n            if (document.getElementById(\"MonitorToggleRemote\").checked === false) {\n                document.getElementById(\"MonitorToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\n            if (document.getElementById(\"LaptopToggleRemote\").checked === false) {\n                document.getElementById(\"LaptopToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === false) {\n                document.getElementById(\"TaskLampToggleRemote\").click();\n            }\n        }\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\n            if (document.getElementById(\"FanToggleRemote\").checked === false) {\n                document.getElementById(\"FanToggleRemote\").click();\n            }\n        }\n        document.getElementById(\"master\").checked = true;\n        this.setState({checked: true});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onCancel1 = () => {\n        document.getElementById(\"master\").checked = true;\n        this.setState({checked: true});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onCancel2 = () => {\n        document.getElementById(\"master\").checked = false;\n        this.setState({checked: false});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    onChange = (e) => {\n        e.preventDefault();\n        if (this.state.checked === true) {\n            ReactDOM.render(<ConfirmAlert\n                                message=\"You are switching off all your devices.\"\n                                onConfirm = {this.onConfirm1}\n                                onCancel = {this.onCancel1}\n                             />, document.getElementById(\"confirm-alert\"))\n        } else {\n            ReactDOM.render(<ConfirmAlert\n                                message=\"You are switching on all your devices.\"\n                                onConfirm = {this.onConfirm2}\n                                onCancel = {this.onCancel2}\n                            />, document.getElementById(\"confirm-alert\"))\n        }\n    }\n\n    render() {\n        var defaultChecked = false\n        for (var book of this.props.books) {\n            if (book.device_state === true) {\n                defaultChecked = true\n            }\n        }\n        return (\n            <div className={\"toggle-switch\" + (this.props.Small ? \" small-switch\" : \"\")}>\n                <input\n                    type=\"checkbox\"\n                    name={this.props.Name}\n                    className=\"toggle-switch-checkbox\"\n                    id={this.props.id}\n                    checked={this.checked}\n                    defaultChecked={defaultChecked}\n                    onClick={this.onChange}\n                    disabled={this.props.disabled}\n                />\n                {this.props.id ? (\n                    <label className=\"toggle-switch-label\" htmlFor={this.props.id}>\n                        <span\n                            className={this.props.disabled ? \"toggle-switch-inner toggle-switch-disabled\" : \"toggle-switch-inner\"}\n                            data-yes=\"ON\"\n                            data-no=\"OFF\"\n                        />\n                        <span\n                            className={this.props.disabled ? \"toggle-switch-switch toggle-switch-disabled\": \"toggle-switch-switch\"}\n                        />\n                    </label>\n                ) : null}\n          </div>\n        )\n    }\n}\n\nReactDOM.render(<RemoteControlDashboard />, document.getElementById('remote-control'))\n\nfunction Main() {\n    // If at least one plug load is ON, master button is automatically toggled to ON.\n    if (document.getElementById(\"DesktopToggleRemote\").checked || document.getElementById(\"MonitorToggleRemote\").checked ||\n        document.getElementById(\"LaptopToggleRemote\").checked || document.getElementById(\"TaskLampToggleRemote\").checked ||\n        document.getElementById(\"FanToggleRemote\").checked) {\n        window.master.setState({checked: true});\n        document.getElementById(\"master\").checked = true;\n    } else {\n        // If all plug loads are OFF, master button is automatically toggled to OFF.\n        if (!document.getElementById(\"DesktopToggleRemote\").checked && !document.getElementById(\"MonitorToggleRemote\").checked &&\n            !document.getElementById(\"LaptopToggleRemote\").checked && !document.getElementById(\"TaskLampToggleRemote\").checked &&\n            !document.getElementById(\"FanToggleRemote\").checked) {\n            window.master.setState({checked: false});\n            document.getElementById(\"master\").checked = false;\n        }\n    }\n}\n\n\n// Schedule Based control\n\nfunction sort_events(a,b) {\n    let comparison = 0;\n    if (a.start > b.start) {\n        comparison = 1;\n    } else if (a.start < b.start) {\n        comparison = -1\n    }\n    return comparison\n}\n\nfunction from24to12(hour) {\n    var new_hour = Number(hour.substring(0,2));\n    var am_or_pm = new_hour >= 12 ? \"PM\" : \"AM\";\n    new_hour = (new_hour % 12) || 12;\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \" \" + am_or_pm;\n\n    if (finalTime.length !== 8) {\n        finalTime = \"0\" + finalTime\n    }\n    return (finalTime);\n}\n\nfunction getDates() {\n    var today = new Date();\n    var mondayDate = new Date();\n    var tuesdayDate = new Date();\n    var wednesdayDate = new Date();\n    var thursdayDate = new Date();\n    var fridayDate = new Date();\n    var saturdayDate = new Date();\n    var sundayDate = new Date();\n\n    if (today.getDay() === 0) {\n        // Today is Sunday\n        mondayDate.setDate(today.getDate() - 6);\n        tuesdayDate.setDate(today.getDate() - 5);\n        wednesdayDate.setDate(today.getDate() - 4);\n        thursdayDate.setDate(today.getDate() - 3);\n        fridayDate.setDate(today.getDate() - 2);\n        saturdayDate.setDate(today.getDate() - 1);\n        sundayDate.setDate(today.getDate());\n    } else {\n        mondayDate.setDate(today.getDate() + (1 - today.getDay()));\n        tuesdayDate.setDate(today.getDate() + (2 - today.getDay()));\n        wednesdayDate.setDate(today.getDate() + (3 - today.getDay()));\n        thursdayDate.setDate(today.getDate() + (4 - today.getDay()));\n        fridayDate.setDate(today.getDate() + (5 - today.getDay()));\n        saturdayDate.setDate(today.getDate() + (6 - today.getDay()));\n        sundayDate.setDate(today.getDate() + (7 - today.getDay()));\n    }\n\n    mondayDate = mondayDate.getFullYear() + \"-\" + ((mondayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (mondayDate.getMonth() + 1).toString() : (mondayDate.getMonth() + 1)) + \"-\" + (mondayDate.getDate().toString().length === 1 ? \"0\" + mondayDate.getDate().toString() : mondayDate.getDate())\n    tuesdayDate = tuesdayDate.getFullYear() + \"-\" + ((tuesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (tuesdayDate.getMonth() + 1).toString() : (tuesdayDate.getMonth() + 1)) + \"-\" + (tuesdayDate.getDate().toString().length === 1 ? \"0\" + tuesdayDate.getDate().toString() : tuesdayDate.getDate())\n    wednesdayDate = wednesdayDate.getFullYear() + \"-\" + ((wednesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (wednesdayDate.getMonth() + 1).toString() : (wednesdayDate.getMonth() + 1)) + \"-\" + (wednesdayDate.getDate().toString().length === 1 ? \"0\" + wednesdayDate.getDate().toString() : wednesdayDate.getDate())\n    thursdayDate = thursdayDate.getFullYear() + \"-\" + ((thursdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (thursdayDate.getMonth() + 1).toString() : (thursdayDate.getMonth() + 1))  + \"-\" + (thursdayDate.getDate().toString().length === 1 ? \"0\" + thursdayDate.getDate().toString() : thursdayDate.getDate())\n    fridayDate = fridayDate.getFullYear() + \"-\" + ((fridayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (fridayDate.getMonth() + 1).toString() : (fridayDate.getMonth() + 1)) + \"-\" + (fridayDate.getDate().toString().length === 1 ? \"0\" + fridayDate.getDate().toString() : fridayDate.getDate())\n    saturdayDate = saturdayDate.getFullYear() + \"-\" + ((saturdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (saturdayDate.getMonth() + 1).toString() : (saturdayDate.getMonth() + 1)) + \"-\" + (saturdayDate.getDate().toString().length === 1 ? \"0\" + saturdayDate.getDate().toString() : saturdayDate.getDate())\n    sundayDate = sundayDate.getFullYear() + \"-\" + ((sundayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (sundayDate.getMonth() + 1).toString() : (sundayDate.getMonth() + 1)) + \"-\" + (sundayDate.getDate().toString().length === 1 ? \"0\" + sundayDate.getDate().toString() : sundayDate.getDate())\n\n    return([mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate])\n}\n\nfunction getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.substring(0,name.length+1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue\n}\n\nclass ScheduleControlDashboard extends Component {\n    state = {\n        events: [],\n        dates: [],\n        chosen_day: \"\",\n        books: [],\n        key: 1\n    }\n\n    componentDidMount() {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({books: data})\n            var events_datas = [];\n            for (var input of data) {\n                this.setState({current_user_id: input.user_id}, function(){console.log(this.state.current_user_id)})\n                var resourceId = input.device_type_id;\n                var eventId = input.event_id;\n                var event_start = input.event_start;\n                var event_end = input.event_end;\n\n                // Format the title to be shown for each event on the scheduler\n                var finalStart = from24to12(event_start);\n                var finalEnd = from24to12(event_end)\n                var event_name = input.event_name + \" (\" + finalStart + \" - \" + finalEnd + \")\"\n\n                var [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate] = getDates();\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + mondayDate.substring(0,4) + mondayDate.substring(5,7) + mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" + sundayDate.substring(0,4) + sundayDate.substring(5,7) + sundayDate.substring(8,10) + \"T235900Z;BYDAY=\";\n                event_start = mondayDate + \" \" + event_start;\n                event_end = mondayDate + \" \" + event_end;\n                if (input.event_rrule.includes(\"Monday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"MO\";\n                            } else {\n                                event_rrule = event_rrule + \",MO\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Tuesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TU\";\n                            } else {\n                                event_rrule = event_rrule + \",TU\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Wednesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"WE\";\n                            } else {\n                                event_rrule = event_rrule + \",WE\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Thursday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TH\";\n                            } else {\n                                event_rrule = event_rrule + \",TH\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Friday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"FR\";\n                            } else {\n                                event_rrule = event_rrule + \",FR\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Saturday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SA\";\n                            } else {\n                                event_rrule = event_rrule + \",SA\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Sunday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SU\";\n                            } else {\n                                event_rrule = event_rrule + \",SU\";\n                            }\n                        }\n\n                // Set the events for the scheduler\n                events_datas.push({id: eventId, start: event_start, end: event_end, title: event_name, rrule: event_rrule, resourceId: resourceId, showPopover: false, bgColor: '#06D6A0', database_id: input.id})\n\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n            events_datas.sort(sort_events)\n            this.setState({\n                events: events_datas,\n                dates: [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate]\n            })\n        })\n    }\n\n    refetchData = () => {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({books: data})\n            var events_datas = [];\n            for (var input of data) {\n                this.setState({current_user_id: input.user_id}, function() {console.log(this.state.current_user_id)})\n                var resourceId = input.device_type_id;\n                var eventId = input.event_id;\n                var event_start = input.event_start;\n                var event_end = input.event_end;\n\n                // Format the title to be shown for each event on the scheduler\n                var finalStart = from24to12(event_start);\n                var finalEnd = from24to12(event_end)\n                var event_name = input.event_name + \" (\" + finalStart + \" - \" + finalEnd + \")\"\n\n                var [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate] = getDates();\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + mondayDate.substring(0,4) + mondayDate.substring(5,7) + mondayDate.substring(8,10) + \"T000000Z;UNTIL=\" + sundayDate.substring(0,4) + sundayDate.substring(5,7) + sundayDate.substring(8,10) + \"T235900Z;BYDAY=\";\n                event_start = mondayDate + \" \" + event_start;\n                event_end = mondayDate + \" \" + event_end;\n                if (input.event_rrule.includes(\"Monday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"MO\";\n                            } else {\n                                event_rrule = event_rrule + \",MO\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Tuesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TU\";\n                            } else {\n                                event_rrule = event_rrule + \",TU\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Wednesday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"WE\";\n                            } else {\n                                event_rrule = event_rrule + \",WE\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Thursday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"TH\";\n                            } else {\n                                event_rrule = event_rrule + \",TH\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Friday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"FR\";\n                            } else {\n                                event_rrule = event_rrule + \",FR\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Saturday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SA\";\n                            } else {\n                                event_rrule = event_rrule + \",SA\";\n                            }\n                        }\n                if (input.event_rrule.includes(\"Sunday\")) {\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\n                                event_rrule = event_rrule + \"SU\";\n                            } else {\n                                event_rrule = event_rrule + \",SU\";\n                            }\n                        }\n\n                // Set the events for the scheduler\n                events_datas.push({id: eventId, start: event_start, end: event_end, title: event_name, rrule: event_rrule, resourceId: resourceId, showPopover: false, bgColor: '#06D6A0', database_id: input.id})\n            }\n            events_datas.sort(sort_events)\n            this.setState({\n                events: events_datas,\n                dates: [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate]\n            })\n        })\n    }\n\n    createNewBook = (book) => {\n        const csrftoken = getCookie('csrftoken');\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrftoken\n            },\n            body: JSON.stringify(book),\n        })\n        .then(response => response.json())\n        .then(book => {\n            this.setState({books: this.state.books.concat([book])});\n        })\n    }\n\n    updateBook = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook)\n                } else {\n                    return book;\n                }\n            });\n\n            this.setState({books: newBooks});\n        })\n    }\n\n    deleteBook = (bookId) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/schedule/' + bookId + '/', {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        })\n        .then(() => {\n            this.setState({books: this.state.books.filter(book => book.id !== bookId)})\n        })\n    }\n\n    removeCalendarHeader = () => {\n        document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0].removeChild(document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0].childNodes[0]);\n    }\n\n    addLines = () => {\n        document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\n\n        var i;\n        var j;\n        for (i=0; i<5; i++) {\n            for (j=3; j<93; j+=4) {\n                document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\n            }\n        }\n    }\n\n    chooseMonday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Monday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"selected\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[0]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Monday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseTuesday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Tuesday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"selected\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[1]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Tuesday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseWednesday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Wednesday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"selected\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[2]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Wednesday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseThursday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Thursday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"selected\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[3]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Thursday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseFriday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Friday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"selected\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[4]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Friday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseSaturday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Saturday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"selected\";\n        document.getElementById(\"SundayCalendar\").className = \"\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[5]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Saturday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    chooseSunday = () => {\n        this.refetchData();\n        // Update chosen_day state\n        this.setState({chosen_day: \"Sunday\"})\n\n        // Adjust colour of tabs\n        document.getElementById(\"MondayCalendar\").className = \"\";\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\n        document.getElementById(\"FridayCalendar\").className = \"\";\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\n        document.getElementById(\"SundayCalendar\").className = \"selected\";\n\n        // Adjust calendar shown\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\n        ReactDOM.render(\n            <Calendar\n                refetchData={this.refetchData}\n                events={this.state.events}\n                date={this.state.dates[6]}\n                onDeleteClick={this.deleteBook}\n                onAddClick={this.createNewBook}\n                onUpdateClick={this.updateBook}\n                books={this.state.books}\n                mondayDate={this.state.dates[0]}\n                sundayDate={this.state.dates[6]}\n                day=\"Sunday\"\n                current_user_id={this.state.current_user_id}\n            />, document.getElementById(\"root\"));\n        this.removeCalendarHeader();\n        this.addLines();\n    }\n\n    render() {\n        return (\n            <>\n                <div className=\"tab\">\n                    <button id=\"MondayCalendar\" onClick={this.chooseMonday}> Monday </button>\n                    <button id=\"TuesdayCalendar\" onClick={this.chooseTuesday}> Tuesday </button>\n                    <button id=\"WednesdayCalendar\" onClick={this.chooseWednesday}> Wednesday </button>\n                    <button id=\"ThursdayCalendar\" onClick={this.chooseThursday}> Thursday </button>\n                    <button id=\"FridayCalendar\" onClick={this.chooseFriday}> Friday </button>\n                    <button id=\"SaturdayCalendar\" onClick={this.chooseSaturday}> Saturday </button>\n                    <button id=\"SundayCalendar\" onClick={this.chooseSunday}> Sunday </button>\n                </div>\n                <ScheduleControlItem\n                    key={this.state.key}\n                    refetchData={this.refetchData}\n                    events={this.state.events}\n                    dates={this.state.dates}\n                    onDeleteClick={this.deleteBook}\n                    onAddClick={this.createNewBook}\n                    onUpdateClick={this.updateBook}\n                    books={this.state.books}\n                    current_user_id={this.state.current_user_id}\n                />\n                <div id=\"popup-container-schedule\"> </div>\n            </>\n        )\n    }\n}\n\nclass ScheduleControlItem extends Component {\n    render() {\n        const days=[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n        var today = new Date()\n        var today_date = today.getFullYear() + \"-\" + ((today.getMonth() + 1).toString().length === 1 ? \"0\" + (today.getMonth() + 1).toString() : (today.getMonth() + 1)) + \"-\" + (today.getDate().toString().length === 1 ? \"0\" + today.getDate().toString() : today.getDate())\n        return (\n            <div id=\"root\">\n                <Calendar\n                    refetchData={this.props.refetchData}\n                    events={this.props.events}\n                    date={today_date}\n                    onDeleteClick={this.props.onDeleteClick}\n                    onAddClick={this.props.onAddClick}\n                    onUpdateClick={this.props.onUpdateClick}\n                    books={this.props.books}\n                    mondayDate={this.props.dates[0]}\n                    sundayDate={this.props.dates[6]}\n                    day={days[today.getDay()]}\n                    current_user_id={this.props.current_user_id}\n                />\n            </div>\n        )\n    }\n}\n\nReactDOM.render(<ScheduleControlDashboard />, document.getElementById('schedule-based-control'))\n\n// Presence Based Control\n\nclass PresenceControlDashboard extends Component {\n    state = {\n        books: [],\n        key: 1\n    }\n\n    constructor(props) {\n        super(props);\n        window.presencecontrol = this;\n    }\n\n    componentDidMount() {\n        // Fetch data from database\n        fetch('http://127.0.0.1:8000/control_interface/api/presence/')\n        .then(response => response.json())\n        .then(data => {\n            data.sort(compare);\n            this.setState({books: data})\n        })\n    }\n\n    updateBook = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/presence/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook)\n                } else {\n                    return book;\n                }\n            });\n            this.setState({books: newBooks});\n        })\n    }\n\n    render() {\n        return (\n            <>\n              <br/>\n\n                  <PresenceControlList\n                      key={this.state.key}\n                      books={this.state.books}\n                      onUpdateClick={this.updateBook}\n                  />\n\n            </>\n        )\n    }\n}\n\nclass PresenceControlList extends Component {\n    render() {\n        const books = this.props.books.map(book => (\n            <PresenceControlEditableItem\n                key={book.id}\n                id={book.id}\n                user_id={book.user_id}\n                device_type={book.device_type}\n                presence_setting={book.presence_setting}\n                onUpdateClick={this.props.onUpdateClick}\n            />\n        ));\n        return (\n            <div class=\"plugloadboxes\">\n                {books}\n            </div>\n        )\n    }\n}\n\nclass PresenceControlEditableItem extends Component {\n    handleUpdate = (book) => {\n        book.id = this.props.id;\n        this.props.onUpdateClick(book);\n    }\n\n    render() {\n        const component = () => {\n            return (\n                <>\n                    <PresenceControlItem\n                        id={this.props.id}\n                        user_id={this.props.user_id}\n                        device_type={this.props.device_type}\n                        presence_setting={this.props.presence_setting}\n                        onFormSubmit={this.handleUpdate}\n                    />\n                </>\n            )\n        }\n        return (\n            component()\n        )\n    }\n}\n\nclass PresenceControlItem extends Component {\n    state = {\n        user_id: this.props.user_id,\n        device_type: this.props.device_type,\n        presence_setting: this.props.presence_setting,\n        achievements_books: [],\n        points_wallet_books: []\n    }\n\n    componentDidMount() {\n        this.refetchBonusAchievementsData();\n        this.refetchPointsWalletData();\n    }\n\n    refetchBonusAchievementsData = () => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({achievements_books: data})\n        })\n\n        setTimeout(this.refetchBonusAchievementsData, 10000)\n    }\n\n    refetchPointsWalletData = () => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/')\n        .then(response => response.json())\n        .then(data => {\n            this.setState({points_wallet_books: data})\n        })\n\n        setTimeout(this.refetchPointsWalletData, 10000)\n    }\n\n    updateAchievementsBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.achievements_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({achievements_books: newBooks})\n        })\n    }\n\n    updatePointsWalletBooks = (newBook) => {\n        fetch('http://127.0.0.1:8000/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(newBook)\n        }).then(response => response.json())\n        .then(newBook => {\n            const newBooks = this.state.points_wallet_books.map(book => {\n                if (book.id === newBook.id) {\n                    return Object.assign({}, newBook);\n                } else {\n                    return book;\n                }\n            });\n            this.setState({points_wallet_books: newBooks})\n        })\n    }\n\n    handleAchievementsUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updateAchievementsBooks(book);\n    }\n\n    handlePointsWalletUpdate = (book) => {\n        book.id = this.props.user_id;\n        this.updatePointsWalletBooks(book);\n    }\n\n    handleAchievementsFormSubmit = () => {\n        this.handleAchievementsUpdate(this.state.achievements_books[0])\n    }\n\n    handlePointsWalletFormSubmit = () => {\n        this.handlePointsWalletUpdate(this.state.points_wallet_books[0])\n    }\n\n    onConfirm1 = () => {\n        // Update database\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()});\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_presence === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_presence: 70\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 70\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onCancel1 = () => {\n        document.getElementById(this.state.device_type.replace(/\\s/g, '') + \"Select\").value = this.state.presence_setting;\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    handleFormSubmit = () => {\n        this.props.onFormSubmit({...this.state});\n    }\n\n    handleSettingUpdate = (evt) => {\n        if (evt.target.value !== \"other\" && evt.target.value !== \"1000000\") {\n            // Hide popup\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n            // Update database\n            this.setState({presence_setting: evt.target.value}, function() {this.handleFormSubmit()})\n\n            // If first time clicking, update achievement\n            if (this.state.achievements_books[0].first_presence === 0) {\n                this.setState({\n                    achievements_books: [\n                        {\n                            ...this.state.achievements_books[0],\n                            first_presence: 70\n                        }\n                    ]\n                }, function() {this.handleAchievementsFormSubmit()})\n                this.setState({\n                    points_wallet_books: [\n                        {\n                            ...this.state.points_wallet_books[0],\n                            points: this.state.points_wallet_books[0].points + 70\n                        }\n                    ]\n                }, function() {this.handlePointsWalletFormSubmit()})\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n        }\n        if (evt.target.value === \"other\") {\n            // Show popup\n            ReactDOM.render(\n                <PresenceControlPopup\n                    device_type={this.state.device_type}\n                    handleOtherUpdate={this.handleOtherUpdate}\n                    handleEnterClick={this.handleEnterClick}\n                    cancelButtonClicked={this.cancelButtonClicked}\n                    okButtonClicked={this.okButtonClicked}\n                />, document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\")\n            )\n        }\n        if (evt.target.value === \"1000000\") {\n            // Hide popup\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n            ReactDOM.render(<ConfirmAlert\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\n                                onConfirm = {this.onConfirm1}\n                                onCancel = {this.onCancel1}\n                            />, document.getElementById(\"confirm-alert\"))\n        }\n    }\n\n    handleOtherUpdate = (evt) => {\n        this.setState({presence_setting: evt.target.value});\n    }\n\n    handleEnterClick = (evt) => {\n        if (evt.key === \"Enter\" || evt.keyCode === 13) {\n            this.okButtonClicked();\n        }\n    }\n\n    onConfirm2 = () => {\n        // Change outer ring to red\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"redRing\";\n        // Change image to OFF\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\n        // Set value to OFF\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"1000000\";\n        // Update database\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()})\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_presence === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_presence: 70\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 70\n                    }\n                ]\n            })\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    onCancel2 = () => {\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\n    }\n\n    handlePresenceIconClick = () => {\n        if (document.getElementById(this.state.device_type.replace(/\\s/g,'')).className === \"greenRing\") {\n            ReactDOM.render(<ConfirmAlert\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\n                                onConfirm = {this.onConfirm2}\n                                onCancel = {this.onCancel2}\n                            />, document.getElementById(\"confirm-alert\"))\n        } else {\n            // Change outer ring to green\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"greenRing\"\n            // Change image to ON\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\n            // Set value to 5 minutes\n            document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\n            // Update database\n            this.setState({presence_setting: \"5\"}, function() {this.handleFormSubmit()})\n\n            // If first time clicking, update achievement\n            if (this.state.achievements_books[0].first_presence === 0) {\n                this.setState({\n                    achievements_books: [\n                        {\n                            ...this.state.achievements_books[0],\n                            first_presence: 70\n                        }\n                    ]\n                }, function() {this.handleAchievementsFormSubmit()})\n                this.setState({\n                    points_wallet_books: [\n                        {\n                            ...this.state.points_wallet_books[0],\n                            points: this.state.points_wallet_books[0].points + 70\n                        }\n                    ]\n                }, function() {this.handlePointsWalletFormSubmit()})\n                // Open the calendar for today\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n                var today = new Date();\n                var wanted_id = days[today.getDay()] + \"Calendar\";\n                document.getElementById(wanted_id).className=\"selected\";\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n            }\n        }\n    }\n\n    cancelButtonClicked = () => {\n        // Hide popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n        // Set value to 5 minutes\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\n        this.setState({presence_setting: 5}, function() {this.handleFormSubmit()})\n\n    }\n\n    okButtonClicked = () => {\n        // Display value on dropdown\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value;\n        // Clear text box on popup\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value = \"\";\n        // Hide popup\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\n        // Update database\n        this.handleFormSubmit();\n\n        // If first time clicking, update achievement\n        if (this.state.achievements_books[0].first_presence === 0) {\n            this.setState({\n                achievements_books: [\n                    {\n                        ...this.state.achievements_books[0],\n                        first_presence: 70\n                    }\n                ]\n            }, function() {this.handleAchievementsFormSubmit()})\n            this.setState({\n                points_wallet_books: [\n                    {\n                        ...this.state.points_wallet_books[0],\n                        points: this.state.points_wallet_books[0].points + 70\n                    }\n                ]\n            }, function() {this.handlePointsWalletFormSubmit()})\n            // Open the calendar for today\n            const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n            var today = new Date();\n            var wanted_id = days[today.getDay()] + \"Calendar\";\n            document.getElementById(wanted_id).className=\"selected\";\n            setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\n        }\n    }\n\n    render() {\n        const possible_option = [\"1000000\", \"5\", \"10\", \"20\", \"30\", \"60\", \"other\"]\n        if (possible_option.includes(this.state.presence_setting.toString())) {\n            var disabled = true;\n            var display_value = \"\";\n            var display_text = \"\";\n        } else {\n            disabled = false;\n            display_value = this.state.presence_setting;\n            display_text = this.state.presence_setting + \" minutes\";\n        }\n\n        if (this.state.presence_setting.toString() === \"1000000\") {\n            var presence_control_outer_ring = \"redRing\";\n            var presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\n        } else {\n            presence_control_outer_ring = \"greenRing\";\n            presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\n        }\n\n        return (\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxPresence\"} className=\"containerPresence\" onClick={this.exitClick}>\n                <div className=\"iconPresence\">\n                    <div className={presence_control_outer_ring} id={this.state.device_type.replace(/\\s/g,'')} onClick={this.handlePresenceIconClick}>\n                        <div className=\"whiteRing\">\n                            <img class=\"PlugLoadIcon\" src={presence_control_image} alt=\"Icon\" />\n                        </div>\n                    </div>\n                </div>\n                <div style={{width:\"200px\", height:\"10px\", overflowY:\"visible\"}}>\n                    <div style={{position:\"relative\", width:\"200px\", height:\"1px\", overflowY:\"visible\"}}>\n                        <div className=\"dropdownPresence\" id={this.state.device_type.replace(/\\s/g,'') + \"Dropdown\"}>\n                            <div class=\"wordPresence\">\n                                <p> {this.state.device_type} </p>\n                            </div>\n                            <select defaultValue={this.state.presence_setting} onChange={this.handleSettingUpdate} id={this.state.device_type.replace(/\\s/g,'') + \"Select\"}>\n                                <option value=\"1000000\"> Deactivate </option>\n                                <optgroup label=\"Off after I leave for:\">\n                                    <option value=\"5\"> 5 minutes </option>\n                                    <option value=\"10\"> 10 minutes </option>\n                                    <option value=\"20\"> 20 minutes </option>\n                                    <option value=\"30\"> 30 minutes </option>\n                                    <option value=\"60\"> 1 hour </option>\n                                    <option value=\"other\"> Custom Time </option>\n                                </optgroup>\n                                <option value={display_value} disabled={disabled}> {display_text} </option>\n                            </select>\n                        </div>\n\n                        <div id={this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"}> </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass PresenceControlPopup extends Component {\n    exitClick = () => {\n        this.props.cancelButtonClicked();\n    }\n    render() {\n        return (\n        <>\n            <div id=\"PopupPresenceOverlay\" className=\"popup_presence_overlay\" onClick={this.exitClick}></div>\n            <div id={this.props.device_type.replace(/\\s/g,'') + \"PopupPresence\"} className=\"visiblePresence\">\n                <input type=\"text\" id={this.props.device_type.replace(/\\s/g,'') + \"TextOther\"} onChange={this.props.handleOtherUpdate} onKeyUp={this.props.handleEnterClick} />\n                <p class=\"minutes\"> minutes </p>\n                <br />\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"CancelButton\"} onClick={this.props.cancelButtonClicked}> Cancel </button>\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"OkButton\"} onClick={this.props.okButtonClicked}> OK </button>\n            </div>\n        </>\n        )\n    }\n}\n\nReactDOM.render(<PresenceControlDashboard />, document.getElementById('presence-based-control'))\n\n// Others\n\n// Information icons\nvar remotecontrolelement = document.getElementById(\"remotecontrolrect\");\nvar infoiconremote = document.getElementById(\"infoIconRemote\");\nvar scheduleelement = document.getElementById(\"schedulebasedrect\");\nvar infoiconschedule = document.getElementById(\"infoIcon\");\nvar presenceelement = document.getElementById(\"presencebasedrect\");\nvar infoiconpresence = document.getElementById(\"infoIconPresence\");\n\nwindow.onload = function() {\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\n  infoiconremote.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxRemote\"}>\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\n        </div>, document.getElementById(\"infoBoxRemote\"));\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\n    }\n  infoiconremote.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\n  }\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\n  infoiconschedule.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBox\"}>\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\n        </div>, document.getElementById(\"infoBox\"));\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\n    }\n  infoiconschedule.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\n  }\n  let presenceelemRect = presenceelement.getBoundingClientRect();\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\n  infoiconpresence.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxPresence\"}>\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\n        </div>, document.getElementById(\"infoBoxPresence\"));\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\n    }\n  infoiconpresence.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\n  }\n}\n\nwindow.onresize = function() {\n\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\n  infoiconremote.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxRemote\"}>\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\n        </div>, document.getElementById(\"infoBoxRemote\"));\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\n    }\n  infoiconremote.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\n  }\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\n  infoiconschedule.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBox\"}>\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\n        </div>, document.getElementById(\"infoBox\"));\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\n    }\n  infoiconschedule.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\n  }\n  let presenceelemRect = presenceelement.getBoundingClientRect();\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\n  infoiconpresence.onmouseover = function() {\n    ReactDOM.render(\n        <div id={\"informationBoxPresence\"}>\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\n        </div>, document.getElementById(\"infoBoxPresence\"));\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\n    }\n  infoiconpresence.onmouseout = function() {\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\n  }\n}\n\n// Fix for Google Chrome\nvar isChromium = window.chrome;\nvar winNav = window.navigator;\nvar vendorName = winNav.vendor;\nvar isOpera = typeof window.opr !== \"undefined\";\nvar isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1;\nvar isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\nif (isIOSChrome) {\n   // is Google Chrome on IOS\n   document.onkeydown = function(event) {\nif (event.ctrlKey===true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\n        event.preventDefault();\n     }\n    // 107 Num Key  +\n    // 109 Num Key  -\n    // 173 Min Key  hyphen/underscore key\n    // 61 Plus key  +/= key\n};\n} else if(\n  isChromium !== null &&\n  typeof isChromium !== \"undefined\" &&\n  vendorName === \"Google Inc.\" &&\n  isOpera === false &&\n  isIEedge === false\n) {\n   // is Google Chrome\n   document.onkeydown = function(event) {\nif (event.ctrlKey === true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\n        event.preventDefault();\n     }\n    // 107 Num Key  +\n    // 109 Num Key  -\n    // 173 Min Key  hyphen/underscore key\n    // 61 Plus key  +/= key\n};\n} else {\n   // not Google Chrome\n}\n\n"],"sourceRoot":""}