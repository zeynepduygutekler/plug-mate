(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,n){e.exports=n(420)},39:function(e,t,n){},420:function(e,t,n){"use strict";n.r(t);var a=n(27),o=n(118),r=n(16),d=n(10),c=n(11),s=n(34),i=n(13),l=n(12),u=n(0),m=n.n(u),p=n(3),h=n.n(p),g=(n(39),n(31)),y=n(32),v=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={message:e.props.message,onConfirm:e.props.onConfirm,onCancel:e.props.onCancel},e}return Object(c.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{class:"confirm_alert_overlay"},m.a.createElement("div",{class:"confirm_alert_popup"},m.a.createElement("div",{class:"confirm_alert_content"},m.a.createElement(g.a,{icon:y.b,class:"confirm_alert_icon"}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("p",{style:{color:"black"}}," ",this.state.message," "),m.a.createElement("br",null),m.a.createElement("div",{class:"confirm_alert_buttons"},m.a.createElement("button",{class:"confirm_alert_cancel",onClick:this.state.onCancel}," Cancel "),m.a.createElement("button",{class:"confirm_alert_confirm",onClick:this.state.onConfirm}," Confirm ")))))}}]),n}(u.Component),f=n(15),E=n.n(f),b=n(19),S=n.n(b),w=(n(397),n(77)),_=n(179),k=n.n(_),B=Object(w.DragDropContext)(k.a),I=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={message:e.props.message,onOK:e.props.onOK},e}return Object(c.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{class:"confirm_alert_overlay"},m.a.createElement("div",{class:"confirm_alert_popup"},m.a.createElement("div",{class:"confirm_alert_content"},m.a.createElement(g.a,{icon:y.b,class:"confirm_alert_icon"}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("p",{style:{color:"black"}}," ",this.state.message," "),m.a.createElement("br",null),m.a.createElement("div",{class:"confirm_alert_buttons"},m.a.createElement("button",{class:"alert_ok",onClick:this.state.onOK}," OK ")))))}}]),n}(u.Component),C=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={message:e.props.message,onOK:e.props.onOK},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state.message.split("<new>").map(function(e){return m.a.createElement("p",{style:{color:"black"}}," ",e," ")});return m.a.createElement("div",{class:"confirm_alert_overlay"},m.a.createElement("div",{class:"confirm_alert_popup"},m.a.createElement("div",{class:"confirm_alert_content"},m.a.createElement(g.a,{icon:y.b,class:"confirm_alert_icon"}),m.a.createElement("br",null),m.a.createElement("br",null),e,m.a.createElement("br",null),m.a.createElement("div",{class:"confirm_alert_buttons"},m.a.createElement("button",{class:"alert_ok",onClick:this.state.onOK}," OK ")))))}}]),n}(u.Component),T=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).exitPopup=function(t){t.target===document.getElementById("schedule_popup_overlay")&&e.props.closeButtonClicked()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.event_rrule.includes("MO,TU,WE,TH,FR,SA,SU")&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0),this.props.event_rrule.substring(66,this.props.event_rrule.length).includes("MO")&&(this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)<"08:00:00"&&"new"!==this.props.type?document.getElementById("ScheduleRepeatTuesday").checked=!0:document.getElementById("ScheduleRepeatMonday").checked=!0),this.props.event_rrule.substring(66,this.props.event_rrule.length).includes("TU")&&(this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)<"08:00:00"&&"new"!==this.props.type?document.getElementById("ScheduleRepeatWednesday").checked=!0:document.getElementById("ScheduleRepeatTuesday").checked=!0),this.props.event_rrule.substring(66,this.props.event_rrule.length).includes("WE")&&(this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)<"08:00:00"&&"new"!==this.props.type?document.getElementById("ScheduleRepeatThursday").checked=!0:document.getElementById("ScheduleRepeatWednesday").checked=!0),this.props.event_rrule.substring(66,this.props.event_rrule.length).includes("TH")&&(this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)<"08:00:00"&&"new"!==this.props.type?document.getElementById("ScheduleRepeatFriday").checked=!0:document.getElementById("ScheduleRepeatThursday").checked=!0),this.props.event_rrule.substring(66,this.props.event_rrule.length).includes("FR")&&(this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)<"08:00:00"&&"new"!==this.props.type?document.getElementById("ScheduleRepeatSaturday").checked=!0:document.getElementById("ScheduleRepeatFriday").checked=!0),this.props.event_rrule.substring(66,this.props.event_rrule.length).includes("SA")&&(this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)<"08:00:00"&&"new"!==this.props.type?document.getElementById("ScheduleRepeatSunday").checked=!0:document.getElementById("ScheduleRepeatSaturday").checked=!0),this.props.event_rrule.substring(66,this.props.event_rrule.length).includes("SU")&&(this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)<"08:00:00"&&"new"!==this.props.type?document.getElementById("ScheduleRepeatMonday").checked=!0:document.getElementById("ScheduleRepeatSunday").checked=!0),this.props.device_type.includes("Desktop")&&(document.getElementById("ScheduleApplyDesktop").checked=!0),this.props.device_type.includes("Monitor")&&(document.getElementById("ScheduleApplyMonitor").checked=!0),this.props.device_type.includes("Laptop")&&(document.getElementById("ScheduleApplyLaptop").checked=!0),this.props.device_type.includes("Task Lamp")&&(document.getElementById("ScheduleApplyTaskLamp").checked=!0),this.props.device_type.includes("Fan")&&(document.getElementById("ScheduleApplyFan").checked=!0),window.remote.state.devices.includes("Desktop")||(document.getElementById("ScheduleApplyDesktop").checked=!1,document.getElementById("ScheduleApplyDesktop").disabled=!0),window.remote.state.devices.includes("Monitor")||(document.getElementById("ScheduleApplyMonitor").checked=!1,document.getElementById("ScheduleApplyMonitor").disabled=!0),window.remote.state.devices.includes("Laptop")||(document.getElementById("ScheduleApplyLaptop").checked=!1,document.getElementById("ScheduleApplyLaptop").disabled=!0),window.remote.state.devices.includes("Task Lamp")||(document.getElementById("ScheduleApplyTaskLamp").checked=!1,document.getElementById("ScheduleApplyTaskLamp").disabled=!0),window.remote.state.devices.includes("Fan")||(document.getElementById("ScheduleApplyFan").checked=!1,document.getElementById("ScheduleApplyFan").disabled=!0)}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{id:"schedule_popup_overlay",onClick:this.exitPopup},m.a.createElement("div",{id:"schedule_popup"},m.a.createElement("p",{id:"schedule_device_type"}," ",this.props.device_type," "),m.a.createElement("button",{id:"schedule_popup_close",onClick:this.props.closeButtonClicked}," \xd7 "),m.a.createElement("br",null),m.a.createElement("input",{id:"schedule_name_input",defaultValue:this.props.event_name.substring(0,this.props.event_name.length-22),type:"text"}),m.a.createElement("div",{id:"schedule_time_input"},m.a.createElement(g.a,{icon:y.a,style:{color:"#4E73DF"}}),m.a.createElement(D,{type:"Start",time:this.props.event_start.substring(this.props.event_start.length-8,this.props.event_start.length)}),m.a.createElement("p",{style:{display:"inline-block",marginRight:"-5px",marginLeft:"5px"}}," - "),m.a.createElement(D,{type:"End",time:this.props.event_end.substring(this.props.event_end.length-8,this.props.event_end.length)})),m.a.createElement("div",{id:"schedule_repeat_input"},m.a.createElement(M,null)),m.a.createElement("div",{id:"schedule_apply_input"},m.a.createElement("p",{style:{fontWeight:"bold",color:"black"}}," Also apply to: "),m.a.createElement(A,{devices:["Desktop","Monitor","Laptop","Fan","Task Lamp"]})),m.a.createElement("br",null),m.a.createElement("button",{id:"schedule_popup_ok",onClick:this.props.okButtonClicked,className:"btn btn-sm"}," OK "),m.a.createElement("button",{id:"schedule_popup_delete",onClick:this.props.deleteButtonClicked,className:"btn btn-sm"}," Delete "))))}}]),n}(u.Component),D=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.time.substring(0,2);if(Number(e)>=12)var t="PM";else t="AM";Number(e)>12&&Number(e)<22?e="0"+(Number(e)-12).toString():Number(e)>=22?e=(Number(e)-12).toString():"00"===e&&(e="12");var n=this.props.time.substring(3,5);return m.a.createElement("div",{id:this.props.type+"Time"},m.a.createElement("select",{id:this.props.type+"Hour",defaultValue:e},m.a.createElement("option",{value:"01"}," 1 "),m.a.createElement("option",{value:"02"}," 2 "),m.a.createElement("option",{value:"03"}," 3 "),m.a.createElement("option",{value:"04"}," 4 "),m.a.createElement("option",{value:"05"}," 5 "),m.a.createElement("option",{value:"06"}," 6 "),m.a.createElement("option",{value:"07"}," 7 "),m.a.createElement("option",{value:"08"}," 8 "),m.a.createElement("option",{value:"09"}," 9 "),m.a.createElement("option",{value:"10"}," 10 "),m.a.createElement("option",{value:"11"}," 11 "),m.a.createElement("option",{value:"12"}," 12 ")),m.a.createElement("span",{style:{marginLeft:"-10px",marginRight:"1px"}}," : "),m.a.createElement("select",{id:this.props.type+"Minute",defaultValue:n},m.a.createElement("option",{value:"00"}," 00 "),m.a.createElement("option",{value:"15"}," 15 "),m.a.createElement("option",{value:"30"}," 30 "),m.a.createElement("option",{value:"45"}," 45 ")),m.a.createElement("select",{id:this.props.type+"AMPM",defaultValue:t},m.a.createElement("option",{value:"AM"}," AM "),m.a.createElement("option",{value:"PM"}," PM ")))}}]),n}(u.Component),M=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{style:{fontWeight:"bold",color:"black"}}," Repeat: "),m.a.createElement("input",{type:"checkbox",id:"ScheduleRepeatEveryDay",value:"Every Day",onClick:function(e){e.target.checked?(document.getElementById("ScheduleRepeatMonday").checked=!0,document.getElementById("ScheduleRepeatTuesday").checked=!0,document.getElementById("ScheduleRepeatWednesday").checked=!0,document.getElementById("ScheduleRepeatThursday").checked=!0,document.getElementById("ScheduleRepeatFriday").checked=!0,document.getElementById("ScheduleRepeatSaturday").checked=!0,document.getElementById("ScheduleRepeatSunday").checked=!0):(document.getElementById("ScheduleRepeatMonday").checked=!1,document.getElementById("ScheduleRepeatTuesday").checked=!1,document.getElementById("ScheduleRepeatWednesday").checked=!1,document.getElementById("ScheduleRepeatThursday").checked=!1,document.getElementById("ScheduleRepeatFriday").checked=!1,document.getElementById("ScheduleRepeatSaturday").checked=!1,document.getElementById("ScheduleRepeatSunday").checked=!1)}}),m.a.createElement("label",{htmlFor:"ScheduleRepeatEveryDay",style:{marginLeft:"10px",color:"black"}}," Every Day "),m.a.createElement("br",null),m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleRepeatOption",value:"Monday",id:"ScheduleRepeatMonday",onClick:function(e){e.target.checked?document.getElementById("ScheduleRepeatTuesday").checked&&document.getElementById("ScheduleRepeatWednesday").checked&&document.getElementById("ScheduleRepeatThursday").checked&&document.getElementById("ScheduleRepeatFriday").checked&&document.getElementById("ScheduleRepeatSaturday").checked&&document.getElementById("ScheduleRepeatSunday").checked&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0):document.getElementById("ScheduleRepeatEveryDay").checked=!1}}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," Monday ")),m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleRepeatOption",value:"Tuesday",id:"ScheduleRepeatTuesday",onClick:function(e){e.target.checked?document.getElementById("ScheduleRepeatMonday").checked&&document.getElementById("ScheduleRepeatWednesday").checked&&document.getElementById("ScheduleRepeatThursday").checked&&document.getElementById("ScheduleRepeatFriday").checked&&document.getElementById("ScheduleRepeatSaturday").checked&&document.getElementById("ScheduleRepeatSunday").checked&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0):document.getElementById("ScheduleRepeatEveryDay").checked=!1}}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," Tuesday ")),m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleRepeatOption",value:"Wednesday",id:"ScheduleRepeatWednesday",onClick:function(e){e.target.checked?document.getElementById("ScheduleRepeatMonday").checked&&document.getElementById("ScheduleRepeatTuesday").checked&&document.getElementById("ScheduleRepeatThursday").checked&&document.getElementById("ScheduleRepeatFriday").checked&&document.getElementById("ScheduleRepeatSaturday").checked&&document.getElementById("ScheduleRepeatSunday").checked&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0):document.getElementById("ScheduleRepeatEveryDay").checked=!1}}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," Wednesday ")),m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleRepeatOption",value:"Thursday",id:"ScheduleRepeatThursday",onClick:function(e){e.target.checked?document.getElementById("ScheduleRepeatMonday").checked&&document.getElementById("ScheduleRepeatTuesday").checked&&document.getElementById("ScheduleRepeatWednesday").checked&&document.getElementById("ScheduleRepeatFriday").checked&&document.getElementById("ScheduleRepeatSaturday").checked&&document.getElementById("ScheduleRepeatSunday").checked&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0):document.getElementById("ScheduleRepeatEveryDay").checked=!1}}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," Thursday ")),m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleRepeatOption",value:"Friday",id:"ScheduleRepeatFriday",onClick:function(e){e.target.checked?document.getElementById("ScheduleRepeatMonday").checked&&document.getElementById("ScheduleRepeatTuesday").checked&&document.getElementById("ScheduleRepeatWednesday").checked&&document.getElementById("ScheduleRepeatThursday").checked&&document.getElementById("ScheduleRepeatSaturday").checked&&document.getElementById("ScheduleRepeatSunday").checked&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0):document.getElementById("ScheduleRepeatEveryDay").checked=!1}}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," Friday ")),m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleRepeatOption",value:"Saturday",id:"ScheduleRepeatSaturday",onClick:function(e){e.target.checked?document.getElementById("ScheduleRepeatMonday").checked&&document.getElementById("ScheduleRepeatTuesday").checked&&document.getElementById("ScheduleRepeatWednesday").checked&&document.getElementById("ScheduleRepeatThursday").checked&&document.getElementById("ScheduleRepeatFriday").checked&&document.getElementById("ScheduleRepeatSunday").checked&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0):document.getElementById("ScheduleRepeatEveryDay").checked=!1}}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," Saturday ")),m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleRepeatOption",value:"Sunday",id:"ScheduleRepeatSunday",onClick:function(e){e.target.checked?document.getElementById("ScheduleRepeatMonday").checked&&document.getElementById("ScheduleRepeatTuesday").checked&&document.getElementById("ScheduleRepeatWednesday").checked&&document.getElementById("ScheduleRepeatThursday").checked&&document.getElementById("ScheduleRepeatFriday").checked&&document.getElementById("ScheduleRepeatSaturday").checked&&(document.getElementById("ScheduleRepeatEveryDay").checked=!0):document.getElementById("ScheduleRepeatEveryDay").checked=!1}}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," Sunday ")))}}]),n}(u.Component),A=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.devices.map(function(e){return m.a.createElement(R,{device_type:e})});return m.a.createElement(m.a.Fragment,null,e)}}]),n}(u.Component),R=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return m.a.createElement("div",{style:{display:"inline-block",width:"130px"}},m.a.createElement("input",{type:"checkbox",name:"ScheduleApplyOption",id:"ScheduleApply"+this.props.device_type.replace(/\s/g,"")}),m.a.createElement("label",{style:{marginLeft:"10px",color:"black"}}," ",this.props.device_type," "))}}]),n}(u.Component),O=T;function N(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var o=n[a].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}function F(e){var t=Number(e.substring(0,2)),n=t>=12?"PM":"AM",a=(t=t%12||12)+":"+e.substring(3,5)+" "+n;return 8!==a.length&&(a="0"+a),a}function j(e){var t=Number(e.substring(0,2));"PM"===e.substring(6,8)&&12!==t&&(t+=12),"AM"===e.substring(6,8)&&12===t&&(t="00");var n=t+":"+e.substring(3,5)+":00";return 8!==n.length&&(n="0"+n),n}function U(e,t){var n="";e.rrule.substring(60,e.rrule.length).includes("MO")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="MondayMorning, ":n+="Monday, "),e.rrule.substring(60,e.rrule.length).includes("TU")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="TuesdayMorning, ":n+="Tuesday, "),e.rrule.substring(60,e.rrule.length).includes("WE")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="WednesdayMorning, ":n+="Wednesday, "),e.rrule.substring(60,e.rrule.length).includes("TH")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="ThursdayMorning, ":n+="Thursday, "),e.rrule.substring(60,e.rrule.length).includes("FR")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="FridayMorning, ":n+="Friday, "),e.rrule.substring(60,e.rrule.length).includes("SA")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="SaturdayMorning, ":n+="Saturday, "),e.rrule.substring(60,e.rrule.length).includes("SU")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="SundayMorning, ":n+="Sunday, ");return{user_id:Number(t),event_id:e.id,event_start:e.start.substring(e.start.length-8,e.start.length),event_end:e.end.substring(e.end.length-8,e.end.length),event_name:e.title.substring(0,e.title.length-22),event_rrule:n.substring(0,n.length-2),device_type_id:e.resourceId,device_type:["Desktop","Laptop","Monitor","Task Lamp","Fan"][e.resourceId-1]}}function P(e,t){var n="";e.rrule.substring(60,e.rrule.length).includes("MO")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="MondayMorning, ":n+="Monday, "),e.rrule.substring(60,e.rrule.length).includes("TU")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="TuesdayMorning, ":n+="Tuesday, "),e.rrule.substring(60,e.rrule.length).includes("WE")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="WednesdayMorning, ":n+="Wednesday, "),e.rrule.substring(60,e.rrule.length).includes("TH")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="ThursdayMorning, ":n+="Thursday, "),e.rrule.substring(60,e.rrule.length).includes("FR")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="FridayMorning, ":n+="Friday, "),e.rrule.substring(60,e.rrule.length).includes("SA")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="SaturdayMorning, ":n+="Saturday, "),e.rrule.substring(60,e.rrule.length).includes("SU")&&(e.start.substring(e.start.length-8,e.start.length)<"08:00:00"?n+="SundayMorning, ":n+="Sunday, ");if("string"===typeof e.id)var a=e.id.indexOf("-"),o=Number(e.id.substring(0,a));else o=e.id;return{user_id:Number(t),event_id:o,event_start:e.start.substring(e.start.length-8,e.start.length),event_end:e.end.substring(e.end.length-8,e.end.length),event_name:e.title.substring(0,e.title.length-22),event_rrule:n.substring(0,n.length-2),device_type_id:e.resourceId,device_type:["Desktop","Laptop","Monitor","Task Lamp","Fan"][e.resourceId-1],id:e.database_id}}function x(e){var t=document.getElementById(e+"Hour").value;return"PM"===document.getElementById(e+"AMPM").value?"12"!==document.getElementById(e+"Hour").value&&(t=(Number(document.getElementById(e+"Hour").value)+12).toString()):"12"===document.getElementById(e+"Hour").value&&(t="00"),t}function W(){var e=new Date,t=new Date,n=new Date,a=new Date,o=new Date,r=new Date,d=new Date,c=new Date,s=new Date;return 0===e.getDay()?(s.setDate(e.getDate()-7),t.setDate(e.getDate()-6),n.setDate(e.getDate()-5),a.setDate(e.getDate()-4),o.setDate(e.getDate()-3),r.setDate(e.getDate()-2),d.setDate(e.getDate()-1),c.setDate(e.getDate())):(s.setDate(e.getDate()+(0-e.getDay())),t.setDate(e.getDate()+(1-e.getDay())),n.setDate(e.getDate()+(2-e.getDay())),a.setDate(e.getDate()+(3-e.getDay())),o.setDate(e.getDate()+(4-e.getDay())),r.setDate(e.getDate()+(5-e.getDay())),d.setDate(e.getDate()+(6-e.getDay())),c.setDate(e.getDate()+(7-e.getDay()))),s=s.getFullYear()+"-"+(1===(s.getMonth()+1).toString().length?"0"+(s.getMonth()+1).toString():s.getMonth()+1)+"-"+(1===s.getDate().toString().length?"0"+s.getDate().toString():s.getDate()),[t=t.getFullYear()+"-"+(1===(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1).toString():t.getMonth()+1)+"-"+(1===t.getDate().toString().length?"0"+t.getDate().toString():t.getDate()),n=n.getFullYear()+"-"+(1===(n.getMonth()+1).toString().length?"0"+(n.getMonth()+1).toString():n.getMonth()+1)+"-"+(1===n.getDate().toString().length?"0"+n.getDate().toString():n.getDate()),a=a.getFullYear()+"-"+(1===(a.getMonth()+1).toString().length?"0"+(a.getMonth()+1).toString():a.getMonth()+1)+"-"+(1===a.getDate().toString().length?"0"+a.getDate().toString():a.getDate()),o=o.getFullYear()+"-"+(1===(o.getMonth()+1).toString().length?"0"+(o.getMonth()+1).toString():o.getMonth()+1)+"-"+(1===o.getDate().toString().length?"0"+o.getDate().toString():o.getDate()),r=r.getFullYear()+"-"+(1===(r.getMonth()+1).toString().length?"0"+(r.getMonth()+1).toString():r.getMonth()+1)+"-"+(1===r.getDate().toString().length?"0"+r.getDate().toString():r.getDate()),d=d.getFullYear()+"-"+(1===(d.getMonth()+1).toString().length?"0"+(d.getMonth()+1).toString():d.getMonth()+1)+"-"+(1===d.getDate().toString().length?"0"+d.getDate().toString():d.getDate()),c=c.getFullYear()+"-"+(1===(c.getMonth()+1).toString().length?"0"+(c.getMonth()+1).toString():c.getMonth()+1)+"-"+(1===c.getDate().toString().length?"0"+c.getDate().toString():c.getDate()),s]}var L=B(function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var o;Object(d.a)(this,n),(o=t.call(this,e)).updateAchievementsBooks=function(e){fetch("/control_interface/api/achievements_bonus/"+e.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){var t=o.state.achievements_books.map(function(t){return t.id===e.id?Object.assign({},e):t});o.setState({achievements_books:t})})},o.updateWeeklyAchievementsBooks=function(e){fetch("/control_interface/api/achievements_weekly/"+e.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){var t=o.state.weekly_achievements_books.map(function(t){return t.id===e.id?Object.assign({},e):t});o.setState({weekly_achievements_books:t})})},o.updateDailyAchievementsBooks=function(e){fetch("/control_interface/api/achievements_daily/"+e.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){var t=o.state.daily_achievements_books.map(function(t){return t.id===e.id?Object.assign({},e):t});o.setState({daily_achievements_books:t})})},o.updatePointsWalletBooks=function(e){fetch("/control_interface/api/points_wallet/"+e.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){var t=o.state.points_wallet_books.map(function(t){return t.id===e.id?Object.assign({},e):t});o.setState({points_wallet_books:t})})},o.handleAchievementsUpdate=function(e){e.id=o.props.current_user_id,o.updateAchievementsBooks(e)},o.handleWeeklyAchievementsUpdate=function(e){e.id=o.props.current_user_id,o.updateWeeklyAchievementsBooks(e)},o.handleDailyAchievementsUpdate=function(e){o.updateDailyAchievementsBooks(e)},o.handlePointsWalletUpdate=function(e){e.id=o.props.current_user_id,o.updatePointsWalletBooks(e)},o.updateScheduleAchievements=function(e){"add"===e?fetch("/control_interface/api/achievements_daily/").then(function(e){return e.json()}).then(function(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];o.setState({daily_achievements_books:e},function(){var n,a=this,o=Object(r.a)(e);try{for(o.s();!(n=o.n()).done;){var d=n.value;d.week_day===t[(new Date).getDay()]&&(0===d.daily_schedule?(d.daily_schedule=5,this.handleDailyAchievementsUpdate(d),fetch("/control_interface/api/achievements_bonus/").then(function(e){return e.json()}).then(function(e){a.setState({achievements_books:e},function(){var t=this;if(0===e[0].first_schedule){e[0].first_schedule=70,this.handleAchievementsUpdate(e[0]),fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+75,this.handlePointsWalletUpdate(e[0])})});var n=Math.round((new Date).getTime()/1e3),a=N("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"first_schedule"})}),fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"daily_schedule"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 70 points for setting your first schedule-based setting.",type:"success",seen:0}),e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 5 points for using schedule-based control for your devices today.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+2,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 70 points for setting your first schedule-based setting. </span> </div> </a>')),document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 5 points for using schedule-based control for your devices today. </span> </div> </a>'))})}else{fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+5,this.handlePointsWalletUpdate(e[0])})});n=Math.round((new Date).getTime()/1e3);var o=N("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"daily_schedule"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 5 points for using schedule-based control for your devices today.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+1,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 5 points for using schedule-based control for your devices today. </span> </div> </a>'))})}})})):fetch("/control_interface/api/achievements_bonus/").then(function(e){return e.json()}).then(function(e){a.setState({achievements_books:e},function(){var t=this;if(0===e[0].first_schedule){e[0].first_schedule=70,this.handleAchievementsUpdate(e[0]),fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+70,this.handlePointsWalletUpdate(e[0])})});var n=Math.round((new Date).getTime()/1e3),a=N("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"first_schedule"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 70 points for setting your first schedule-based setting.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+1,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 70 points for setting your first schedule-based setting. </span> </div> </a>'))})}})}))}}catch(c){o.e(c)}finally{o.f()}})}):fetch("/control_interface/api/achievements_bonus/").then(function(e){return e.json()}).then(function(e){o.setState({achievements_books:e},function(){var t=this;if(0===e[0].first_schedule){e[0].first_schedule=70,this.handleAchievementsUpdate(e[0]),fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+70,this.handlePointsWalletUpdate(e[0])})});var n=Math.round((new Date).getTime()/1e3),a=N("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"first_schedule"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 70 points for setting your first schedule-based setting.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+1,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 70 points for setting your first schedule-based setting. </span> </div> </a>'))})}})})},o.checkConflicts=function(e,t){var n,a=!1,d=[],c=document.querySelectorAll('input[name="ScheduleApplyOption"]:checked'),s=document.querySelectorAll('input[name="ScheduleRepeatOption"]:checked'),i=[],l=j(document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value),u=j(document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value),m=Object(r.a)(s);try{for(m.s();!(n=m.n()).done;){var p=n.value;l<"08:00:00"?(p===document.getElementById("ScheduleRepeatMonday")&&i.push(W()[7]),p===document.getElementById("ScheduleRepeatTuesday")&&i.push(W()[0]),p===document.getElementById("ScheduleRepeatWednesday")&&i.push(W()[1]),p===document.getElementById("ScheduleRepeatThursday")&&i.push(W()[2]),p===document.getElementById("ScheduleRepeatFriday")&&i.push(W()[3]),p===document.getElementById("ScheduleRepeatSaturday")&&i.push(W()[4]),p===document.getElementById("ScheduleRepeatSunday")&&i.push(W()[5])):(p===document.getElementById("ScheduleRepeatMonday")&&i.push(W()[0]),p===document.getElementById("ScheduleRepeatTuesday")&&i.push(W()[1]),p===document.getElementById("ScheduleRepeatWednesday")&&i.push(W()[2]),p===document.getElementById("ScheduleRepeatThursday")&&i.push(W()[3]),p===document.getElementById("ScheduleRepeatFriday")&&i.push(W()[4]),p===document.getElementById("ScheduleRepeatSaturday")&&i.push(W()[5]),p===document.getElementById("ScheduleRepeatSunday")&&i.push(W()[6]))}}catch(C){m.e(C)}finally{m.f()}var h="",g="",y="",v="";if("string"===typeof t.id)var f=t.id.indexOf("-"),E=Number(t.id.substring(0,f));else E=t.id;for(var b=0,S=i;b<S.length;b++){var w=S[b];h=w+" "+l,g=w+" "+u;var _,k=Object(r.a)(c);try{for(k.s();!(_=k.n()).done;){var B=_.value,I=0;B===document.getElementById("ScheduleApplyDesktop")&&(I=1),B===document.getElementById("ScheduleApplyLaptop")&&(I=2),B===document.getElementById("ScheduleApplyMonitor")&&(I=3),B===document.getElementById("ScheduleApplyTaskLamp")&&(I=4),B===document.getElementById("ScheduleApplyFan")&&(I=5),o.props.events.forEach(function(e){if(e.resourceId===I){var t=[];e.start.substring(11,19)<"08:00:00"?(e.rrule.substring(60,e.rrule.length).includes("MO")&&t.push(W()[7]),e.rrule.substring(60,e.rrule.length).includes("TU")&&t.push(W()[0]),e.rrule.substring(60,e.rrule.length).includes("WE")&&t.push(W()[1]),e.rrule.substring(60,e.rrule.length).includes("TH")&&t.push(W()[2]),e.rrule.substring(60,e.rrule.length).includes("FR")&&t.push(W()[3]),e.rrule.substring(60,e.rrule.length).includes("SA")&&t.push(W()[4]),e.rrule.substring(60,e.rrule.length).includes("SU")&&t.push(W()[5])):(e.rrule.substring(60,e.rrule.length).includes("MO")&&t.push(W()[0]),e.rrule.substring(60,e.rrule.length).includes("TU")&&t.push(W()[1]),e.rrule.substring(60,e.rrule.length).includes("WE")&&t.push(W()[2]),e.rrule.substring(60,e.rrule.length).includes("TH")&&t.push(W()[3]),e.rrule.substring(60,e.rrule.length).includes("FR")&&t.push(W()[4]),e.rrule.substring(60,e.rrule.length).includes("SA")&&t.push(W()[5]),e.rrule.substring(60,e.rrule.length).includes("SU")&&t.push(W()[6]));for(var n=0,o=t;n<o.length;n++){var r=o[n];y=r+e.start.substring(10,19),v=r+e.end.substring(10,19),(h>=y&&h<v||g>y&&g<=v||y>=h&&y<g||v>h&&v<=g)&&e.id!==E&&(a=!0,d.includes(e)||d.push(e))}}})}}catch(C){k.e(C)}finally{k.f()}}return[a,d]},o.isNonWorkingTime=function(e,t){return!0},o.getScrollSpecialMoment=function(e,t,n){var a=o.props.date+" 07:00:00";return E()(a)},o.eventClicked=function(e,t){var n=e.getSlotById(t.resourceId).name;h.a.render(m.a.createElement(O,{type:"",device_type:"Edit Schedule: "+n,event_rrule:t.rrule,event_start:t.start,event_end:t.end,event_name:t.title,okButtonClicked:function(){var o="2020-01-01 "+j(document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value),d=j(document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value);if(o>=(d="00:00:00"===d?"2020-01-02 "+d:"2020-01-01 "+d))h.a.render(m.a.createElement(I,{message:"Check your timings! Start time should be before end time.",onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"));else{var c=window.calendar.checkConflicts(e,t),s=Object(a.a)(c,2),i=s[0],l=s[1];if(i){var u,p="Conflict occurred for the following events:",g=Object(r.a)(l);try{for(g.s();!(u=g.n()).done;){var y=u.value,v="";y.start.substring(11,19)<"08:00:00"?(y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Sunday, ")):(y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Sunday, "));var f=e.getSlotById(y.resourceId).name;p+="<new>- ".concat(y.title," for ").concat(f," on ").concat(v.substring(0,v.length-2))}}catch(T){g.e(T)}finally{g.f()}h.a.render(m.a.createElement(C,{message:p,onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"))}else{t.title=document.getElementById("schedule_name_input").value+" ("+document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value+" - "+document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value+")",e.updateEventStart(t,window.calendar.props.date+" "+x("Start")+":"+document.getElementById("StartMinute").value+":00"),e.updateEventEnd(t,window.calendar.props.date+" "+x("End")+":"+document.getElementById("EndMinute").value+":00");var E="FREQ=WEEKLY;DTSTART="+window.calendar.props.startDate.substring(0,4)+window.calendar.props.startDate.substring(5,7)+window.calendar.props.startDate.substring(8,10)+"T000000Z;UNTIL="+window.calendar.props.sundayDate.substring(0,4)+window.calendar.props.sundayDate.substring(5,7)+window.calendar.props.sundayDate.substring(8,10)+"T235900Z;BYDAY=";document.getElementById("ScheduleRepeatEveryDay").checked?t.rrule=E+"MO,TU,WE,TH,FR,SA,SU":(document.getElementById("ScheduleRepeatMonday").checked&&(E+="MO,"),document.getElementById("ScheduleRepeatTuesday").checked&&(E+="TU,"),document.getElementById("ScheduleRepeatWednesday").checked&&(E+="WE,"),document.getElementById("ScheduleRepeatThursday").checked&&(E+="TH,"),document.getElementById("ScheduleRepeatFriday").checked&&(E+="FR,"),document.getElementById("ScheduleRepeatSaturday").checked&&(E+="SA,"),document.getElementById("ScheduleRepeatSunday").checked&&(E+="SU,"),t.rrule=E.substring(0,E.length-1)),document.getElementById("ScheduleApply"+n.replace(/\s/g,"")).checked=!1;var b=0;if(e.events.forEach(function(e){(e.database_id>=b||e.id>=b)&&(b=e.database_id)}),document.getElementById("ScheduleApplyDesktop").checked){var S={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:1,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(S,window.calendar.props.current_user_id)),e.addEvent(S),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyMonitor").checked){var w={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:3,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(w,window.calendar.props.current_user_id)),e.addEvent(w),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyLaptop").checked){var _={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:2,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(_,window.calendar.props.current_user_id)),e.addEvent(_),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyTaskLamp").checked){var k={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:4,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(k,window.calendar.props.current_user_id)),e.addEvent(k),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyFan").checked){var B={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:5,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(B,window.calendar.props.current_user_id)),e.addEvent(B),window.calendar.setState({viewModel:e})}window.calendar.props.onUpdateClick(P(t,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("update"),window.calendar.setState({viewModel:e}),window.calendar.props.refetchData(),setTimeout(function(){document.getElementById(window.calendar.props.day+"Calendar").click()},3e3)}}},closeButtonClicked:function(){h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule"))},deleteButtonClicked:function(){window.calendar.props.onDeleteClick(t.database_id),window.calendar.props.refetchData(),e.removeEvent(t),window.calendar.setState({viewModel:e}),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("delete")}}),document.getElementById("popup-container-schedule"))},o.newEvent=function(e,t,n,d,c,s,i){var l=0;e.events.forEach(function(e){(e.database_id>=l||e.id>=l)&&(l=e.database_id+1)});var u={id:l,title:"(no name) ("+E()(d).format("hh:mm A")+" - "+E()(c).format("hh:mm A")+")",start:d,end:c,resourceId:t,bgColor:"#06D6A0",showPopover:!1,rrule:"FREQ=WEEKLY;DTSTART="+o.props.startDate.substring(0,4)+o.props.startDate.substring(5,7)+o.props.startDate.substring(8,10)+"T000000Z;UNTIL="+o.props.sundayDate.substring(0,4)+o.props.sundayDate.substring(5,7)+o.props.sundayDate.substring(8,10)+"T235900Z;BYDAY="+o.props.day.substring(0,2).toUpperCase()};e.addEvent(u),o.setState({viewModel:e}),h.a.render(m.a.createElement(O,{type:"new",device_type:"Add Schedule: "+n,event_rrule:u.rrule,event_start:u.start,event_end:u.end,event_name:u.title,okButtonClicked:function(){var t="2020-01-01 "+j(document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value),o=j(document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value);if(t>=(o="00:00:00"===o?"2020-01-02 "+o:"2020-01-01 "+o))h.a.render(m.a.createElement(I,{message:"Check your timings! Start time should be before end time.",onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"));else{var d=window.calendar.checkConflicts(e,u),c=Object(a.a)(d,2),s=c[0],i=c[1];if(s){var p,g="Conflict occurred for the following events:",y=Object(r.a)(i);try{for(y.s();!(p=y.n()).done;){var v=p.value,f="";v.start.substring(11,19)<"08:00:00"?(v.rrule.substring(60,v.rrule.length).includes("SU")&&(f+="Monday, "),v.rrule.substring(60,v.rrule.length).includes("MO")&&(f+="Tuesday, "),v.rrule.substring(60,v.rrule.length).includes("TU")&&(f+="Wednesday, "),v.rrule.substring(60,v.rrule.length).includes("WE")&&(f+="Thursday, "),v.rrule.substring(60,v.rrule.length).includes("TH")&&(f+="Friday, "),v.rrule.substring(60,v.rrule.length).includes("FR")&&(f+="Saturday, "),v.rrule.substring(60,v.rrule.length).includes("SA")&&(f+="Sunday, ")):(v.rrule.substring(60,v.rrule.length).includes("MO")&&(f+="Monday, "),v.rrule.substring(60,v.rrule.length).includes("TU")&&(f+="Tuesday, "),v.rrule.substring(60,v.rrule.length).includes("WE")&&(f+="Wednesday, "),v.rrule.substring(60,v.rrule.length).includes("TH")&&(f+="Thursday, "),v.rrule.substring(60,v.rrule.length).includes("FR")&&(f+="Friday, "),v.rrule.substring(60,v.rrule.length).includes("SA")&&(f+="Saturday, "),v.rrule.substring(60,v.rrule.length).includes("SU")&&(f+="Sunday, "));var E=e.getSlotById(v.resourceId).name;g+="<new>- ".concat(v.title," for ").concat(E," on ").concat(f.substring(0,f.length-2))}}catch(T){y.e(T)}finally{y.f()}h.a.render(m.a.createElement(C,{message:g,onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"))}else{u.title=document.getElementById("schedule_name_input").value+" ("+document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value+" - "+document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value+")",e.updateEventStart(u,window.calendar.props.date+" "+x("Start")+":"+document.getElementById("StartMinute").value+":00"),e.updateEventEnd(u,window.calendar.props.date+" "+x("End")+":"+document.getElementById("EndMinute").value+":00");var b="FREQ=WEEKLY;DTSTART="+window.calendar.props.startDate.substring(0,4)+window.calendar.props.startDate.substring(5,7)+window.calendar.props.startDate.substring(8,10)+"T000000Z;UNTIL="+window.calendar.props.sundayDate.substring(0,4)+window.calendar.props.sundayDate.substring(5,7)+window.calendar.props.sundayDate.substring(8,10)+"T235900Z;BYDAY=";if(document.getElementById("ScheduleRepeatEveryDay").checked?u.rrule=b+"MO,TU,WE,TH,FR,SA,SU":(document.getElementById("ScheduleRepeatMonday").checked&&(b+="MO,"),document.getElementById("ScheduleRepeatTuesday").checked&&(b+="TU,"),document.getElementById("ScheduleRepeatWednesday").checked&&(b+="WE,"),document.getElementById("ScheduleRepeatThursday").checked&&(b+="TH,"),document.getElementById("ScheduleRepeatFriday").checked&&(b+="FR,"),document.getElementById("ScheduleRepeatSaturday").checked&&(b+="SA,"),document.getElementById("ScheduleRepeatSunday").checked&&(b+="SU,"),u.rrule=b.substring(0,b.length-1)),document.getElementById("ScheduleApply"+n.replace(/\s/g,"")).checked=!1,document.getElementById("ScheduleApplyDesktop").checked){var S={id:l+=1,title:u.title,start:u.start,end:u.end,resourceId:1,bgColor:"#06D6A0",showPopover:!1,rrule:u.rrule};window.calendar.props.onAddClick(U(S,window.calendar.props.current_user_id)),e.addEvent(S),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyMonitor").checked){var w={id:l+=1,title:u.title,start:u.start,end:u.end,resourceId:3,bgColor:"#06D6A0",showPopover:!1,rrule:u.rrule};window.calendar.props.onAddClick(U(w,window.calendar.props.current_user_id)),e.addEvent(w),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyLaptop").checked){var _={id:l+=1,title:u.title,start:u.start,end:u.end,resourceId:2,bgColor:"#06D6A0",showPopover:!1,rrule:u.rrule};window.calendar.props.onAddClick(U(_,window.calendar.props.current_user_id)),e.addEvent(_),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyTaskLamp").checked){var k={id:l+=1,title:u.title,start:u.start,end:u.end,resourceId:4,bgColor:"#06D6A0",showPopover:!1,rrule:u.rrule};window.calendar.props.onAddClick(U(k,window.calendar.props.current_user_id)),e.addEvent(k),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyFan").checked){var B={id:l+=1,title:u.title,start:u.start,end:u.end,resourceId:5,bgColor:"#06D6A0",showPopover:!1,rrule:u.rrule};window.calendar.props.onAddClick(U(B,window.calendar.props.current_user_id)),e.addEvent(B),window.calendar.setState({viewModel:e})}window.calendar.props.onAddClick(U(u,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("add"),window.calendar.setState({viewModel:e}),window.calendar.props.refetchData(),setTimeout(function(){document.getElementById(window.calendar.props.day+"Calendar").click()},3e3)}}},closeButtonClicked:function(){window.calendar.props.onAddClick(U(u,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("add")},deleteButtonClicked:function(){e.removeEvent(u),window.calendar.setState({viewModel:e}),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule"))}}),document.getElementById("popup-container-schedule"))},o.updateEventStart=function(e,t,n){e.updateEventStart(t,n),t.title=t.title.substring(0,t.title.length-22)+" ("+F(E()(n).format("HH:mm"))+" - "+F(E()(t.end).format("HH:mm"))+")",o.setState({viewModel:e});var d=e.getSlotById(t.resourceId).name;h.a.render(m.a.createElement(O,{type:"",device_type:"Edit Schedule: "+d,event_rrule:t.rrule,event_start:n,event_end:t.end,event_name:t.title,okButtonClicked:function(){var n="2020-01-01 "+j(document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value),o=j(document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value);if(n>=(o="00:00:00"===o?"2020-01-02 "+o:"2020-01-01 "+o))h.a.render(m.a.createElement(I,{message:"Check your timings! Start time should be before end time.",onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"));else{var c=window.calendar.checkConflicts(e,t),s=Object(a.a)(c,2),i=s[0],l=s[1];if(i){var u,p="Conflict occurred for the following events:",g=Object(r.a)(l);try{for(g.s();!(u=g.n()).done;){var y=u.value,v="";y.start.substring(11,19)<"08:00:00"?(y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Sunday, ")):(y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Sunday, "));var f=e.getSlotById(y.resourceId).name;p+="<new>- ".concat(y.title," for ").concat(f," on ").concat(v.substring(0,v.length-2))}}catch(T){g.e(T)}finally{g.f()}h.a.render(m.a.createElement(C,{message:p,onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"))}else{t.title=document.getElementById("schedule_name_input").value+" ("+document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value+" - "+document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value+")",e.updateEventStart(t,window.calendar.props.date+" "+x("Start")+":"+document.getElementById("StartMinute").value+":00"),e.updateEventEnd(t,window.calendar.props.date+" "+x("End")+":"+document.getElementById("EndMinute").value+":00");var E="FREQ=WEEKLY;DTSTART="+window.calendar.props.startDate.substring(0,4)+window.calendar.props.startDate.substring(5,7)+window.calendar.props.startDate.substring(8,10)+"T000000Z;UNTIL="+window.calendar.props.sundayDate.substring(0,4)+window.calendar.props.sundayDate.substring(5,7)+window.calendar.props.sundayDate.substring(8,10)+"T235900Z;BYDAY=";document.getElementById("ScheduleRepeatEveryDay").checked?t.rrule=E+"MO,TU,WE,TH,FR,SA,SU":(document.getElementById("ScheduleRepeatMonday").checked&&(E+="MO,"),document.getElementById("ScheduleRepeatTuesday").checked&&(E+="TU,"),document.getElementById("ScheduleRepeatWednesday").checked&&(E+="WE,"),document.getElementById("ScheduleRepeatThursday").checked&&(E+="TH,"),document.getElementById("ScheduleRepeatFriday").checked&&(E+="FR,"),document.getElementById("ScheduleRepeatSaturday").checked&&(E+="SA,"),document.getElementById("ScheduleRepeatSunday").checked&&(E+="SU,"),t.rrule=E.substring(0,E.length-1)),document.getElementById("ScheduleApply"+d.replace(/\s/g,"")).checked=!1;var b=0;if(e.events.forEach(function(e){(e.database_id>=b||e.id>=b)&&(b=e.database_id)}),document.getElementById("ScheduleApplyDesktop").checked){var S={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:1,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(S,window.calendar.props.current_user_id)),e.addEvent(S),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyMonitor").checked){var w={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:3,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(w,window.calendar.props.current_user_id)),e.addEvent(w),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyLaptop").checked){var _={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:2,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(_,window.calendar.props.current_user_id)),e.addEvent(_),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyTaskLamp").checked){var k={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:4,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(k,window.calendar.props.current_user_id)),e.addEvent(k),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyFan").checked){var B={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:5,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(B,window.calendar.props.current_user_id)),e.addEvent(B),window.calendar.setState({viewModel:e})}window.calendar.props.onUpdateClick(P(t,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("update"),window.calendar.setState({viewModel:e}),window.calendar.props.refetchData(),setTimeout(function(){document.getElementById(window.calendar.props.day+"Calendar").click()},3e3)}}},closeButtonClicked:function(){window.calendar.props.onUpdateClick(P(t,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("update")},deleteButtonClicked:function(){e.removeEvent(t),window.calendar.props.onDeleteClick(t.database_id),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("delete"),window.calendar.setState({viewModel:e})}}),document.getElementById("popup-container-schedule"))},o.updateEventEnd=function(e,t,n){e.updateEventEnd(t,n),t.title=t.title.substring(0,t.title.length-22)+" ("+F(E()(t.start).format("HH:mm"))+" - "+F(E()(n).format("HH:mm"))+")",o.setState({viewModel:e});var d=e.getSlotById(t.resourceId).name;h.a.render(m.a.createElement(O,{type:"",device_type:"Edit Schedule: "+d,event_rrule:t.rrule,event_start:t.start,event_end:n,event_name:t.title,okButtonClicked:function(){var n="2020-01-01 "+j(document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value),o=j(document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value);if(n>=(o="00:00:00"===o?"2020-01-02 "+o:"2020-01-01 "+o))h.a.render(m.a.createElement(I,{message:"Check your timings! Start time should be before end time.",onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"));else{var c=window.calendar.checkConflicts(e,t),s=Object(a.a)(c,2),i=s[0],l=s[1];if(i){var u,p="Conflict occurred for the following events:",g=Object(r.a)(l);try{for(g.s();!(u=g.n()).done;){var y=u.value,v="";y.start.substring(11,19)<"08:00:00"?(y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Sunday, ")):(y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Sunday, "));var f=e.getSlotById(y.resourceId).name;p+="<new>- ".concat(y.title," for ").concat(f," on ").concat(v.substring(0,v.length-2))}}catch(T){g.e(T)}finally{g.f()}h.a.render(m.a.createElement(C,{message:p,onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"))}else{t.title=document.getElementById("schedule_name_input").value+" ("+document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value+" - "+document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value+")",e.updateEventStart(t,window.calendar.props.date+" "+x("Start")+":"+document.getElementById("StartMinute").value+":00"),e.updateEventEnd(t,window.calendar.props.date+" "+x("End")+":"+document.getElementById("EndMinute").value+":00");var E="FREQ=WEEKLY;DTSTART="+window.calendar.props.startDate.substring(0,4)+window.calendar.props.startDate.substring(5,7)+window.calendar.props.startDate.substring(8,10)+"T000000Z;UNTIL="+window.calendar.props.sundayDate.substring(0,4)+window.calendar.props.sundayDate.substring(5,7)+window.calendar.props.sundayDate.substring(8,10)+"T235900Z;BYDAY=";document.getElementById("ScheduleRepeatEveryDay").checked?t.rrule=E+"MO,TU,WE,TH,FR,SA,SU":(document.getElementById("ScheduleRepeatMonday").checked&&(E+="MO,"),document.getElementById("ScheduleRepeatTuesday").checked&&(E+="TU,"),document.getElementById("ScheduleRepeatWednesday").checked&&(E+="WE,"),document.getElementById("ScheduleRepeatThursday").checked&&(E+="TH,"),document.getElementById("ScheduleRepeatFriday").checked&&(E+="FR,"),document.getElementById("ScheduleRepeatSaturday").checked&&(E+="SA,"),document.getElementById("ScheduleRepeatSunday").checked&&(E+="SU,"),t.rrule=E.substring(0,E.length-1)),document.getElementById("ScheduleApply"+d.replace(/\s/g,"")).checked=!1;var b=0;if(e.events.forEach(function(e){(e.database_id>=b||e.id>=b)&&(b=e.database_id)}),document.getElementById("ScheduleApplyDesktop").checked){var S={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:1,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(S,window.calendar.props.current_user_id)),e.addEvent(S),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyMonitor").checked){var w={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:3,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(w,window.calendar.props.current_user_id)),e.addEvent(w),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyLaptop").checked){var _={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:2,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(_,window.calendar.props.current_user_id)),e.addEvent(_),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyTaskLamp").checked){var k={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:4,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(k,window.calendar.props.current_user_id)),e.addEvent(k),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyFan").checked){var B={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:5,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(B,window.calendar.props.current_user_id)),e.addEvent(B),window.calendar.setState({viewModel:e})}window.calendar.props.onUpdateClick(P(t,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("update"),window.calendar.setState({viewModel:e}),window.calendar.props.refetchData(),setTimeout(function(){document.getElementById(window.calendar.props.day+"Calendar").click()},3e3)}}},closeButtonClicked:function(){h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.props.onUpdateClick(P(t,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),window.calendar.updateScheduleAchievements("update")},deleteButtonClicked:function(){window.calendar.props.onDeleteClick(t.database_id),window.calendar.props.refetchData(),e.removeEvent(t),window.calendar.setState({viewModel:e}),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("delete")}}),document.getElementById("popup-container-schedule"))},o.moveEvent=function(e,t,n,d,c,s){e.updateEventStart(t,c),e.updateEventEnd(t,s),t.title=t.title.substring(0,t.title.length-22)+" ("+F(E()(c).format("HH:mm"))+" - "+F(E()(s).format("HH:mm"))+")",o.setState({viewModel:e}),h.a.render(m.a.createElement(O,{type:"",device_type:"Edit Schedule: "+d,event_rrule:t.rrule,event_start:c,event_end:s,event_name:t.title,okButtonClicked:function(){var n="2020-01-01 "+j(document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value),o=j(document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value);if(n>=(o="00:00:00"===o?"2020-01-02 "+o:"2020-01-01 "+o))h.a.render(m.a.createElement(I,{message:"Check your timings! Start time should be before end time.",onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"));else{var c=window.calendar.checkConflicts(e,t),s=Object(a.a)(c,2),i=s[0],l=s[1];if(i){var u,p="Conflict occurred for the following events:",g=Object(r.a)(l);try{for(g.s();!(u=g.n()).done;){var y=u.value,v="";y.start.substring(11,19)<"08:00:00"?(y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Sunday, ")):(y.rrule.substring(60,y.rrule.length).includes("MO")&&(v+="Monday, "),y.rrule.substring(60,y.rrule.length).includes("TU")&&(v+="Tuesday, "),y.rrule.substring(60,y.rrule.length).includes("WE")&&(v+="Wednesday, "),y.rrule.substring(60,y.rrule.length).includes("TH")&&(v+="Thursday, "),y.rrule.substring(60,y.rrule.length).includes("FR")&&(v+="Friday, "),y.rrule.substring(60,y.rrule.length).includes("SA")&&(v+="Saturday, "),y.rrule.substring(60,y.rrule.length).includes("SU")&&(v+="Sunday, "));var f=e.getSlotById(y.resourceId).name;p+="<new>- ".concat(y.title," for ").concat(f," on ").concat(v.substring(0,v.length-2))}}catch(T){g.e(T)}finally{g.f()}h.a.render(m.a.createElement(C,{message:p,onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"))}else{t.title=document.getElementById("schedule_name_input").value+" ("+document.getElementById("StartHour").value+":"+document.getElementById("StartMinute").value+" "+document.getElementById("StartAMPM").value+" - "+document.getElementById("EndHour").value+":"+document.getElementById("EndMinute").value+" "+document.getElementById("EndAMPM").value+")",e.updateEventStart(t,window.calendar.props.date+" "+x("Start")+":"+document.getElementById("StartMinute").value+":00"),e.updateEventEnd(t,window.calendar.props.date+" "+x("End")+":"+document.getElementById("EndMinute").value+":00");var E="FREQ=WEEKLY;DTSTART="+window.calendar.props.startDate.substring(0,4)+window.calendar.props.startDate.substring(5,7)+window.calendar.props.startDate.substring(8,10)+"T000000Z;UNTIL="+window.calendar.props.sundayDate.substring(0,4)+window.calendar.props.sundayDate.substring(5,7)+window.calendar.props.sundayDate.substring(8,10)+"T235900Z;BYDAY=";document.getElementById("ScheduleRepeatEveryDay").checked?t.rrule=E+"MO,TU,WE,TH,FR,SA,SU":(document.getElementById("ScheduleRepeatMonday").checked&&(E+="MO,"),document.getElementById("ScheduleRepeatTuesday").checked&&(E+="TU,"),document.getElementById("ScheduleRepeatWednesday").checked&&(E+="WE,"),document.getElementById("ScheduleRepeatThursday").checked&&(E+="TH,"),document.getElementById("ScheduleRepeatFriday").checked&&(E+="FR,"),document.getElementById("ScheduleRepeatSaturday").checked&&(E+="SA,"),document.getElementById("ScheduleRepeatSunday").checked&&(E+="SU,"),t.rrule=E.substring(0,E.length-1));var b=0;if(e.events.forEach(function(e){(e.database_id>=b||e.id>=b)&&(b=e.database_id)}),document.getElementById("ScheduleApply"+d.replace(/\s/g,"")).checked=!1,document.getElementById("ScheduleApplyDesktop").checked){var S={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:1,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(S,window.calendar.props.current_user_id)),e.addEvent(S),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyMonitor").checked){var w={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:3,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(w,window.calendar.props.current_user_id)),e.addEvent(w),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyLaptop").checked){var _={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:2,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(_,window.calendar.props.current_user_id)),e.addEvent(_),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyTaskLamp").checked){var k={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:4,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(k,window.calendar.props.current_user_id)),e.addEvent(k),window.calendar.setState({viewModel:e})}if(document.getElementById("ScheduleApplyFan").checked){var B={id:b+=1,title:t.title,start:t.start,end:t.end,resourceId:5,bgColor:"#06D6A0",showPopover:!1,rrule:t.rrule};window.calendar.props.onAddClick(U(B,window.calendar.props.current_user_id)),e.addEvent(B),window.calendar.setState({viewModel:e})}window.calendar.props.onUpdateClick(P(t,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("update"),window.calendar.setState({viewModel:e}),window.calendar.props.refetchData(),setTimeout(function(){document.getElementById(window.calendar.props.day+"Calendar").click()},3e3)}}},closeButtonClicked:function(){h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.props.onUpdateClick(P(t,window.calendar.props.current_user_id)),window.calendar.props.refetchData(),window.calendar.updateScheduleAchievements("update")},deleteButtonClicked:function(){window.calendar.props.onDeleteClick(t.database_id),window.calendar.props.refetchData(),h.a.unmountComponentAtNode(document.getElementById("popup-container-schedule")),window.calendar.updateScheduleAchievements("delete"),e.removeEvent(t),window.calendar.setState({viewModel:e})}}),document.getElementById("popup-container-schedule"))},o.conflictOccurred=function(e,t,n,a,o,r,d,c){h.a.render(m.a.createElement(I,{message:"This is conflicting with a schedule set for "+r+".",onOK:function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))}}),document.getElementById("confirm-alert"))};var c=new b.SchedulerData(o.props.date,b.ViewTypes.Day,!1,!1,{checkConflict:!0,recurringEventsEnabled:!0,scrollToSpecialMomentEnabled:!0,crossResourceMove:!1},{getScrollSpecialMomentFunc:o.getScrollSpecialMoment,isNonWorkingTimeFunc:o.isNonWorkingTime});return c.setResources(o.props.devices),c.setEvents(o.props.events),o.state={viewModel:c,achievements_books:[],weekly_achievements_books:[],points_wallet_books:[],daily_achievements_books:[],key:1},window.calendar=Object(s.a)(o),o}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state.viewModel;return m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement(S.a,{key:this.state.key,schedulerData:e,eventItemClick:this.eventClicked,updateEventStart:this.updateEventStart,updateEventEnd:this.updateEventEnd,moveEvent:this.moveEvent,newEvent:this.newEvent,conflictOccurred:this.conflictOccurred})))}}]),n}(u.Component));function H(e,t){var n=0;return e.device_type>t.device_type?n=1:e.device_type<t.device_type&&(n=-1),n}var Y=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={books:[],key:1,devices:[]},a.fetchData=function(){fetch("/control_interface/api/remote/").then(function(e){return e.json()}).then(function(e){e.sort(H);var t,n=[],o=Object(r.a)(e);try{for(o.s();!(t=o.n()).done;){var d=t.value;n.push(d.device_type)}}catch(c){o.e(c)}finally{o.f()}a.setState({books:e,key:a.state.key+1,devices:n})}),setTimeout(a.fetchData,5e3)},a.updateBook=function(e){fetch("/control_interface/api/remote/"+e.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){var t=a.state.books.map(function(t){return t.id===e.id?Object.assign({},e):t});a.setState({books:t})})},window.remote=Object(s.a)(a),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{id:"remote_control_space"},m.a.createElement(J,{key:this.state.key,books:this.state.books,onUpdateClick:this.updateBook})),m.a.createElement("p",{style:{float:"right"}}," Note: It will take around 5 seconds for your devices to be switched ON/OFF. "))}}]),n}(u.Component),J=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.books.map(function(t){return m.a.createElement(K,{key:t.id,id:t.id,user_id:t.user_id,device_type:t.device_type,device_state:t.device_state,onUpdateClick:e.props.onUpdateClick})});return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{float:"right"}},m.a.createElement("p",{style:{marginLeft:"50px",marginBottom:"5px"}}," Master "),m.a.createElement(X,{id:"master",defaultChecked:!0,books:this.props.books})),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("div",{style:{margin:"auto",width:"fit-content"}},t))}}]),n}(u.Component),K=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleUpdate=function(t){t.id=e.props.id,e.props.onUpdateClick(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement(Z,{id:e.props.id,user_id:e.props.user_id,device_type:e.props.device_type,device_state:e.props.device_state,onFormSubmit:e.handleUpdate}))}}]),n}(u.Component),Z=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={user_id:e.props.user_id,device_type:e.props.device_type,device_state:e.props.device_state,achievements_books:[],daily_achievements_books:[],points_wallet_books:[]},e.updateAchievementsBooks=function(t){fetch("/control_interface/api/achievements_bonus/"+t.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){var n=e.state.achievements_books.map(function(e){return e.id===t.id?Object.assign({},t):e});e.setState({achievements_books:n})})},e.updateDailyAchievementsBooks=function(t){fetch("/control_interface/api/achievements_daily/"+t.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){var n=e.state.daily_achievements_books.map(function(e){return e.id===t.id?Object.assign({},t):e});e.setState({daily_achievements_books:n})})},e.updatePointsWalletBooks=function(t){fetch("/control_interface/api/points_wallet/"+t.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){var n=e.state.points_wallet_books.map(function(e){return e.id===t.id?Object.assign({},t):e});e.setState({points_wallet_books:n})})},e.handleAchievementsUpdate=function(t){t.id=e.props.user_id,e.updateAchievementsBooks(t)},e.handleDailyAchievementsUpdate=function(t){e.updateDailyAchievementsBooks(t)},e.handlePointsWalletUpdate=function(t){t.id=e.props.user_id,e.updatePointsWalletBooks(t)},e.updateRemoteAchievements=function(){fetch("/control_interface/api/user_presence/").then(function(e){return e.json()}).then(function(t){1===t[0].presence?fetch("/control_interface/api/achievements_bonus/").then(function(e){return e.json()}).then(function(t){e.setState({achievements_books:t},function(){var e=this;if(0===t[0].first_remote){t[0].first_remote=60,this.handleAchievementsUpdate(t[0]),fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(t){e.setState({points_wallet_books:t},function(){t[0].points=t[0].points+60,this.handlePointsWalletUpdate(t[0])})});var n=Math.round((new Date).getTime()/1e3),a=ae("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:t[0].user_id,type:"achievement",unix_time:n,description:"first_remote"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 60 points for trying out our remote control feature for the first time.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+1,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have have been awarded 60 points for trying out our remote control feature for the first time. </span> </div> </a>'))})}})}):fetch("/control_interface/api/achievements_daily/").then(function(e){return e.json()}).then(function(t){var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];e.setState({daily_achievements_books:t},function(){var e,a=this,o=Object(r.a)(t);try{for(o.s();!(e=o.n()).done;){var d=e.value;d.week_day===n[(new Date).getDay()]&&0===d.daily_remote&&(d.daily_remote=5,this.handleDailyAchievementsUpdate(d),fetch("/control_interface/api/achievements_bonus/").then(function(e){return e.json()}).then(function(e){a.setState({achievements_books:e},function(){var t=this;if(0===e[0].first_remote){e[0].first_remote=60,this.handleAchievementsUpdate(e[0]),fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+65,this.handlePointsWalletUpdate(e[0])})});var n=Math.round((new Date).getTime()/1e3),a=ae("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"first_remote"})}),fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"daily_remote"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 60 points for trying out our remote control feature for the first time.",type:"success",seen:0}),e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 5 points for using remote control while you are away from your desk today.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+2,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 60 points for trying out our remote control feature for the first time. </span> </div> </a>')),document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 5 points for using remote control while you are away from your desk today. </span> </div> </a>'))})}else{fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+5,this.handlePointsWalletUpdate(e[0])})});n=Math.round((new Date).getTime()/1e3);var o=ae("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({user_id:d.user_id,type:"achievement",unix_time:n,description:"daily_remote"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 5 points for using remote control while you are away from your desk today.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+1,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 5 points for using remote control while you are away from your desk today. </span> </div> </a>'))})}})}))}}catch(c){o.e(c)}finally{o.f()}})})})},e.handleFormSubmit=function(){e.props.onFormSubmit(Object(o.a)({},e.state))},e.onConfirm1=function(){var t=e.state.device_type+"ToggleRemote";document.getElementById(t).checked=!1,e.setState({device_state:!1},function(){this.handleFormSubmit()}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert")),Q(),e.updateRemoteAchievements()},e.onConfirm2=function(){var t=e.state.device_type+"ToggleRemote";document.getElementById(t).checked=!0,e.setState({device_state:!0},function(){this.handleFormSubmit()}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert")),Q(),e.updateRemoteAchievements()},e.onCancel1=function(){var t=e.state.device_type+"ToggleRemote";document.getElementById(t).checked=!0,e.setState({device_state:!0},function(){this.handleFormSubmit()}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},e.onCancel2=function(){var t=e.state.device_type+"ToggleRemote";document.getElementById(t).checked=!1,e.setState({device_state:!1},function(){this.handleFormSubmit()}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},e.onChange=function(t){t.preventDefault(),"Desktop"===e.state.device_type||"Laptop"===e.state.device_type?!0===e.state.device_state?document.getElementById("confirm-alert").childNodes.length>0?e.setState({device_state:!1},function(){this.handleFormSubmit()}):h.a.render(m.a.createElement(v,{message:"You are switching off your "+e.state.device_type+".",onConfirm:e.onConfirm1,onCancel:e.onCancel1}),document.getElementById("confirm-alert")):document.getElementById("confirm-alert").childNodes.length>0?e.setState({device_state:!0},function(){this.handleFormSubmit()}):h.a.render(m.a.createElement(v,{message:"You are switching on your "+e.state.device_type+".",onConfirm:e.onConfirm2,onCancel:e.onCancel2}),document.getElementById("confirm-alert")):(e.setState({device_state:t.target.checked},function(){this.handleFormSubmit()}),Q(),e.updateRemoteAchievements())},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){Q()}},{key:"render",value:function(){if(!1===this.state.device_state)var e="greyRing",t="/static/Images/"+this.state.device_type.toString()+" OFF.png";else e="greenRing",t="/static/Images/"+this.state.device_type.toString()+" ON.png";return m.a.createElement("div",{id:this.state.device_type.replace(/\s/g,"")+"BoxRemote",className:"containerRemote"},m.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold",color:"black"}}," ",this.state.device_type," "),m.a.createElement("div",{id:this.state.device_type.replace(/\s/g,"")+"IconRemote"},m.a.createElement("div",{class:e},m.a.createElement("div",{class:"whiteRing"},m.a.createElement("img",{class:"PlugLoadIcon",src:t,alt:"Icon"})))),m.a.createElement("br",null),m.a.createElement("div",{className:"toggle-switch"},m.a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox",id:this.state.device_type.replace(/\s/g,"")+"ToggleRemote",checked:this.state.device_state,defaultChecked:this.state.device_state,onChange:this.onChange}),m.a.createElement("label",{className:"toggle-switch-label",htmlFor:this.state.device_type.replace(/\s/g,"")+"ToggleRemote"},m.a.createElement("span",{className:"toggle-switch-inner","data-yes":"ON","data-no":"OFF"}),m.a.createElement("span",{className:"toggle-switch-switch"}))))}}]),n}(u.Component),X=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={checked:a.props.defaultChecked},a.onConfirm1=function(){null!==document.getElementById("DesktopToggleRemote")&&!0===document.getElementById("DesktopToggleRemote").checked&&document.getElementById("DesktopToggleRemote").click(),null!==document.getElementById("MonitorToggleRemote")&&!0===document.getElementById("MonitorToggleRemote").checked&&document.getElementById("MonitorToggleRemote").click(),null!==document.getElementById("LaptopToggleRemote")&&!0===document.getElementById("LaptopToggleRemote").checked&&document.getElementById("LaptopToggleRemote").click(),null!==document.getElementById("TaskLampToggleRemote")&&!0===document.getElementById("TaskLampToggleRemote").checked&&document.getElementById("TaskLampToggleRemote").click(),null!==document.getElementById("FanToggleRemote")&&!0===document.getElementById("FanToggleRemote").checked&&document.getElementById("FanToggleRemote").click(),document.getElementById("master").checked=!1,a.setState({checked:!1}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},a.onConfirm2=function(){null!==document.getElementById("DesktopToggleRemote")&&!1===document.getElementById("DesktopToggleRemote").checked&&document.getElementById("DesktopToggleRemote").click(),null!==document.getElementById("MonitorToggleRemote")&&!1===document.getElementById("MonitorToggleRemote").checked&&document.getElementById("MonitorToggleRemote").click(),null!==document.getElementById("LaptopToggleRemote")&&!1===document.getElementById("LaptopToggleRemote").checked&&document.getElementById("LaptopToggleRemote").click(),null!==document.getElementById("TaskLampToggleRemote")&&!1===document.getElementById("TaskLampToggleRemote").checked&&document.getElementById("TaskLampToggleRemote").click(),null!==document.getElementById("FanToggleRemote")&&!1===document.getElementById("FanToggleRemote").checked&&document.getElementById("FanToggleRemote").click(),document.getElementById("master").checked=!0,a.setState({checked:!0}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},a.onCancel1=function(){document.getElementById("master").checked=!0,a.setState({checked:!0}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},a.onCancel2=function(){document.getElementById("master").checked=!1,a.setState({checked:!1}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},a.onChange=function(e){e.preventDefault(),!0===a.state.checked?h.a.render(m.a.createElement(v,{message:"You are switching off all your devices.",onConfirm:a.onConfirm1,onCancel:a.onCancel1}),document.getElementById("confirm-alert")):h.a.render(m.a.createElement(v,{message:"You are switching on all your devices.",onConfirm:a.onConfirm2,onCancel:a.onCancel2}),document.getElementById("confirm-alert"))},window.master=Object(s.a)(a),a}return Object(c.a)(n,[{key:"render",value:function(){var e,t=!1,n=Object(r.a)(this.props.books);try{for(n.s();!(e=n.n()).done;){!0===e.value.device_state&&(t=!0)}}catch(a){n.e(a)}finally{n.f()}return m.a.createElement("div",{className:"toggle-switch"+(this.props.Small?" small-switch":"")},m.a.createElement("input",{type:"checkbox",name:this.props.Name,className:"toggle-switch-checkbox",id:this.props.id,checked:this.checked,defaultChecked:t,onClick:this.onChange,disabled:this.props.disabled}),this.props.id?m.a.createElement("label",{className:"toggle-switch-label",htmlFor:this.props.id},m.a.createElement("span",{className:this.props.disabled?"toggle-switch-inner toggle-switch-disabled":"toggle-switch-inner","data-yes":"ON","data-no":"OFF"}),m.a.createElement("span",{className:this.props.disabled?"toggle-switch-switch toggle-switch-disabled":"toggle-switch-switch"})):null)}}]),n}(u.Component);function Q(){document.getElementById("master").checked=!1,window.master.setState({checked:!1},function(){var e,t=Object(r.a)(window.remote.state.devices);try{for(t.s();!(e=t.n()).done;){var n=e.value;document.getElementById(n.replace(/\s/g,"")+"ToggleRemote").checked&&(window.master.setState({checked:!0}),document.getElementById("master").checked=!0)}}catch(a){t.e(a)}finally{t.f()}})}h.a.render(m.a.createElement(Y,null),document.getElementById("remote-control"));var V=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={books:[],key:1},a.updateBook=function(e){fetch("/control_interface/api/presence/"+e.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){var t=a.state.books.map(function(t){return t.id===e.id?Object.assign({},e):t});a.setState({books:t})})},window.presencecontrol=Object(s.a)(a),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/control_interface/api/presence/").then(function(e){return e.json()}).then(function(t){t.sort(H),e.setState({books:t})})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement(q,{key:this.state.key,books:this.state.books,onUpdateClick:this.updateBook}))}}]),n}(u.Component),q=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.books.map(function(t){return m.a.createElement(z,{key:t.id,id:t.id,user_id:t.user_id,device_type:t.device_type,presence_setting:t.presence_setting,onUpdateClick:e.props.onUpdateClick})});return m.a.createElement("div",{class:"plugloadboxes"},t)}}]),n}(u.Component),z=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleUpdate=function(t){t.id=e.props.id,e.props.onUpdateClick(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement(G,{id:e.props.id,user_id:e.props.user_id,device_type:e.props.device_type,presence_setting:e.props.presence_setting,onFormSubmit:e.handleUpdate}))}}]),n}(u.Component),G=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={user_id:e.props.user_id,device_type:e.props.device_type,presence_setting:e.props.presence_setting,achievements_books:[],points_wallet_books:[],daily_achievements_books:[]},e.updateAchievementsBooks=function(t){fetch("/control_interface/api/achievements_bonus/"+t.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){var n=e.state.achievements_books.map(function(e){return e.id===t.id?Object.assign({},t):e});e.setState({achievements_books:n})})},e.updateDailyAchievementsBooks=function(t){fetch("/control_interface/api/achievements_daily/"+t.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){var n=e.state.daily_achievements_books.map(function(e){return e.id===t.id?Object.assign({},t):e});e.setState({daily_achievements_books:n})})},e.updatePointsWalletBooks=function(t){fetch("/control_interface/api/points_wallet/"+t.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){var n=e.state.points_wallet_books.map(function(e){return e.id===t.id?Object.assign({},t):e});e.setState({points_wallet_books:n})})},e.handleAchievementsUpdate=function(t){t.id=e.props.user_id,e.updateAchievementsBooks(t)},e.handleDailyAchievementsUpdate=function(t){e.updateDailyAchievementsBooks(t)},e.handlePointsWalletUpdate=function(t){t.id=e.props.user_id,e.updatePointsWalletBooks(t)},e.updatePresenceAchievements=function(){fetch("/control_interface/api/achievements_daily/").then(function(e){return e.json()}).then(function(t){var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];e.setState({daily_achievements_books:t},function(){var e,a=this,o=Object(r.a)(t);try{for(o.s();!(e=o.n()).done;){var d=e.value;d.week_day===n[(new Date).getDay()]&&0===d.daily_presence&&(d.daily_presence=5,this.handleDailyAchievementsUpdate(d),fetch("/control_interface/api/achievements_bonus/").then(function(e){return e.json()}).then(function(e){a.setState({achievements_books:e},function(){var t=this;if(0===e[0].first_presence){e[0].first_presence=70,this.handleAchievementsUpdate(e[0]),fetch("/control_interface/api/points_wallet/").then(function(e){return e.json()}).then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+75,this.handlePointsWalletUpdate(e[0])})});var n=Math.round((new Date).getTime()/1e3),a=ae("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"first_presence"})}),fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({user_id:e[0].user_id,type:"achievement",unix_time:n,description:"daily_presence"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 70 points for setting your first presence-based setting.",type:"success",seen:0}),e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 5 points for activating presence-based control for your devices today.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+2,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 70 points for setting your first presence-based setting. </span> </div> </a>')),document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 5 points for activating presence-based control for your devices today. </span> </div> </a>'))})}else{fetch("/control_interface/api/points_wallet/").then(function(e){t.setState({points_wallet_books:e},function(){e[0].points=e[0].points+5,this.handlePointsWalletUpdate(e[0])})});n=Math.round((new Date).getTime()/1e3);var o=ae("csrftoken");fetch("/control_interface/api/user_log/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({user_id:d.user_id,type:"achievement",unix_time:n,description:"daily_presence"})}),fetch("/control_interface/api/notifications/").then(function(e){return e.json()}).then(function(e){e[0].notifications.notifications.length;var t=e[0].user_id,n=new Date,a=n.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getUTCFullYear()+", "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];e[0].notifications.notifications.push({timestamp:a,message:"You have been awarded 5 points for activating presence-based control for your devices today.",type:"success",seen:0}),fetch("/control_interface/api/notifications/"+t.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e[0])}),document.getElementById("number_of_notifications").innerHTML=Number(document.getElementById("number_of_notifications").innerHTML)+1,document.getElementsByClassName("dropdown-list")[0].childNodes[1].insertAdjacentHTML("afterend",'<a class="dropdown-item d-flex align-items-center" href="#"> <div class="mr-3"> <div class="icon-circle bg-success"> <i class="fas fa-trophy text-white"> </i> </div> </div> <div> <div class="small text-gray-500"> '.concat(a,' </div> <span class="font-weight-bold"> You have been awarded 5 points for activating presence-based control for your devices today. </span> </div> </a>'))})}})}))}}catch(c){o.e(c)}finally{o.f()}})})},e.onConfirm1=function(){e.setState({presence_setting:"1000000"},function(){this.handleFormSubmit()}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},e.onCancel1=function(){document.getElementById(e.state.device_type.replace(/\s/g,"")+"Select").value=e.state.presence_setting,h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},e.handleFormSubmit=function(){e.props.onFormSubmit(Object(o.a)({},e.state))},e.handleSettingUpdate=function(t){"other"!==t.target.value&&"1000000"!==t.target.value&&(h.a.unmountComponentAtNode(document.getElementById(e.state.device_type.replace(/\s/g,"")+"PopupPresenceBox")),e.setState({presence_setting:t.target.value},function(){this.handleFormSubmit()}),e.updatePresenceAchievements()),"other"===t.target.value&&h.a.render(m.a.createElement($,{device_type:e.state.device_type,handleOtherUpdate:e.handleOtherUpdate,handleEnterClick:e.handleEnterClick,cancelButtonClicked:e.cancelButtonClicked,okButtonClicked:e.okButtonClicked}),document.getElementById(e.state.device_type.replace(/\s/g,"")+"PopupPresenceBox")),"1000000"===t.target.value&&(h.a.unmountComponentAtNode(document.getElementById(e.state.device_type.replace(/\s/g,"")+"PopupPresenceBox")),h.a.render(m.a.createElement(v,{message:"You are deactivating presence-based control for "+e.state.device_type+".",onConfirm:e.onConfirm1,onCancel:e.onCancel1}),document.getElementById("confirm-alert")))},e.handleOtherUpdate=function(t){e.setState({presence_setting:t.target.value})},e.handleEnterClick=function(t){"Enter"!==t.key&&13!==t.keyCode||e.okButtonClicked()},e.onConfirm2=function(){document.getElementById(e.state.device_type.replace(/\s/g,"")).className="redRing",document.getElementById(e.state.device_type.replace(/\s/g,"")).childNodes[0].childNodes[0].src="/static/Images/"+e.state.device_type.toString()+" OFF.png",document.getElementById(e.state.device_type.replace(/\s/g,"")+"Select").value="1000000",e.setState({presence_setting:"1000000"},function(){this.handleFormSubmit()}),h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},e.onCancel2=function(){h.a.unmountComponentAtNode(document.getElementById("confirm-alert"))},e.handlePresenceIconClick=function(){"greenRing"===document.getElementById(e.state.device_type.replace(/\s/g,"")).className?h.a.render(m.a.createElement(v,{message:"You are deactivating presence-based control for "+e.state.device_type+".",onConfirm:e.onConfirm2,onCancel:e.onCancel2}),document.getElementById("confirm-alert")):(document.getElementById(e.state.device_type.replace(/\s/g,"")).className="greenRing",document.getElementById(e.state.device_type.replace(/\s/g,"")).childNodes[0].childNodes[0].src="/static/Images/"+e.state.device_type.toString()+" ON.png",document.getElementById(e.state.device_type.replace(/\s/g,"")+"Select").value="5",e.setState({presence_setting:"5"},function(){this.handleFormSubmit()}),e.updatePresenceAchievements())},e.cancelButtonClicked=function(){h.a.unmountComponentAtNode(document.getElementById(e.state.device_type.replace(/\s/g,"")+"PopupPresenceBox")),document.getElementById(e.state.device_type.replace(/\s/g,"")+"Select").value="5",e.setState({presence_setting:5},function(){this.handleFormSubmit()}),e.updatePresenceAchievements()},e.okButtonClicked=function(){document.getElementById(e.state.device_type.replace(/\s/g,"")+"Select").value=document.getElementById(e.state.device_type.replace(/\s/g,"")+"TextOther").value.toString(),document.getElementById(e.state.device_type.replace(/\s/g,"")+"TextOther").value="15",h.a.unmountComponentAtNode(document.getElementById(e.state.device_type.replace(/\s/g,"")+"PopupPresenceBox")),e.handleFormSubmit(),e.updatePresenceAchievements()},e}return Object(c.a)(n,[{key:"render",value:function(){if(["1000000","5","10","20","30","60","other"].includes(this.state.presence_setting.toString()))var e=!0,t="",n="";else e=!1,t=this.state.presence_setting,n=this.state.presence_setting+" minutes";if("1000000"===this.state.presence_setting.toString())var a="redRing",o="/static/Images/"+this.state.device_type.toString()+" OFF.png";else a="greenRing",o="/static/Images/"+this.state.device_type.toString()+" ON.png";return m.a.createElement("div",{id:this.state.device_type.replace(/\s/g,"")+"BoxPresence",className:"containerPresence",onClick:this.exitClick},m.a.createElement("div",{className:"iconPresence"},m.a.createElement("div",{className:a,id:this.state.device_type.replace(/\s/g,""),onClick:this.handlePresenceIconClick},m.a.createElement("div",{className:"whiteRing"},m.a.createElement("img",{class:"PlugLoadIcon",src:o,alt:"Icon"})))),m.a.createElement("div",{style:{width:"200px",height:"10px",overflowY:"visible"}},m.a.createElement("div",{style:{position:"relative",width:"200px",height:"1px",overflowY:"visible"}},m.a.createElement("div",{className:"dropdownPresence",id:this.state.device_type.replace(/\s/g,"")+"Dropdown"},m.a.createElement("div",{class:"wordPresence"},m.a.createElement("p",null," ",this.state.device_type," ")),m.a.createElement("select",{defaultValue:this.state.presence_setting,onChange:this.handleSettingUpdate,id:this.state.device_type.replace(/\s/g,"")+"Select"},m.a.createElement("option",{value:"1000000"}," Deactivate "),m.a.createElement("optgroup",{label:"Off after I leave for:"},m.a.createElement("option",{value:"5"}," 5 minutes "),m.a.createElement("option",{value:"10"}," 10 minutes "),m.a.createElement("option",{value:"20"}," 20 minutes "),m.a.createElement("option",{value:"30"}," 30 minutes "),m.a.createElement("option",{value:"60"}," 1 hour "),m.a.createElement("option",{value:"other"}," Custom Time ")),m.a.createElement("option",{value:t,disabled:e}," ",n," "))),m.a.createElement("div",{id:this.state.device_type.replace(/\s/g,"")+"PopupPresenceBox"}," "))))}}]),n}(u.Component),$=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).exitClick=function(){e.props.cancelButtonClicked()},e}return Object(c.a)(n,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{id:"PopupPresenceOverlay",className:"popup_presence_overlay",onClick:this.exitClick}),m.a.createElement("div",{id:this.props.device_type.replace(/\s/g,"")+"PopupPresence",className:"visiblePresence"},m.a.createElement("input",{type:"number",id:this.props.device_type.replace(/\s/g,"")+"TextOther",onChange:this.props.handleOtherUpdate,onKeyUp:this.props.handleEnterClick,placeholder:"15"}),m.a.createElement("br",null),m.a.createElement("p",{className:"minutes"}," minutes "),m.a.createElement("br",null),m.a.createElement("button",{id:this.props.device_type.replace(/\s/g,"")+"CancelButton",onClick:this.props.cancelButtonClicked,className:"btn btn-sm"}," Cancel "),m.a.createElement("button",{id:this.props.device_type.replace(/\s/g,"")+"OkButton",className:"btn btn-sm",onClick:this.props.okButtonClicked}," OK ")))}}]),n}(u.Component);function ee(e,t){var n=0;return e.start>t.start?n=1:e.start<t.start&&(n=-1),n}function te(e){var t=Number(e.substring(0,2)),n=t>=12?"PM":"AM",a=(t=t%12||12)+":"+e.substring(3,5)+" "+n;return 8!==a.length&&(a="0"+a),a}function ne(){var e=new Date,t=new Date,n=new Date,a=new Date,o=new Date,r=new Date,d=new Date,c=new Date,s=new Date;return 0===e.getDay()?(s.setDate(e.getDate()-7),t.setDate(e.getDate()-6),n.setDate(e.getDate()-5),a.setDate(e.getDate()-4),o.setDate(e.getDate()-3),r.setDate(e.getDate()-2),d.setDate(e.getDate()-1),c.setDate(e.getDate())):(s.setDate(e.getDate()+(0-e.getDay())),t.setDate(e.getDate()+(1-e.getDay())),n.setDate(e.getDate()+(2-e.getDay())),a.setDate(e.getDate()+(3-e.getDay())),o.setDate(e.getDate()+(4-e.getDay())),r.setDate(e.getDate()+(5-e.getDay())),d.setDate(e.getDate()+(6-e.getDay())),c.setDate(e.getDate()+(7-e.getDay()))),s=s.getFullYear()+"-"+(1===(s.getMonth()+1).toString().length?"0"+(s.getMonth()+1).toString():s.getMonth()+1)+"-"+(1===s.getDate().toString().length?"0"+s.getDate().toString():s.getDate()),[t=t.getFullYear()+"-"+(1===(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1).toString():t.getMonth()+1)+"-"+(1===t.getDate().toString().length?"0"+t.getDate().toString():t.getDate()),n=n.getFullYear()+"-"+(1===(n.getMonth()+1).toString().length?"0"+(n.getMonth()+1).toString():n.getMonth()+1)+"-"+(1===n.getDate().toString().length?"0"+n.getDate().toString():n.getDate()),a=a.getFullYear()+"-"+(1===(a.getMonth()+1).toString().length?"0"+(a.getMonth()+1).toString():a.getMonth()+1)+"-"+(1===a.getDate().toString().length?"0"+a.getDate().toString():a.getDate()),o=o.getFullYear()+"-"+(1===(o.getMonth()+1).toString().length?"0"+(o.getMonth()+1).toString():o.getMonth()+1)+"-"+(1===o.getDate().toString().length?"0"+o.getDate().toString():o.getDate()),r=r.getFullYear()+"-"+(1===(r.getMonth()+1).toString().length?"0"+(r.getMonth()+1).toString():r.getMonth()+1)+"-"+(1===r.getDate().toString().length?"0"+r.getDate().toString():r.getDate()),d=d.getFullYear()+"-"+(1===(d.getMonth()+1).toString().length?"0"+(d.getMonth()+1).toString():d.getMonth()+1)+"-"+(1===d.getDate().toString().length?"0"+d.getDate().toString():d.getDate()),c=c.getFullYear()+"-"+(1===(c.getMonth()+1).toString().length?"0"+(c.getMonth()+1).toString():c.getMonth()+1)+"-"+(1===c.getDate().toString().length?"0"+c.getDate().toString():c.getDate()),s]}function ae(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var o=n[a].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}h.a.render(m.a.createElement(V,null),document.getElementById("presence-based-control"));var oe=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={events:[],dates:[],chosen_day:"",books:[],key:1,devices:[]},e.refetchData=function(){fetch("/control_interface/api/schedule/").then(function(e){return e.json()}).then(function(t){var n=[];window.remote.state.devices.includes("Desktop")&&n.push({id:1,name:"Desktop"}),window.remote.state.devices.includes("Fan")&&n.push({id:5,name:"Fan"}),window.remote.state.devices.includes("Laptop")&&n.push({id:2,name:"Laptop"}),window.remote.state.devices.includes("Monitor")&&n.push({id:3,name:"Monitor"}),window.remote.state.devices.includes("Task Lamp")&&n.push({id:4,name:"Task Lamp"}),e.setState({books:t,devices:n});var o,d=[],c=Object(r.a)(t);try{for(c.s();!(o=c.n()).done;){var s=o.value;e.setState({current_user_id:s.user_id});var i=s.device_type_id,l=s.event_id,u=s.event_start,m=s.event_end,p=te(u),h=te(m),g=s.event_name+" ("+p+" - "+h+")",y=ne(),v=Object(a.a)(y,8),f=v[0],E=v[1],b=v[2],S=v[3],w=v[4],_=v[5],k=v[6],B=v[7],I="FREQ=WEEKLY;DTSTART="+B.substring(0,4)+B.substring(5,7)+B.substring(8,10)+"T000000Z;UNTIL="+k.substring(0,4)+k.substring(5,7)+k.substring(8,10)+"T235900Z;BYDAY=";u="2020-01-01 "+u,m="00:00:00"===m?"2020-01-02 "+m:"2020-01-01 "+m,s.event_rrule.includes("MondayMorning")?"="===I.charAt(I.length-1)?I+="SU":I+=",SU":s.event_rrule.includes("Monday")&&("="===I.charAt(I.length-1)?I+="MO":I+=",MO"),s.event_rrule.includes("TuesdayMorning")?"="===I.charAt(I.length-1)?I+="MO":I+=",MO":s.event_rrule.includes("Tuesday")&&("="===I.charAt(I.length-1)?I+="TU":I+=",TU"),s.event_rrule.includes("WednesdayMorning")?"="===I.charAt(I.length-1)?I+="TU":I+=",TU":s.event_rrule.includes("Wednesday")&&("="===I.charAt(I.length-1)?I+="WE":I+=",WE"),s.event_rrule.includes("ThursdayMorning")?"="===I.charAt(I.length-1)?I+="WE":I+=",WE":s.event_rrule.includes("Thursday")&&("="===I.charAt(I.length-1)?I+="TH":I+=",TH"),s.event_rrule.includes("FridayMorning")?"="===I.charAt(I.length-1)?I+="TH":I+=",TH":s.event_rrule.includes("Friday")&&("="===I.charAt(I.length-1)?I+="FR":I+=",FR"),s.event_rrule.includes("SaturdayMorning")?"="===I.charAt(I.length-1)?I+="FR":I+=",FR":s.event_rrule.includes("Saturday")&&("="===I.charAt(I.length-1)?I+="SA":I+=",SA"),s.event_rrule.includes("SundayMorning")?"="===I.charAt(I.length-1)?I+="SA":I+=",SA":s.event_rrule.includes("Sunday")&&("="===I.charAt(I.length-1)?I+="SU":I+=",SU"),d.push({id:l,start:u,end:m,title:g,rrule:I,resourceId:i,showPopover:!1,bgColor:"#06D6A0",database_id:s.id})}}catch(C){c.e(C)}finally{c.f()}d.sort(ee),0===d.length&&d.push({id:1,start:ne()[7]+" 09:00:00",end:ne()[7]+" 10:00:00",title:"Empty",resourceId:1,showPopover:!1,bgColor:"#06D6A0"}),e.setState({events:d,dates:[f,E,b,S,w,_,k,B]})})},e.createNewBook=function(t){var n=ae("csrftoken");fetch("/control_interface/api/schedule/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){e.setState({books:e.state.books.concat([t])})})},e.updateBook=function(t){fetch("/control_interface/api/schedule/"+t.id.toString()+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){var n=e.state.books.map(function(e){return e.id===t.id?Object.assign({},t):e});e.setState({books:n})})},e.deleteBook=function(t){fetch("/control_interface/api/schedule/"+t+"/",{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(){e.setState({books:e.state.books.filter(function(e){return e.id!==t})})})},e.chooseMonday=function(){e.refetchData(),e.setState({chosen_day:"Monday"}),document.getElementById("MondayCalendar").className="selected",document.getElementById("TuesdayCalendar").className="",document.getElementById("WednesdayCalendar").className="",document.getElementById("ThursdayCalendar").className="",document.getElementById("FridayCalendar").className="",document.getElementById("SaturdayCalendar").className="",document.getElementById("SundayCalendar").className="",h.a.unmountComponentAtNode(document.getElementById("root")),h.a.render(m.a.createElement(L,{refetchData:e.refetchData,events:e.state.events,devices:e.state.devices,date:e.state.dates[0],onDeleteClick:e.deleteBook,onAddClick:e.createNewBook,onUpdateClick:e.updateBook,books:e.state.books,startDate:e.state.dates[7],mondayDate:e.state.dates[0],sundayDate:e.state.dates[6],day:"Monday",current_user_id:e.state.current_user_id}),document.getElementById("root"))},e.chooseTuesday=function(){e.refetchData(),e.setState({chosen_day:"Tuesday"}),document.getElementById("MondayCalendar").className="",document.getElementById("TuesdayCalendar").className="selected",document.getElementById("WednesdayCalendar").className="",document.getElementById("ThursdayCalendar").className="",document.getElementById("FridayCalendar").className="",document.getElementById("SaturdayCalendar").className="",document.getElementById("SundayCalendar").className="",h.a.unmountComponentAtNode(document.getElementById("root")),h.a.render(m.a.createElement(L,{refetchData:e.refetchData,events:e.state.events,devices:e.state.devices,date:e.state.dates[1],onDeleteClick:e.deleteBook,onAddClick:e.createNewBook,onUpdateClick:e.updateBook,books:e.state.books,startDate:e.state.dates[7],mondayDate:e.state.dates[0],sundayDate:e.state.dates[6],day:"Tuesday",current_user_id:e.state.current_user_id}),document.getElementById("root"))},e.chooseWednesday=function(){e.refetchData(),e.setState({chosen_day:"Wednesday"}),document.getElementById("MondayCalendar").className="",document.getElementById("TuesdayCalendar").className="",document.getElementById("WednesdayCalendar").className="selected",document.getElementById("ThursdayCalendar").className="",document.getElementById("FridayCalendar").className="",document.getElementById("SaturdayCalendar").className="",document.getElementById("SundayCalendar").className="",h.a.unmountComponentAtNode(document.getElementById("root")),h.a.render(m.a.createElement(L,{refetchData:e.refetchData,events:e.state.events,devices:e.state.devices,date:e.state.dates[2],onDeleteClick:e.deleteBook,onAddClick:e.createNewBook,onUpdateClick:e.updateBook,books:e.state.books,startDate:e.state.dates[7],mondayDate:e.state.dates[0],sundayDate:e.state.dates[6],day:"Wednesday",current_user_id:e.state.current_user_id}),document.getElementById("root"))},e.chooseThursday=function(){e.refetchData(),e.setState({chosen_day:"Thursday"}),document.getElementById("MondayCalendar").className="",document.getElementById("TuesdayCalendar").className="",document.getElementById("WednesdayCalendar").className="",document.getElementById("ThursdayCalendar").className="selected",document.getElementById("FridayCalendar").className="",document.getElementById("SaturdayCalendar").className="",document.getElementById("SundayCalendar").className="",h.a.unmountComponentAtNode(document.getElementById("root")),h.a.render(m.a.createElement(L,{refetchData:e.refetchData,events:e.state.events,devices:e.state.devices,date:e.state.dates[3],onDeleteClick:e.deleteBook,onAddClick:e.createNewBook,onUpdateClick:e.updateBook,books:e.state.books,startDate:e.state.dates[7],mondayDate:e.state.dates[0],sundayDate:e.state.dates[6],day:"Thursday",current_user_id:e.state.current_user_id}),document.getElementById("root"))},e.chooseFriday=function(){e.refetchData(),e.setState({chosen_day:"Friday"}),document.getElementById("MondayCalendar").className="",document.getElementById("TuesdayCalendar").className="",document.getElementById("WednesdayCalendar").className="",document.getElementById("ThursdayCalendar").className="",document.getElementById("FridayCalendar").className="selected",document.getElementById("SaturdayCalendar").className="",document.getElementById("SundayCalendar").className="",h.a.unmountComponentAtNode(document.getElementById("root")),h.a.render(m.a.createElement(L,{refetchData:e.refetchData,events:e.state.events,devices:e.state.devices,date:e.state.dates[4],onDeleteClick:e.deleteBook,onAddClick:e.createNewBook,onUpdateClick:e.updateBook,books:e.state.books,startDate:e.state.dates[7],mondayDate:e.state.dates[0],sundayDate:e.state.dates[6],day:"Friday",current_user_id:e.state.current_user_id}),document.getElementById("root"))},e.chooseSaturday=function(){e.refetchData(),e.setState({chosen_day:"Saturday"}),document.getElementById("MondayCalendar").className="",document.getElementById("TuesdayCalendar").className="",document.getElementById("WednesdayCalendar").className="",document.getElementById("ThursdayCalendar").className="",document.getElementById("FridayCalendar").className="",document.getElementById("SaturdayCalendar").className="selected",document.getElementById("SundayCalendar").className="",h.a.unmountComponentAtNode(document.getElementById("root")),h.a.render(m.a.createElement(L,{refetchData:e.refetchData,events:e.state.events,devices:e.state.devices,date:e.state.dates[5],onDeleteClick:e.deleteBook,onAddClick:e.createNewBook,onUpdateClick:e.updateBook,books:e.state.books,startDate:e.state.dates[7],mondayDate:e.state.dates[0],sundayDate:e.state.dates[6],day:"Saturday",current_user_id:e.state.current_user_id}),document.getElementById("root"))},e.chooseSunday=function(){e.refetchData(),e.setState({chosen_day:"Sunday"}),document.getElementById("MondayCalendar").className="",document.getElementById("TuesdayCalendar").className="",document.getElementById("WednesdayCalendar").className="",document.getElementById("ThursdayCalendar").className="",document.getElementById("FridayCalendar").className="",document.getElementById("SaturdayCalendar").className="",document.getElementById("SundayCalendar").className="selected",h.a.unmountComponentAtNode(document.getElementById("root")),h.a.render(m.a.createElement(L,{refetchData:e.refetchData,events:e.state.events,devices:e.state.devices,date:e.state.dates[6],onDeleteClick:e.deleteBook,onAddClick:e.createNewBook,onUpdateClick:e.updateBook,books:e.state.books,startDate:e.state.dates[7],mondayDate:e.state.dates[0],sundayDate:e.state.dates[6],day:"Sunday",current_user_id:e.state.current_user_id}),document.getElementById("root"))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/control_interface/api/schedule/").then(function(e){return e.json()}).then(function(t){var n=[];window.remote.state.devices.includes("Desktop")&&n.push({id:1,name:"Desktop"}),window.remote.state.devices.includes("Fan")&&n.push({id:5,name:"Fan"}),window.remote.state.devices.includes("Laptop")&&n.push({id:2,name:"Laptop"}),window.remote.state.devices.includes("Monitor")&&n.push({id:3,name:"Monitor"}),window.remote.state.devices.includes("Task Lamp")&&n.push({id:4,name:"Task Lamp"}),e.setState({books:t,devices:n});var o,d=[],c=Object(r.a)(t);try{for(c.s();!(o=c.n()).done;){var s=o.value;e.setState({current_user_id:s.user_id});var i=s.device_type_id,l=s.event_id,u=s.event_start,m=s.event_end,p=te(u),h=te(m),g=s.event_name+" ("+p+" - "+h+")",y=ne(),v=Object(a.a)(y,8),f=v[0],E=v[1],b=v[2],S=v[3],w=v[4],_=v[5],k=v[6],B=v[7],I="FREQ=WEEKLY;DTSTART="+B.substring(0,4)+B.substring(5,7)+B.substring(8,10)+"T000000Z;UNTIL="+k.substring(0,4)+k.substring(5,7)+k.substring(8,10)+"T235900Z;BYDAY=";u="2020-01-01 "+u,m="00:00:00"===m?"2020-01-02 "+m:"2020-01-01 "+m,s.event_rrule.includes("MondayMorning")?"="===I.charAt(I.length-1)?I+="SU":I+=",SU":s.event_rrule.includes("Monday")&&("="===I.charAt(I.length-1)?I+="MO":I+=",MO"),s.event_rrule.includes("TuesdayMorning")?"="===I.charAt(I.length-1)?I+="MO":I+=",MO":s.event_rrule.includes("Tuesday")&&("="===I.charAt(I.length-1)?I+="TU":I+=",TU"),s.event_rrule.includes("WednesdayMorning")?"="===I.charAt(I.length-1)?I+="TU":I+=",TU":s.event_rrule.includes("Wednesday")&&("="===I.charAt(I.length-1)?I+="WE":I+=",WE"),s.event_rrule.includes("ThursdayMorning")?"="===I.charAt(I.length-1)?I+="WE":I+=",WE":s.event_rrule.includes("Thursday")&&("="===I.charAt(I.length-1)?I+="TH":I+=",TH"),s.event_rrule.includes("FridayMorning")?"="===I.charAt(I.length-1)?I+="TH":I+=",TH":s.event_rrule.includes("Friday")&&("="===I.charAt(I.length-1)?I+="FR":I+=",FR"),s.event_rrule.includes("SaturdayMorning")?"="===I.charAt(I.length-1)?I+="FR":I+=",FR":s.event_rrule.includes("Saturday")&&("="===I.charAt(I.length-1)?I+="SA":I+=",SA"),s.event_rrule.includes("SundayMorning")?"="===I.charAt(I.length-1)?I+="SA":I+=",SA":s.event_rrule.includes("Sunday")&&("="===I.charAt(I.length-1)?I+="SU":I+=",SU"),d.push({id:l,start:u,end:m,title:g,rrule:I,resourceId:i,showPopover:!1,bgColor:"#06D6A0",database_id:s.id});var C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()]+"Calendar";document.getElementById(C).className="selected",setTimeout(function(){document.getElementById(C).click()},.1)}}catch(T){c.e(T)}finally{c.f()}d.sort(ee),0===d.length&&d.push({id:1,start:ne()[7]+" 09:00:00",end:ne()[7]+" 10:00:00",title:"Empty",resourceId:1,showPopover:!1,bgColor:"#06D6A0"}),e.setState({events:d,dates:[f,E,b,S,w,_,k,B]})})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"tab"},m.a.createElement("button",{id:"MondayCalendar",onClick:this.chooseMonday}," Monday "),m.a.createElement("button",{id:"TuesdayCalendar",onClick:this.chooseTuesday}," Tuesday "),m.a.createElement("button",{id:"WednesdayCalendar",onClick:this.chooseWednesday}," Wednesday "),m.a.createElement("button",{id:"ThursdayCalendar",onClick:this.chooseThursday}," Thursday "),m.a.createElement("button",{id:"FridayCalendar",onClick:this.chooseFriday}," Friday "),m.a.createElement("button",{id:"SaturdayCalendar",onClick:this.chooseSaturday}," Saturday "),m.a.createElement("button",{id:"SundayCalendar",onClick:this.chooseSunday}," Sunday ")),m.a.createElement(re,{key:this.state.key,refetchData:this.refetchData,events:this.state.events,devices:this.state.devices,dates:this.state.dates,onDeleteClick:this.deleteBook,onAddClick:this.createNewBook,onUpdateClick:this.updateBook,books:this.state.books,current_user_id:this.state.current_user_id}),m.a.createElement("div",{id:"popup-container-schedule"}," "))}}]),n}(u.Component),re=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=new Date,t=e.getFullYear()+"-"+(1===(e.getMonth()+1).toString().length?"0"+(e.getMonth()+1).toString():e.getMonth()+1)+"-"+(1===e.getDate().toString().length?"0"+e.getDate().toString():e.getDate());return m.a.createElement("div",{id:"root"},m.a.createElement(L,{refetchData:this.props.refetchData,events:this.props.events,devices:this.props.devices,date:t,onDeleteClick:this.props.onDeleteClick,onAddClick:this.props.onAddClick,onUpdateClick:this.props.onUpdateClick,books:this.props.books,startDate:this.props.dates[7],mondayDate:this.props.dates[0],sundayDate:this.props.dates[6],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],current_user_id:this.props.current_user_id}))}}]),n}(u.Component);h.a.render(m.a.createElement(oe,null),document.getElementById("schedule-based-control"));var de=document.getElementById("remotecontrolrect"),ce=document.getElementById("infoIconRemote"),se=document.getElementById("schedulebasedrect"),ie=document.getElementById("infoIcon"),le=document.getElementById("presencebasedrect"),ue=document.getElementById("infoIconPresence");window.onload=function(){var e=de.getBoundingClientRect(),t=ce.getBoundingClientRect(),n=e.right-t.right-10;ce.onmouseover=function(){h.a.render(m.a.createElement("div",{id:"informationBoxRemote"},m.a.createElement("p",{style:{color:"black"}}," This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. ")),document.getElementById("infoBoxRemote")),document.getElementById("informationBoxRemote").style.width=n.toString()+"px"},ce.onmouseout=function(){h.a.unmountComponentAtNode(document.getElementById("infoBoxRemote"))};var a=se.getBoundingClientRect(),o=ie.getBoundingClientRect(),r=a.right-o.right-10;ie.onmouseover=function(){h.a.render(m.a.createElement("div",{id:"informationBox"},m.a.createElement("p",{style:{color:"black"}}," This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. ")),document.getElementById("infoBox")),document.getElementById("informationBox").style.width=r.toString()+"px"},ie.onmouseout=function(){h.a.unmountComponentAtNode(document.getElementById("infoBox"))};var d=le.getBoundingClientRect(),c=ue.getBoundingClientRect(),s=d.right-c.right-10;ue.onmouseover=function(){h.a.render(m.a.createElement("div",{id:"informationBoxPresence"},m.a.createElement("p",{style:{color:"black"}}," This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. ")),document.getElementById("infoBoxPresence")),document.getElementById("informationBoxPresence").style.width=s.toString()+"px"},ue.onmouseout=function(){h.a.unmountComponentAtNode(document.getElementById("infoBoxPresence"))}},window.addEventListener("resize",function(){var e=de.getBoundingClientRect(),t=ce.getBoundingClientRect(),n=e.right-t.right-10;ce.onmouseover=function(){h.a.render(m.a.createElement("div",{id:"informationBoxRemote"},m.a.createElement("p",{style:{color:"black"}}," This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. ")),document.getElementById("infoBoxRemote")),document.getElementById("informationBoxRemote").style.width=n.toString()+"px"},ce.onmouseout=function(){h.a.unmountComponentAtNode(document.getElementById("infoBoxRemote"))};var a=se.getBoundingClientRect(),o=ie.getBoundingClientRect(),r=a.right-o.right-10;ie.onmouseover=function(){h.a.render(m.a.createElement("div",{id:"informationBox"},m.a.createElement("p",{style:{color:"black"}}," This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. ")),document.getElementById("infoBox")),document.getElementById("informationBox").style.width=r.toString()+"px"},ie.onmouseout=function(){h.a.unmountComponentAtNode(document.getElementById("infoBox"))};var d=le.getBoundingClientRect(),c=ue.getBoundingClientRect(),s=d.right-c.right-10;ue.onmouseover=function(){h.a.render(m.a.createElement("div",{id:"informationBoxPresence"},m.a.createElement("p",{style:{color:"black"}}," This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. ")),document.getElementById("infoBoxPresence")),document.getElementById("informationBoxPresence").style.width=s.toString()+"px"},ue.onmouseout=function(){h.a.unmountComponentAtNode(document.getElementById("infoBoxPresence"))}});var me=window.chrome,pe=window.navigator,he=pe.vendor,ge="undefined"!==typeof window.opr,ye=pe.userAgent.indexOf("Edge")>-1;pe.userAgent.match("CriOS")?document.onkeydown=function(e){!0!==e.ctrlKey&&"61"!==e.which&&"107"!==e.which&&"173"!==e.which&&"109"!==e.which&&"187"!==e.which&&"189"!==e.which||e.preventDefault()}:null!==me&&"undefined"!==typeof me&&"Google Inc."===he&&!1===ge&&!1===ye&&(document.onkeydown=function(e){!0!==e.ctrlKey&&"61"!==e.which&&"107"!==e.which&&"173"!==e.which&&"109"!==e.which&&"187"!==e.which&&"189"!==e.which||e.preventDefault()})}},[[180,1,2]]]);
//# sourceMappingURL=main.0b6f9c45.chunk.js.map