{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>PLUG-MATE</title>

    <!-- Custom fonts for this template-->
    <link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">


    <!-- Custom styles for this template-->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link href="{% static 'css/sb-admin-2.min.css' %}" rel="stylesheet">

    {#    <meta name="theme-color" content="#000000">#}
    <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
    {#    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">#}


    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    {#	<title> Control Interface </title>#}
    <style>
        /* Style the day tab */
        .tab {
            overflow: hidden;
            margin-bottom: -23px;
            width: 650px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Style the buttons that are used to open the day tab content */
        .tab button {
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 14px;
            font-weight: bold;
        }

        /* Change background color of day buttons on hover */
        .tab button:hover {
            background-color: #06D6A0;
        }

        /* Position where the popup should appear */
        #popup-container {
            width: 200px;
            height: 450px;
            position: absolute;
            top: 10px;
            right: 20px;
            z-index: 100;
        }

        @media (min-width: 768px) {
            #content, #footer {
                margin-left: 14rem;
            }
        }
        @media (max-width: 768px) {
            #content, #footer {
                margin-left: 6.5rem;
            }
        }
    </style>
</head>
<body>
<div id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        {% include 'partials/_sidebar_control.html' %}
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                {% include 'partials/_topbar.html' %}
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading: Generate Report -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Control Interface</h1>
                        <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>
                    </div>

                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card shadow h-auto mb-4" id="remote_card">
                                <div id="remotecontrolrect" class="card-header py-3 d-flex flex-row align-items-center justify-content-center">
                                    <h6 id="remote_card_title" class="m-0 font-weight-bold text-primary text-uppercase mb-1">Remote Control</h6>
                                    <img style="margin-left:10px;height:15px;width:15px;" src="/static/Images/Info.png" alt="icon" id="infoIconRemote">
                                    <div id="infoBoxRemote" style="width:1px;height:1px;overflow-x:visible;overflow-y:visible;"></div>
                                </div>
                                <div class="card-body">
                                    <div id="remote-control"> </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card shadow h-auto mb-4" id="presence_card">
                                <div id="presencebasedrect" class="card-header py-3 d-flex flex-row align-items-center justify-content-center">
                                    <h6 id="presence_card_title" class="m-0 font-weight-bold text-primary text-uppercase mb-1">Presence-based Control</h6>
                                    <img style="margin-left:10px;height:15px;width:15px" src="/static/Images/Info.png" alt="icon" id="infoIconPresence">
                                    <div id="infoBoxPresence" style="width:1px;height:1px;overflow-x:visible;overflow-y:visible;"></div>
                                </div>
                                <div class="card-body">
                                    <div class="col-md-12" id="presence-based-control"> </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card shadow h-auto mb-4" id="schedule_card">
                                <div id="schedulebasedrect" class="card-header py-3 d-flex flex-row align-items-center justify-content-center">
                                    <h6 id="schedule_card_title" class="m-0 font-weight-bold text-primary text-uppercase mb-1">Schedule-based Control</h6>
                                    <img style="margin-left:10px;height:15px;width:15px;" src="/static/Images/Info.png" alt="icon" id="infoIcon">
                                    <div id="infoBox" style="width:1px;height:1px;overflow-x:visible;overflow-y:visible;"></div>
                                </div>
                                <div class="card-body">
                                    <div id="schedule-based-control">
                                        <div id="title"></div>
                                        <br/>
                                        <div class="tabcontainer"> </div>
                                        <div class="tab">
                                            <button class="tablinks" id="MondayCalendar"> Monday </button>
                                            <button class="tablinks" id="TuesdayCalendar">Tuesday</button>
                                            <button class="tablinks" id="WednesdayCalendar">Wednesday</button>
                                            <button class="tablinks" id="ThursdayCalendar">Thursday</button>
                                            <button class="tablinks" id="FridayCalendar">Friday</button>
                                            <button class="tablinks" id="SaturdayCalendar">Saturday</button>
                                            <button class="tablinks" id="SundayCalendar">Sunday</button>
                                        </div>
                                        <div id="root"> </div>
                                        <div id="popup-container-schedule"> </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="confirm-alert"></div>
                    <!-- /.container-fluid -->

                </div>


            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            {% include 'partials/_footer.html' %}
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="{% url 'plug_mate_app:user_login' %}">Logout</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap core JavaScript-->
<script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
<script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

<!-- Core plugin JavaScript-->
<script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>

<!-- Custom scripts for all pages-->
<script src="{% static 'js/sb-admin-2.min.js' %}"></script>
<script>
    document.getElementById("sidebarToggle").onclick = function() {
        if (document.getElementsByClassName("sidebar")[0].classList.contains("toggled")) {
            document.getElementById("content").style.marginLeft = "6.5rem";
            document.getElementById("footer").style.marginLeft = "6.5rem";
            document.getElementById("plug_mate_logo").style.width = "";
            document.getElementById("plug_mate_logo").src = "";
            document.getElementById("plug_mate_logo").style.height = "40px";
            document.getElementById("plug_mate_logo").src = "/static/Images/logosmall.png";
        } else {
            document.getElementById("content").style.marginLeft = "14rem";
            document.getElementById("footer").style.marginLeft = "14rem";
            document.getElementById("plug_mate_logo").style.height = "";
            document.getElementById("plug_mate_logo").src = "";
            document.getElementById("plug_mate_logo").style.width = "100%";
            document.getElementById("plug_mate_logo").src = "/static/Logo(white).png";
        }
    }

    document.getElementById("sidebarToggleTop").onclick = function() {
        if (document.getElementsByClassName("sidebar")[0].classList.contains("toggled")) {
            document.getElementById("content").style.marginLeft = "0";
            document.getElementById("footer").style.marginLeft = "0";
        } else {
            document.getElementById("content").style.marginLeft = "6.5rem";
            document.getElementById("footer").style.marginLeft = "6.5rem";
            document.getElementById("plug_mate_logo").style.width = "";
            document.getElementById("plug_mate_logo").src = "";
            document.getElementById("plug_mate_logo").style.height = "40px";
            document.getElementById("plug_mate_logo").src = "/static/Images/logosmall.png";
        }
    }

    window.addEventListener('resize', update_logo_onresize)

    function update_logo_onresize() {
        if (window.innerWidth < 768) {
            if (!document.getElementById("accordionSidebar").classList.contains("toggled")) {
                document.getElementById("content").style.marginLeft = "6.5rem";
                document.getElementById("footer").style.marginLeft = "6.5rem";
                document.getElementById("plug_mate_logo").style.width = "";
                document.getElementById("plug_mate_logo").src = "";
                document.getElementById("plug_mate_logo").style.height = "40px";
                document.getElementById("plug_mate_logo").src = "/static/Images/logosmall.png";
            } else {
                document.getElementById("content").style.marginLeft = "0rem";
                document.getElementById("footer").style.marginLeft = "0rem";
            }
        } else {
            if (!document.getElementById("accordionSidebar").classList.contains("toggled")) {
                document.getElementById("content").style.marginLeft = "14rem";
                document.getElementById("footer").style.marginLeft = "14rem";
                document.getElementById("plug_mate_logo").style.height = "";
                document.getElementById("plug_mate_logo").src = "";
                document.getElementById("plug_mate_logo").style.width = "100%";
                document.getElementById("plug_mate_logo").src = "/static/Logo(white).png";
            } else {
                document.getElementById("content").style.marginLeft = "6.5rem";
                document.getElementById("footer").style.marginLeft = "6.5rem";
                document.getElementById("plug_mate_logo").style.width = "";
                document.getElementById("plug_mate_logo").src = "";
                document.getElementById("plug_mate_logo").style.height = "40px";
                document.getElementById("plug_mate_logo").src = "/static/Images/logosmall.png";
            }
        }
    }

    window.addEventListener('load', update_logo_onload)

    function update_logo_onload() {
        if (window.innerWidth < 768) {
            document.getElementById("plug_mate_logo").style.height = "40px";
            document.getElementById("plug_mate_logo").src = "/static/Images/logosmall.png";
        } else {
            document.getElementById("plug_mate_logo").style.width = "100%";
            document.getElementById("plug_mate_logo").src = "/static/Logo(white).png";
        }
    }

    document.getElementById("sidebar_remote_card").onclick = function() {
        var count = 1;
        var intervalId = setInterval(function() {
            if (document.getElementById("remote_card_title").style.visibility === "hidden") {
                document.getElementById("remote_card_title").style.visibility = "visible";
                document.getElementById("infoIconRemote").style.visibility = "visible";

                if (count++ === 2) {
                    clearInterval(intervalId);
                }
            } else {
                document.getElementById("remote_card_title").style.visibility = "hidden";
                document.getElementById("infoIconRemote").style.visibility = "hidden";
            }
        }, 400)
    }

    document.getElementById("sidebar_presence_card").onclick = function() {
        var count = 1;
        var intervalId = setInterval(function() {
            if (document.getElementById("presence_card_title").style.visibility === "hidden") {
                document.getElementById("presence_card_title").style.visibility = "visible";
                document.getElementById("infoIconPresence").style.visibility = "visible";

                if (count++ === 2) {
                    clearInterval(intervalId);
                }
            } else {
                document.getElementById("presence_card_title").style.visibility = "hidden";
                document.getElementById("infoIconPresence").style.visibility = "hidden";
            }
        }, 400)
    }

    document.getElementById("sidebar_schedule_card").onclick = function() {
        var count = 1;
        var intervalId = setInterval(function() {
            if (document.getElementById("schedule_card_title").style.visibility === "hidden") {
                document.getElementById("schedule_card_title").style.visibility = "visible";
                document.getElementById("infoIcon").style.visibility = "visible";

                if (count++ === 2) {
                    clearInterval(intervalId);
                }
            } else {
                document.getElementById("schedule_card_title").style.visibility = "hidden";
                document.getElementById("infoIcon").style.visibility = "hidden";
            }
        }, 400)
    }
</script>

<!-- Page level plugins -->
<script src="{% static 'vendor/chart.js/Chart.min.js' %}"></script>

<!-- Page level custom scripts -->
<script src="{% static 'js/demo/chart-area-demo.js' %}"></script>
<script src="{% static 'js/demo/chart-pie-demo.js' %}"></script>

<!--
  This HTML file is a template.
  If you open it directly in the browser, you will see an empty page.

  You can add webfonts, meta tags, or analytics to this file.
  The build step will place the bundled scripts into the <body> tag.

  To begin the development, run `npm start` or `yarn start`.
  To create a production bundle, use `npm run build` or `yarn build`.
-->

</body>

</html>





