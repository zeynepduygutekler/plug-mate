{"version":3,"sources":["ConfirmAlert.js","withDnDContext.js","OnlyAlert.js","ConflictAlert.js","ScheduleControlPopup.js","Calendar.js","index.js"],"names":["ConfirmAlert","state","message","_this","props","onConfirm","onCancel","react_default","a","createElement","class","index_es","icon","faExclamationTriangle","style","color","this","onClick","Component","DragDropContext","HTML5Backend","OnlyAlert","onOK","messages","split","map","word","ScheduleControlPopup","exitPopup","e","target","document","getElementById","closeButtonClicked","event_rrule","includes","checked","substring","length","device_type","Fragment","id","defaultValue","event_name","type","faClock","ScheduleControlPopup_ScheduleControlTimepicker","time","event_start","display","marginRight","marginLeft","event_end","ScheduleControlPopup_ScheduleControlRepeat","fontWeight","ScheduleControlPopup_ScheduleControlApply","devices","okButtonClicked","className","deleteButtonClicked","ScheduleControlTimepicker","hour","Number","am_pm","toString","minute","value","ScheduleControlRepeat","htmlFor","width","name","ScheduleControlApply","device","ScheduleControlPopup_ScheduleControlApplyItem","ScheduleControlApplyItem","replace","from24to12","new_hour","am_or_pm","finalTime","from12to24","formatForDatabaseAdd","book","current_user_id","rrule","start","user_id","event_id","end","title","device_type_id","resourceId","formatForDatabaseUpdate","n","indexOf","database_id","processHourInput","getDates","today","Date","mondayDate","tuesdayDate","wednesdayDate","thursdayDate","fridayDate","saturdayDate","sundayDate","startDate","getDay","setDate","getDate","getFullYear","getMonth","withDragDropContext","Calendar","Object","classCallCheck","_super","call","updateAchievementsBooks","newBook","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","json","newBooks","achievements_books","assign","setState","updateWeeklyAchievementsBooks","weekly_achievements_books","updatePointsWalletBooks","points_wallet_books","handleAchievementsUpdate","handleWeeklyAchievementsUpdate","handlePointsWalletUpdate","updateScheduleAchievements","weekly_data","_this2","schedule_based","bonus_data","_this3","first_schedule","points_data","points","isNonWorkingTime","schedulerData","getScrollSpecialMoment","startMoment","endMoment","date","moment","eventClicked","event","slotName","getSlotById","ReactDOM","render","src_ScheduleControlPopup","check_start_time","check_end_time","src_OnlyAlert","unmountComponentAtNode","_step","hasConflict","conflictedEvents","plugload_option","querySelectorAll","repeat_option","new_days_to_loop_over","_iterator","createForOfIteratorHelper","s","done","repeat_day","push","err","f","new_start","new_end","new_start_for_this","new_end_for_this","existing_start_for_this","existing_end_for_this","_i","_new_days_to_loop_ove","new_day","_step2","_iterator2","plugload","events","forEach","current_resource_id","existing_days_to_loop_over","_i2","_existing_days_to_loo","existing_day","_step3","_iterator3","day","current_plugload_conflicted","concat","ConflictAlert","updateEventStart","window","calendar","updateEventEnd","newFreshId","item","newEvent","bgColor","showPopover","onAddClick","addEvent","viewModel","onUpdateClick","refetchData","key","onDeleteClick","removeEvent","slotId","format","toUpperCase","_step4","_iterator4","_i3","_new_days_to_loop_ove2","_step5","_iterator5","_i4","_existing_days_to_loo2","_step6","_iterator6","anotherNewEvent","newStart","_step7","_iterator7","_i5","_new_days_to_loop_ove3","_step8","_iterator8","_i6","_existing_days_to_loo3","_step9","_iterator9","newEnd","_step10","_iterator10","_i7","_new_days_to_loop_ove4","_step11","_iterator11","_i8","_existing_days_to_loo4","_step12","_iterator12","moveEvent","_step13","_iterator13","_i9","_new_days_to_loop_ove5","_step14","_iterator14","_i10","_existing_days_to_loo5","_step15","_iterator15","conflictOccurred","action","SchedulerData","ViewTypes","Day","checkConflict","recurringEventsEnabled","scrollToSpecialMomentEnabled","crossResourceMove","getScrollSpecialMomentFunc","isNonWorkingTimeFunc","setResources","setEvents","assertThisInitialized","lib_default","eventItemClick","compare","b","comparison","RemoteControlDashboard","books","fetchData","data","sort","setTimeout","updateBook","src_RemoteControlList","float","RemoteControlList","src_RemoteControlEditableItem","device_state","marginBottom","src_RemoteToggleButton","defaultChecked","margin","RemoteControlEditableItem","handleUpdate","_this4","src_RemoteControlItem","onFormSubmit","RemoteControlItem","_this5","updateRemoteAchievements","_this6","first_remote","handleFormSubmit","objectSpread2","onConfirm1","to_be_confirmed","Main","onConfirm2","onCancel1","to_be_cancelled","onCancel2","onChange","preventDefault","childNodes","src_ConfirmAlert","remote_control_outer_ring","remote_control_image","textAlign","src","alt","data-yes","data-no","RemoteToggleButton","_this7","_super5","click","master","Small","Name","disabled","sort_events","src_RemoteControlDashboard","ScheduleControlDashboard","dates","chosen_day","_this8","events_datas","input","eventId","finalStart","finalEnd","_getDates","_getDates2","slicedToArray","charAt","createNewBook","csrftoken","cookieValue","cookie","cookies","i","trim","decodeURIComponent","getCookie","X-CSRFToken","deleteBook","bookId","filter","removeCalendarHeader","removeChild","addLines","j","getElementsByClassName","borderRight","chooseMonday","src_Calendar","chooseTuesday","chooseWednesday","chooseThursday","chooseFriday","chooseSaturday","chooseSunday","_this9","_getDates3","_getDates4","wanted_id","src_ScheduleControlItem","ScheduleControlItem","today_date","src_ScheduleControlDashboard","PresenceControlDashboard","_this10","_super8","presencecontrol","_this11","src_PresenceControlList","PresenceControlList","_this12","src_PresenceControlEditableItem","presence_setting","PresenceControlEditableItem","_this13","_this14","src_PresenceControlItem","PresenceControlItem","_this15","updatePresenceAchievements","_this16","first_presence","handleSettingUpdate","evt","src_PresenceControlPopup","handleOtherUpdate","handleEnterClick","cancelButtonClicked","keyCode","handlePresenceIconClick","display_value","display_text","presence_control_outer_ring","presence_control_image","exitClick","height","overflowY","position","label","PresenceControlPopup","_this17","onKeyUp","src_PresenceControlDashboard","remotecontrolelement","infoiconremote","scheduleelement","infoiconschedule","presenceelement","infoiconpresence","onload","remotecontrolelemRect","getBoundingClientRect","infoiconremoteRect","offsetremote","right","onmouseover","onmouseout","scheduleelemRect","infoiconscheduleRect","offsetschedule","presenceelemRect","infoiconpresenceRect","offsetpresence","onresize","isChromium","chrome","winNav","navigator","vendorName","vendor","isOpera","opr","isIEedge","userAgent","match","onkeydown","ctrlKey","which"],"mappings":"0RAgCeA,8MA1BXC,MAAQ,CACJC,QAASC,EAAKC,MAAMF,QACpBG,UAAWF,EAAKC,MAAMC,UACtBC,SAAUH,EAAKC,MAAME,iEAGrB,OACIC,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,uBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMC,IAAuBH,MAAM,uBACpDH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,IAA6BC,KAAKf,MAAMC,QAAxC,KACAK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,UAAQC,MAAM,uBAAuBO,QAASD,KAAKf,MAAMK,UAAzD,YACAC,EAAAC,EAAAC,cAAA,UAAQC,MAAM,wBAAwBO,QAASD,KAAKf,MAAMI,WAA1D,wBAlBDa,kFCAZC,4BAAgBC,KCyBhBC,8MAxBXpB,MAAQ,CACJC,QAASC,EAAKC,MAAMF,QACpBoB,KAAMnB,EAAKC,MAAMkB,6DAGjB,OACIf,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,uBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMC,IAAuBH,MAAM,uBACpDH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,IAA6BC,KAAKf,MAAMC,QAAxC,KACAK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,UAAQC,MAAM,WAAWO,QAASD,KAAKf,MAAMqB,MAA7C,mBAhBJJ,aC8BTG,8MA7BXpB,MAAQ,CACJC,QAASC,EAAKC,MAAMF,QACpBoB,KAAMnB,EAAKC,MAAMkB,6DAGjB,IACMC,EADMP,KAAKf,MAAMC,QAAQsB,MAAM,SACdC,IAAI,SAAAC,GAAI,OAC3BnB,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,IAA6BW,EAA7B,OAGJ,OACInB,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,uBACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMC,IAAuBH,MAAM,uBACpDH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACCc,EACDhB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,MAAM,yBACPH,EAAAC,EAAAC,cAAA,UAAQC,MAAM,WAAWO,QAASD,KAAKf,MAAMqB,MAA7C,mBArBJJ,aCClBS,8MA2DFC,UAAY,SAACC,GACLA,EAAEC,SAAWC,SAASC,eAAe,2BACrC7B,EAAKC,MAAM6B,wFAzDXjB,KAAKZ,MAAM8B,YAAYC,SAAS,0BAChCJ,SAASC,eAAe,0BAA0BI,SAAU,GAE5DpB,KAAKZ,MAAM8B,YAAYG,UAAU,GAAGrB,KAAKZ,MAAM8B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DpB,KAAKZ,MAAM8B,YAAYG,UAAU,GAAGrB,KAAKZ,MAAM8B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,yBAAyBI,SAAU,GAE3DpB,KAAKZ,MAAM8B,YAAYG,UAAU,GAAGrB,KAAKZ,MAAM8B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,2BAA2BI,SAAU,GAE7DpB,KAAKZ,MAAM8B,YAAYG,UAAU,GAAGrB,KAAKZ,MAAM8B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,0BAA0BI,SAAU,GAE5DpB,KAAKZ,MAAM8B,YAAYG,UAAU,GAAGrB,KAAKZ,MAAM8B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DpB,KAAKZ,MAAM8B,YAAYG,UAAU,GAAGrB,KAAKZ,MAAM8B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,0BAA0BI,SAAU,GAE5DpB,KAAKZ,MAAM8B,YAAYG,UAAU,GAAGrB,KAAKZ,MAAM8B,YAAYI,QAAQH,SAAS,QAE5EJ,SAASC,eAAe,wBAAwBI,SAAU,GAI1DpB,KAAKZ,MAAMmC,YAAYJ,SAAS,aAEhCJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DpB,KAAKZ,MAAMmC,YAAYJ,SAAS,aAEhCJ,SAASC,eAAe,wBAAwBI,SAAU,GAE1DpB,KAAKZ,MAAMmC,YAAYJ,SAAS,YAEhCJ,SAASC,eAAe,uBAAuBI,SAAU,GAEzDpB,KAAKZ,MAAMmC,YAAYJ,SAAS,eAEhCJ,SAASC,eAAe,yBAAyBI,SAAU,GAE3DpB,KAAKZ,MAAMmC,YAAYJ,SAAS,SAEhCJ,SAASC,eAAe,oBAAoBI,SAAU,oCAW1D,OACI7B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,yBAAyBxB,QAASD,KAAKY,WAC3CrB,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,kBACJlC,EAAAC,EAAAC,cAAA,KAAGgC,GAAG,wBAAN,IAA+BzB,KAAKZ,MAAMmC,YAA1C,KACAhC,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,uBAAuBxB,QAASD,KAAKZ,MAAM6B,oBAAtD,UACA1B,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOgC,GAAG,sBAAsBC,aAAc1B,KAAKZ,MAAMuC,WAAWN,UAAU,EAAErB,KAAKZ,MAAMuC,WAAWL,OAAO,IAAKM,KAAK,SACvHrC,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,uBACJlC,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAiBC,KAAMiC,IAAS/B,MAAO,CAACC,MAAM,aAC9CR,EAAAC,EAAAC,cAACqC,EAAD,CAA2BF,KAAK,QAAQG,KAAM/B,KAAKZ,MAAM4C,YAAYX,UAAUrB,KAAKZ,MAAM4C,YAAYV,OAAO,EAAGtB,KAAKZ,MAAM4C,YAAYV,UACvI/B,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACmC,QAAS,eAAgBC,YAAY,OAAQC,WAAW,QAAnE,OACA5C,EAAAC,EAAAC,cAACqC,EAAD,CAA2BF,KAAK,MAAMG,KAAM/B,KAAKZ,MAAMgD,UAAUf,UAAUrB,KAAKZ,MAAMgD,UAAUd,OAAO,EAAGtB,KAAKZ,MAAMgD,UAAUd,WAEnI/B,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,yBACJlC,EAAAC,EAAAC,cAAC4C,EAAD,OAEJ9C,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,wBACJlC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACwC,WAAW,SAAtB,oBACA/C,EAAAC,EAAAC,cAAC8C,EAAD,CAAsBC,QAAS,CAAC,UAAW,UAAW,SAAU,MAAO,gBAE3EjD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,oBAAoBxB,QAASD,KAAKZ,MAAMqD,gBAAiBC,UAAU,OAA9E,QACAnD,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,wBAAwBxB,QAASD,KAAKZ,MAAMuD,oBAAqBD,UAAU,OAAtF,sBAzFWxC,aAiG7B0C,yKAEE,IAAIC,EAAO7C,KAAKZ,MAAM2C,KAAKV,UAAU,EAAE,GACvC,GAAIyB,OAAOD,IAAS,GAChB,IAAIE,EAAQ,UAEZA,EAAQ,KAERD,OAAOD,GAAQ,IAAMC,OAAOD,GAAQ,GACpCA,EAAO,KAAOC,OAAOD,GAAM,IAAIG,WAE3BF,OAAOD,IAAS,GAChBA,GAAQC,OAAOD,GAAM,IAAIG,WAEZ,OAATH,IACAA,EAAO,MAInB,IAAII,EAASjD,KAAKZ,MAAM2C,KAAKV,UAAU,EAAE,GAIzC,OACI9B,EAAAC,EAAAC,cAAA,OAAKgC,GAAIzB,KAAKZ,MAAMwC,KAAO,QACvBrC,EAAAC,EAAAC,cAAA,UAAQgC,GAAIzB,KAAKZ,MAAMwC,KAAO,OAAQF,aAAcmB,GAChDtD,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,OACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,QACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,QACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,SAEJ3D,EAAAC,EAAAC,cAAA,QAAMK,MAAO,CAACqC,WAAW,QAASD,YAAY,QAA9C,OACA3C,EAAAC,EAAAC,cAAA,UAAQgC,GAAIzB,KAAKZ,MAAMwC,KAAO,SAAUF,aAAcuB,GAClD1D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,QACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,QACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,QACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,SAEJ3D,EAAAC,EAAAC,cAAA,UAAQgC,GAAIzB,KAAKZ,MAAMwC,KAAO,OAAQF,aAAcqB,GAChDxD,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,QACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,iBAhDoBhD,aAuDlCiD,yKAEE,OACI5D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACwC,WAAW,SAAtB,aACA/C,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACLH,GAAG,yBACHyB,MAAM,YACNjD,QAAS,SAASY,GACVA,EAAEC,OAAOM,SACTL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,yBAAyBI,SAAU,EAC3DL,SAASC,eAAe,2BAA2BI,SAAU,EAC7DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,IAE1DL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,yBAAyBI,SAAU,EAC3DL,SAASC,eAAe,2BAA2BI,SAAU,EAC7DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,EAC1DL,SAASC,eAAe,0BAA0BI,SAAU,EAC5DL,SAASC,eAAe,wBAAwBI,SAAU,MAItE7B,EAAAC,EAAAC,cAAA,SAAO2D,QAAQ,yBAAyBtD,MAAO,CAACqC,WAAY,QAA5D,eACA5C,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,uBACLJ,MAAM,SACNzB,GAAG,uBACHxB,QAAS,SAASY,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,yBAAyBI,SAAWL,SAASC,eAAe,2BAA2BI,SAC/GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC7GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxE7B,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,aAEJ5C,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,uBACLJ,MAAM,UACNzB,GAAG,wBACHxB,QAAS,SAASY,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,2BAA2BI,SAC9GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC7GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxE7B,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,cAEJ5C,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,uBACLJ,MAAM,YACNzB,GAAG,0BACHxB,QAAS,SAASY,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC7GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxE7B,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,gBAEJ5C,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,uBACLJ,MAAM,WACNzB,GAAG,yBACHxB,QAAS,SAASY,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,wBAAwBI,SAC9GL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxE7B,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,eAEJ5C,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,uBACLJ,MAAM,SACNzB,GAAG,uBACHxB,QAAS,SAASY,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,0BAA0BI,SAChHL,SAASC,eAAe,0BAA0BI,SAAWL,SAASC,eAAe,wBAAwBI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxE7B,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,aAEJ5C,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,uBACLJ,MAAM,WACNzB,GAAG,yBACHxB,QAAS,SAASY,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,0BAA0BI,SAChHL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,wBAAwBI,UACvGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxE7B,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,eAEJ5C,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,uBACLJ,MAAM,SACNzB,GAAG,uBACHxB,QAAS,SAASY,GACTA,EAAEC,OAAOM,QAGNL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,yBAAyBI,SAC5GL,SAASC,eAAe,2BAA2BI,SAAWL,SAASC,eAAe,0BAA0BI,SAChHL,SAASC,eAAe,wBAAwBI,SAAWL,SAASC,eAAe,0BAA0BI,UACzGL,SAASC,eAAe,0BAA0BI,SAAU,GALpEL,SAASC,eAAe,0BAA0BI,SAAU,KAUxE7B,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,qBAzKgBjC,aAgL9BqD,yKAEE,IAAMf,EAAUxC,KAAKZ,MAAMoD,QAAQ/B,IAAI,SAAA+C,GAAM,OACzCjE,EAAAC,EAAAC,cAACgE,EAAD,CAA0BlC,YAAaiC,MAE3C,OACIjE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACKgB,UAPkBtC,aAa7BwD,yKAEE,OACInE,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACmC,QAAQ,eAAgBoB,MAAM,UACvC9D,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAK,sBACL7B,GAAI,gBAAkBzB,KAAKZ,MAAMmC,YAAYoC,QAAQ,MAAM,MAE/DpE,EAAAC,EAAAC,cAAA,SAAOK,MAAO,CAACqC,WAAY,QAA3B,IAAqCnC,KAAKZ,MAAMmC,YAAhD,aATuBrB,aAcxBS,IC9Vf,SAASiD,EAAWf,GAChB,IAAIgB,EAAWf,OAAOD,EAAKxB,UAAU,EAAE,IACnCyC,EAAWD,GAAY,GAAK,KAAO,KAEnCE,GADJF,EAAYA,EAAW,IAAO,IACH,IAAMhB,EAAKxB,UAAU,EAAE,GAAK,IAAMyC,EAK7D,OAHyB,IAArBC,EAAUzC,SACVyC,EAAY,IAAMA,GAEdA,EAGZ,SAASC,EAAWnB,GAChB,IAAIgB,EAAWf,OAAOD,EAAKxB,UAAU,EAAE,IACX,OAAxBwB,EAAKxB,UAAU,EAAE,IAA4B,KAAbwC,IAChCA,GAAsB,IAEE,OAAxBhB,EAAKxB,UAAU,EAAE,IAA4B,KAAbwC,IAChCA,EAAW,MAEf,IAAIE,EAAYF,EAAW,IAAMhB,EAAKxB,UAAU,EAAE,GAAK,MAIvD,OAHyB,IAArB0C,EAAUzC,SACVyC,EAAY,IAAMA,GAEfA,EAGX,SAASE,EAAqBC,EAAMC,GAChC,IAAIjD,EAAc,GACdgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,YAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,aAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,eAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,cAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,YAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,cAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,YAOpC,MAAO,CACHoD,QAASxB,OAAOqB,GAChBI,SAAUL,EAAKzC,GACfO,YAAakC,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAClEc,UAAW8B,EAAKM,IAAInD,UAAU6C,EAAKM,IAAIlD,OAAO,EAAG4C,EAAKM,IAAIlD,QAC1DK,WAAYuC,EAAKO,MAAMpD,UAAU,EAAG6C,EAAKO,MAAMnD,OAAO,IACtDJ,YAAaA,EAAYG,UAAU,EAAEH,EAAYI,OAAO,GACxDoD,eAAgBR,EAAKS,WACrBpD,YAVY,CAAC,UAAW,SAAU,UAAW,YAAa,OAUrC2C,EAAKS,WAAa,IAI/C,SAASC,EAAwBV,EAAMC,GACnC,IAAIjD,EAAc,GACdgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,YAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,aAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,eAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,cAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,YAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,cAGhCgD,EAAKE,MAAM/C,UAAU,GAAG6C,EAAKE,MAAM9C,QAAQH,SAAS,QAChD+C,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAAU,WAC/DJ,GAA4B,cAE5BA,GAA4B,YAMpC,GAAuB,kBAAZgD,EAAKzC,GACZ,IAAIoD,EAAIX,EAAKzC,GAAGqD,QAAQ,KACpBP,EAAWzB,OAAOoB,EAAKzC,GAAGJ,UAAU,EAAEwD,SAE1CN,EAAWL,EAAKzC,GAEpB,MAAO,CACH6C,QAASxB,OAAOqB,GAChBI,SAAUA,EACVvC,YAAakC,EAAKG,MAAMhD,UAAU6C,EAAKG,MAAM/C,OAAO,EAAG4C,EAAKG,MAAM/C,QAClEc,UAAW8B,EAAKM,IAAInD,UAAU6C,EAAKM,IAAIlD,OAAO,EAAG4C,EAAKM,IAAIlD,QAC1DK,WAAYuC,EAAKO,MAAMpD,UAAU,EAAG6C,EAAKO,MAAMnD,OAAO,IACtDJ,YAAaA,EAAYG,UAAU,EAAEH,EAAYI,OAAO,GACxDoD,eAAgBR,EAAKS,WACrBpD,YAhBY,CAAC,UAAW,SAAU,UAAW,YAAa,OAgBrC2C,EAAKS,WAAa,GACvClD,GAAIyC,EAAKa,aAIjB,SAASC,EAAiBpD,GACtB,IAAIiB,EAAO9B,SAASC,eAAeY,EAAO,QAAQsB,MAUlD,MATqD,OAAjDnC,SAASC,eAAeY,EAAO,QAAQsB,MACc,OAAjDnC,SAASC,eAAeY,EAAO,QAAQsB,QACvCL,GAAQC,OAAO/B,SAASC,eAAeY,EAAO,QAAQsB,OAAS,IAAIF,YAGlB,OAAjDjC,SAASC,eAAeY,EAAO,QAAQsB,QACvCL,EAAO,MAGRA,EAGX,SAASoC,IACL,IAAIC,EAAQ,IAAIC,KACZC,EAAa,IAAID,KACjBE,EAAc,IAAIF,KAClBG,EAAgB,IAAIH,KACpBI,EAAe,IAAIJ,KACnBK,EAAa,IAAIL,KACjBM,EAAe,IAAIN,KACnBO,EAAa,IAAIP,KACjBQ,EAAY,IAAIR,KAgCpB,OA9BuB,IAAnBD,EAAMU,UAEND,EAAUE,QAAQX,EAAMY,UAAY,GACpCV,EAAWS,QAAQX,EAAMY,UAAY,GACrCT,EAAYQ,QAAQX,EAAMY,UAAY,GACtCR,EAAcO,QAAQX,EAAMY,UAAY,GACxCP,EAAaM,QAAQX,EAAMY,UAAY,GACvCN,EAAWK,QAAQX,EAAMY,UAAY,GACrCL,EAAaI,QAAQX,EAAMY,UAAY,GACvCJ,EAAWG,QAAQX,EAAMY,aAEzBH,EAAUE,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAC/CR,EAAWS,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAChDP,EAAYQ,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WACjDN,EAAcO,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WACnDL,EAAaM,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAClDJ,EAAWK,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAChDH,EAAaI,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAClDF,EAAWG,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,YAGpDD,EAAYA,EAAUI,cAAgB,KAAwD,KAAhDJ,EAAUK,WAAa,GAAGhD,WAAW1B,OAAe,KAAOqE,EAAUK,WAAa,GAAGhD,WAAc2C,EAAUK,WAAa,GAAM,KAAiD,IAA1CL,EAAUG,UAAU9C,WAAW1B,OAAe,IAAMqE,EAAUG,UAAU9C,WAAa2C,EAAUG,WAS7Q,CARPV,EAAaA,EAAWW,cAAgB,KAAyD,KAAjDX,EAAWY,WAAa,GAAGhD,WAAW1B,OAAe,KAAO8D,EAAWY,WAAa,GAAGhD,WAAcoC,EAAWY,WAAa,GAAM,KAAkD,IAA3CZ,EAAWU,UAAU9C,WAAW1B,OAAe,IAAM8D,EAAWU,UAAU9C,WAAaoC,EAAWU,WAC5RT,EAAcA,EAAYU,cAAgB,KAA0D,KAAlDV,EAAYW,WAAa,GAAGhD,WAAW1B,OAAe,KAAO+D,EAAYW,WAAa,GAAGhD,WAAcqC,EAAYW,WAAa,GAAM,KAAmD,IAA5CX,EAAYS,UAAU9C,WAAW1B,OAAe,IAAM+D,EAAYS,UAAU9C,WAAaqC,EAAYS,WACpSR,EAAgBA,EAAcS,cAAgB,KAA4D,KAApDT,EAAcU,WAAa,GAAGhD,WAAW1B,OAAe,KAAOgE,EAAcU,WAAa,GAAGhD,WAAcsC,EAAcU,WAAa,GAAM,KAAqD,IAA9CV,EAAcQ,UAAU9C,WAAW1B,OAAe,IAAMgE,EAAcQ,UAAU9C,WAAasC,EAAcQ,WACpTP,EAAeA,EAAaQ,cAAgB,KAA2D,KAAnDR,EAAaS,WAAa,GAAGhD,WAAW1B,OAAe,KAAOiE,EAAaS,WAAa,GAAGhD,WAAcuC,EAAaS,WAAa,GAAO,KAAoD,IAA7CT,EAAaO,UAAU9C,WAAW1B,OAAe,IAAMiE,EAAaO,UAAU9C,WAAauC,EAAaO,WAC7SN,EAAaA,EAAWO,cAAgB,KAAyD,KAAjDP,EAAWQ,WAAa,GAAGhD,WAAW1B,OAAe,KAAOkE,EAAWQ,WAAa,GAAGhD,WAAcwC,EAAWQ,WAAa,GAAM,KAAkD,IAA3CR,EAAWM,UAAU9C,WAAW1B,OAAe,IAAMkE,EAAWM,UAAU9C,WAAawC,EAAWM,WAC5RL,EAAeA,EAAaM,cAAgB,KAA2D,KAAnDN,EAAaO,WAAa,GAAGhD,WAAW1B,OAAe,KAAOmE,EAAaO,WAAa,GAAGhD,WAAcyC,EAAaO,WAAa,GAAM,KAAoD,IAA7CP,EAAaK,UAAU9C,WAAW1B,OAAe,IAAMmE,EAAaK,UAAU9C,WAAayC,EAAaK,WAC5SJ,EAAaA,EAAWK,cAAgB,KAAyD,KAAjDL,EAAWM,WAAa,GAAGhD,WAAW1B,OAAe,KAAOoE,EAAWM,WAAa,GAAGhD,WAAc0C,EAAWM,WAAa,GAAM,KAAkD,IAA3CN,EAAWI,UAAU9C,WAAW1B,OAAe,IAAMoE,EAAWI,UAAU9C,WAAa0C,EAAWI,WAExLH,OA6iEzFM,sDAziEX,SAAAC,EAAY9G,GAAO,IAAAD,EAAAgH,OAAAC,EAAA,EAAAD,CAAAnG,KAAAkG,IACf/G,EAAAkH,EAAAC,KAAAtG,KAAMZ,IAgDVmH,wBAA0B,SAACC,GACvBC,MAAM,6CAA+CD,EAAQ/E,GAAGuB,WAAa,IAAK,CAC9E0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWhI,EAAKF,MAAMmI,mBAAmB3G,IAAI,SAAAyD,GAC/C,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGf/E,EAAKmI,SAAS,CAACF,mBAAoBD,OAjExBhI,EAqEnBoI,8BAAgC,SAACf,GAC7BC,MAAM,8CAAgDD,EAAQ/E,GAAGuB,WAAa,IAAK,CAC/E0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWhI,EAAKF,MAAMuI,0BAA0B/G,IAAI,SAAAyD,GACtD,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGf/E,EAAKmI,SAAS,CAACE,0BAA2BL,OArF/BhI,EAyFnBsI,wBAA0B,SAACjB,GACvBC,MAAM,wCAA0CD,EAAQ/E,GAAGuB,WAAa,IAAK,CACzE0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWhI,EAAKF,MAAMyI,oBAAoBjH,IAAI,SAAAyD,GAChD,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGf/E,EAAKmI,SAAS,CAACI,oBAAqBP,OAzGzBhI,EA6GnBwI,yBAA2B,SAACzD,GACxBA,EAAKzC,GAAKtC,EAAKC,MAAM+E,gBACrBhF,EAAKoH,wBAAwBrC,IA/Gd/E,EAkHnByI,+BAAiC,SAAC1D,GAC9BA,EAAKzC,GAAKtC,EAAKC,MAAM+E,gBACrBhF,EAAKoI,8BAA8BrD,IApHpB/E,EAuHnB0I,yBAA2B,SAAC3D,GACxBA,EAAKzC,GAAKtC,EAAKC,MAAM+E,gBACrBhF,EAAKsI,wBAAwBvD,IAzHd/E,EA4HnB2I,2BAA6B,WACzBrB,MAAM,+CACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAe,GACF5I,EAAKmI,SAAS,CAACE,0BAA2BO,GAAc,WAAW,IAAAC,EAAAhI,KACzB,IAAlC+H,EAAY,GAAGE,iBAEfF,EAAY,GAAGE,eAAiB,GAChCjI,KAAK4H,+BAA+BG,EAAY,IAEhDtB,MAAM,8CACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAkB,GACFF,EAAKV,SAAS,CAACF,mBAAoBc,GAAa,WAAW,IAAAC,EAAAnI,KAClB,IAAjCkI,EAAW,GAAGE,gBAEdF,EAAW,GAAGE,eAAiB,GAC/BpI,KAAK2H,yBAAyBO,EAAW,IAEzCzB,MAAM,yCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAqB,GACFF,EAAKb,SAAS,CAACI,oBAAqBW,GAAc,WAC9CA,EAAY,GAAGC,OAASD,EAAY,GAAGC,OAAS,GAChDtI,KAAK6H,yBAAyBQ,EAAY,SAIlD5B,MAAM,yCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAqB,GACFF,EAAKb,SAAS,CAACI,oBAAqBW,GAAc,WAC9CA,EAAY,GAAGC,OAASD,EAAY,GAAGC,OAAS,GAChDtI,KAAK6H,yBAAyBQ,EAAY,kBA7J3DlJ,EAwKnBoJ,iBAAmB,SAACC,EAAezG,GAC/B,OAAO,GAzKQ5C,EA4KnBsJ,uBAAyB,SAACD,EAAeE,EAAaC,GAClD,IAAI5G,EAAO5C,EAAKC,MAAMwJ,KAAO,YAC7B,OAAOC,IAAO9G,IA9KC5C,EAiLnB2J,aAAe,SAACN,EAAeO,GAC3B,IAAIC,EAAWR,EAAcS,YAAYF,EAAMpE,YAAYrB,KA+V1D4F,IAASC,OACN5J,EAAAC,EAAAC,cAAC2J,EAAD,CACI7H,YAAa,kBAAoByH,EACjC9H,YAAa6H,EAAM3E,MACnBpC,YAAa+G,EAAM1E,MACnBjC,UAAW2G,EAAMvE,IACjB7C,WAAYoH,EAAMtE,MAClBhC,gBA/UR,WACI,IAAI4G,EAAmB,cAAgBrF,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OAC3LoG,EAAiBtF,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAMvK,GAAImG,IAJAC,EADmB,aAAnBA,EACiB,cAAgBA,EAEhB,cAAgBA,GAGjCJ,IAASC,OACL5J,EAAAC,EAAAC,cAAC8J,EAAD,CACIrK,QAAQ,4DACRoB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH,IAFGyI,EAECC,GAAc,EACdC,EAAmB,GACnBC,EAAkB7I,SAAS8I,iBAAiB,6CAC5CC,EAAgB/I,SAAS8I,iBAAiB,8CAC1CE,EAAwB,GANzBC,EAAA7D,OAAA8D,EAAA,EAAA9D,CAOoB2D,GAPpB,IAOH,IAAAE,EAAAE,MAAAT,EAAAO,EAAAnF,KAAAsF,MAAsC,KAA7BC,EAA6BX,EAAAvG,MAC9BkH,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,0BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,4BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,KA3B3C,MAAAqF,GAAAN,EAAAnJ,EAAAyJ,GAAA,QAAAN,EAAAO,IAsCH,IAPA,IAAIC,EAAYxG,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OACpKuH,EAAUzG,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAE5JwH,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GAC5BC,EAAA,EAAAC,EAAoBhB,EAApBe,EAAAC,EAAAzJ,OAAAwJ,IAA2C,CAAtC,IAAIE,EAAOD,EAAAD,GACZJ,EAAqBM,EAAU,IAAMR,EACrCG,EAAmBK,EAAU,IAAMP,EAFI,IAAAQ,EAAAC,EAAA/E,OAAA8D,EAAA,EAAA9D,CAGlByD,GAHkB,IAGvC,IAAAsB,EAAAhB,MAAAe,EAAAC,EAAArG,KAAAsF,MAAsC,KAA7BgB,EAA6BF,EAAA/H,MAClCsF,EAAc4C,OAAOC,QAAQ,SAASxK,GAClC,IAAIyK,EAAsB,EAgB1B,GAfIH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,yBACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,2BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,sBACrCsK,EAAsB,GAEtBzK,EAAE8D,aAAe2G,EAAqB,CACtC,IAAIC,EAA6B,GAC7B1K,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAG/C,QAAAuG,EAAA,EAAAC,EAAyBF,EAAzBC,EAAAC,EAAAnK,OAAAkK,IAAqD,CAAhD,IAAIE,EAAYD,EAAAD,GACjBZ,EAA0Bc,EAAe7K,EAAEwD,MAAMhD,UAAU,GAAG,IAC9DwJ,EAAwBa,EAAe7K,EAAE2D,IAAInD,UAAU,GAAG,KACpDqJ,GAAsBE,GACtBF,EAAqBG,GACrBF,EAAmBC,GACnBD,GAAoBE,GACpBD,GAA2BF,GAC3BE,EAA0BD,GAC1BE,EAAwBH,GACxBG,GAAyBF,IACzB9J,EAAEY,KAAOsH,EAAMtH,KACbiI,GAAc,EACTC,EAAiBxI,SAASN,IAC3B8I,EAAiBU,KAAKxJ,SA3DX,MAAAyJ,GAAAY,EAAArK,EAAAyJ,GAAA,QAAAY,EAAAX,KAoE3C,GAAIb,EAAa,CACb,IADaiC,EACTzM,EAAU,8CADD0M,EAAAzF,OAAA8D,EAAA,EAAA9D,CAEMwD,GAFN,IAEb,IAAAiC,EAAA1B,MAAAyB,EAAAC,EAAA/G,KAAAsF,MAAqC,KAA5BiB,EAA4BO,EAAAzI,MAC7B2I,EAAM,GACNT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,aAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,eAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEhB,IAAIC,EAA8BtD,EAAcS,YAAYmC,EAAOzG,YAAYrB,KAC/EpE,GAAO,UAAA6M,OAAcX,EAAO3G,MAArB,SAAAsH,OAAkCD,EAAlC,QAAAC,OAAoEF,EAAIxK,UAAU,EAAEwK,EAAIvK,OAAO,KA1B7F,MAAAgJ,GAAAsB,EAAA/K,EAAAyJ,GAAA,QAAAsB,EAAArB,IA4BbrB,IAASC,OACL5J,EAAAC,EAAAC,cAACuM,EAAD,CACI9M,QAASA,EACToB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH+H,EAAMtE,MAAQ1D,SAASC,eAAe,uBAAuBkC,MAAQ,KACvDnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAClGnC,SAASC,eAAe,aAAakC,MAAQ,MAAQnC,SAASC,eAAe,WAAWkC,MAAQ,IAChGnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,MAAQ,IAG5GsF,EAAcyD,iBAAiBlD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAekC,MAAQ,OAG1JsF,EAAc4D,eAAerD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAakC,MAAQ,OAGpJ,IAAIhC,EAAc,uBAAyBgL,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GACrE6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GAC5C6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,IAAM,kBAClD6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElD2H,EAAM3E,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC6H,EAAM3E,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7DP,SAASC,eAAe,gBAAkBgI,EAASrF,QAAQ,MAAO,KAAKvC,SAAU,EACjF,IAAIiL,EAAa,EAMjB,GALA7D,EAAc4C,OAAOC,QAAQ,SAAAiB,IACrBA,EAAKvH,aAAesH,GAAcC,EAAK7K,IAAM4K,KAC7CA,EAAaC,EAAKvH,eAGtBhE,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAKnB0D,OAAOC,SAAS/M,MAAMyN,cAAcjI,EAAwBmE,EAAOmD,OAAOC,SAAS/M,MAAM+E,kBACzF+H,OAAOC,SAAS/M,MAAM0N,cAGtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAGhBoE,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,OAiBzC9L,mBArWR,WACIiI,IAASM,uBAAuBzI,SAASC,eAAe,8BAqWpD2B,oBAlWR,WAEIuJ,OAAOC,SAAS/M,MAAM4N,cAAcjE,EAAMhE,aAC1CmH,OAAOC,SAAS/M,MAAM0N,cAGtBtE,EAAcyE,YAAYlE,GAC1BmD,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,IAErC7D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,gCAqVZ/G,SAASC,eAAe,8BA3hBjB7B,EA+hBnBoN,SAAW,SAAC/D,EAAe0E,EAAQlE,EAAU3E,EAAOG,EAAK5C,EAAM0K,GAC3D,IAAID,EAAa,EACjB7D,EAAc4C,OAAOC,QAAQ,SAAAiB,IACrBA,EAAKvH,aAAesH,GAAcC,EAAK7K,IAAM4K,KAAYA,EAAaC,EAAKvH,YAAc,KAGjG,IAAIwH,EAAW,CACX9K,GAAI4K,EACJ5H,MAAO,cAAgBoE,IAAOxE,GAAO8I,OAAO,WAAa,MAAQtE,IAAOrE,GAAK2I,OAAO,WAAa,IACjG9I,MAAOA,EACPG,IAAKA,EACLG,WAAYuI,EACZV,QAAS,UACTC,aAAa,EACbrI,MAAO,uBAAyBjF,EAAKC,MAAMuG,UAAUtE,UAAU,EAAE,GAAKlC,EAAKC,MAAMuG,UAAUtE,UAAU,EAAE,GAAKlC,EAAKC,MAAMuG,UAAUtE,UAAU,EAAE,IAAM,kBAAoBlC,EAAKC,MAAMsG,WAAWrE,UAAU,EAAE,GAAKlC,EAAKC,MAAMsG,WAAWrE,UAAU,EAAE,GAAKlC,EAAKC,MAAMsG,WAAWrE,UAAU,EAAE,IAAM,kBAAoBlC,EAAKC,MAAMyM,IAAIxK,UAAU,EAAE,GAAG+L,eAGnV5E,EAAcmE,SAASJ,GACvBpN,EAAKmI,SAAS,CACVsF,UAAWpE,IA4VfU,IAASC,OACL5J,EAAAC,EAAAC,cAAC2J,EAAD,CACI7H,YAAa,iBAAmByH,EAChC9H,YAAaqL,EAASnI,MACtBpC,YAAauK,EAASlI,MACtBjC,UAAWmK,EAAS/H,IACpB7C,WAAY4K,EAAS9H,MACrBhC,gBA1UR,WACI,IAAI4G,EAAmB,cAAgBrF,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OAC3LoG,EAAiBtF,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAMvK,GAAImG,IAJAC,EADmB,aAAnBA,EACiB,cAAgBA,EAEhB,cAAgBA,GAGjCJ,IAASC,OACL5J,EAAAC,EAAAC,cAAC8J,EAAD,CACIrK,QAAQ,4DACRoB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH,IAFGqM,EAEC3D,GAAc,EACdC,EAAmB,GACnBC,EAAkB7I,SAAS8I,iBAAiB,6CAC5CC,EAAgB/I,SAAS8I,iBAAiB,8CAC1CE,EAAwB,GANzBuD,EAAAnH,OAAA8D,EAAA,EAAA9D,CAOoB2D,GAPpB,IAOH,IAAAwD,EAAApD,MAAAmD,EAAAC,EAAAzI,KAAAsF,MAAsC,KAA7BC,EAA6BiD,EAAAnK,MAC9BkH,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,0BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,4BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,KA3B3C,MAAAqF,GAAAgD,EAAAzM,EAAAyJ,GAAA,QAAAgD,EAAA/C,IAsCH,IAPA,IAAIC,EAAYxG,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OACpKuH,EAAUzG,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAE5JwH,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GAC5B0C,EAAA,EAAAC,EAAoBzD,EAApBwD,EAAAC,EAAAlM,OAAAiM,IAA2C,CAAtC,IAAIvC,EAAOwC,EAAAD,GACZ7C,EAAqBM,EAAU,IAAMR,EACrCG,EAAmBK,EAAU,IAAMP,EAFI,IAAAgD,EAAAC,EAAAvH,OAAA8D,EAAA,EAAA9D,CAGlByD,GAHkB,IAGvC,IAAA8D,EAAAxD,MAAAuD,EAAAC,EAAA7I,KAAAsF,MAAsC,KAA7BgB,EAA6BsC,EAAAvK,MAClCsF,EAAc4C,OAAOC,QAAQ,SAASxK,GAClC,IAAIyK,EAAsB,EAgB1B,GAfIH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,yBACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,2BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,sBACrCsK,EAAsB,GAEtBzK,EAAE8D,aAAe2G,EAAqB,CACtC,IAAIC,EAA6B,GAC7B1K,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAG/C,QAAA0I,EAAA,EAAAC,EAAyBrC,EAAzBoC,EAAAC,EAAAtM,OAAAqM,IAAqD,CAAhD,IAAIjC,EAAYkC,EAAAD,GACjB/C,EAA0Bc,EAAe7K,EAAEwD,MAAMhD,UAAU,GAAG,IAC9DwJ,EAAwBa,EAAe7K,EAAE2D,IAAInD,UAAU,GAAG,KACpDqJ,GAAsBE,GACtBF,EAAqBG,GACrBF,EAAmBC,GACnBD,GAAoBE,GACpBD,GAA2BF,GAC3BE,EAA0BD,GAC1BE,EAAwBH,GACxBG,GAAyBF,IACzB9J,EAAEY,KAAO8K,EAAS9K,KAChBiI,GAAc,EACTC,EAAiBxI,SAASN,IAC3B8I,EAAiBU,KAAKxJ,SA3DX,MAAAyJ,GAAAoD,EAAA7M,EAAAyJ,GAAA,QAAAoD,EAAAnD,KAoE3C,GAAIb,EAAa,CACb,IADamE,EACT3O,EAAU,8CADD4O,EAAA3H,OAAA8D,EAAA,EAAA9D,CAEMwD,GAFN,IAEb,IAAAmE,EAAA5D,MAAA2D,EAAAC,EAAAjJ,KAAAsF,MAAqC,KAA5BiB,EAA4ByC,EAAA3K,MAC7B2I,EAAM,GACNT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,aAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,eAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEhB,IAAIC,EAA8BtD,EAAcS,YAAYmC,EAAOzG,YAAYrB,KAC/EpE,GAAO,UAAA6M,OAAcX,EAAO3G,MAArB,SAAAsH,OAAkCD,EAAlC,QAAAC,OAAoEF,EAAIxK,UAAU,EAAEwK,EAAIvK,OAAO,KA1B7F,MAAAgJ,GAAAwD,EAAAjN,EAAAyJ,GAAA,QAAAwD,EAAAvD,IA4BbrB,IAASC,OACL5J,EAAAC,EAAAC,cAACuM,EAAD,CACI9M,QAASA,EACToB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEHuL,EAAS9H,MAAQ1D,SAASC,eAAe,uBAAuBkC,MAAQ,KACvDnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAClGnC,SAASC,eAAe,aAAakC,MAAQ,MAAQnC,SAASC,eAAe,WAAWkC,MAAQ,IAChGnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,MAAQ,IAG/GsF,EAAcyD,iBAAiBM,EAAUL,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAekC,MAAQ,OAG7JsF,EAAc4D,eAAeG,EAAUL,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAakC,MAAQ,OAGvJ,IAAIhC,EAAc,uBAAyBgL,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GACrE6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GAC5C6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,IAAM,kBAClD6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,IAAM,kBAgCrE,GA/BIN,SAASC,eAAe,0BAA0BI,QAElDmL,EAASnI,MAAQlD,EAAc,wBAE3BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhCqL,EAASnI,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAIhEP,SAASC,eAAe,gBAAkBgI,EAASrF,QAAQ,MAAO,KAAKvC,SAAU,EAE7EL,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAI2M,EAAkB,CAClBtM,GAFJ4K,GAA0B,EAGtB5H,MAAO8H,EAAS9H,MAChBJ,MAAOkI,EAASlI,MAChBG,IAAK+H,EAAS/H,IACdG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAOmI,EAASnI,OAEpB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqB8J,EAAiB7B,OAAOC,SAAS/M,MAAM+E,kBAC7FqE,EAAcmE,SAASoB,GACvB7B,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAI2M,EAAkB,CAClBtM,GAFJ4K,GAA0B,EAGtB5H,MAAO8H,EAAS9H,MAChBJ,MAAOkI,EAASlI,MAChBG,IAAK+H,EAAS/H,IACdG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAOmI,EAASnI,OAEpB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqB8J,EAAiB7B,OAAOC,SAAS/M,MAAM+E,kBAC7FqE,EAAcmE,SAASoB,GACvB7B,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAI2M,EAAkB,CAClBtM,GAFJ4K,GAA0B,EAGtB5H,MAAO8H,EAAS9H,MAChBJ,MAAOkI,EAASlI,MAChBG,IAAK+H,EAAS/H,IACdG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAOmI,EAASnI,OAEpB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqB8J,EAAiB7B,OAAOC,SAAS/M,MAAM+E,kBAC7FqE,EAAcmE,SAASoB,GACvB7B,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAI2M,EAAkB,CAClBtM,GAFJ4K,GAA0B,EAGtB5H,MAAO8H,EAAS9H,MAChBJ,MAAOkI,EAASlI,MAChBG,IAAK+H,EAAS/H,IACdG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAOmI,EAASnI,OAEpB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqB8J,EAAiB7B,OAAOC,SAAS/M,MAAM+E,kBAC7FqE,EAAcmE,SAASoB,GACvB7B,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAI2M,EAAkB,CAClBtM,GAFJ4K,GAA0B,EAGtB5H,MAAO8H,EAAS9H,MAChBJ,MAAOkI,EAASlI,MAChBG,IAAK+H,EAAS/H,IACdG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAOmI,EAASnI,OAEpB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqB8J,EAAiB7B,OAAOC,SAAS/M,MAAM+E,kBAC7FqE,EAAcmE,SAASoB,GACvB7B,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAKnB0D,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtF+H,OAAOC,SAAS/M,MAAM0N,cAEtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAGhBoE,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,OAkBzC9L,mBAjWR,WAEIiL,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtF+H,OAAOC,SAAS/M,MAAM0N,cAEtBZ,OAAOC,SAAS7E,SAAS,CACrByF,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,IAGrC7D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,8BAsVZnF,oBApVR,WACI6F,EAAcyE,YAAYV,GAC1BL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAEfU,IAASM,uBAAuBzI,SAASC,eAAe,gCAgVpDD,SAASC,eAAe,8BAx5BjB7B,EA45BnB8M,iBAAmB,SAACzD,EAAeO,EAAOiF,GACtBjF,EAAM1E,MACtBmE,EAAcyD,iBAAiBlD,EAAOiF,GACtCjF,EAAMtE,MAAQsE,EAAMtE,MAAMpD,UAAU,EAAG0H,EAAMtE,MAAMnD,OAAS,IAAM,KAAOsC,EAAWiF,IAAOmF,GAAUb,OAAO,UAAY,MAAQvJ,EAAWiF,IAAOE,EAAMvE,KAAK2I,OAAO,UAAY,IAChLhO,EAAKmI,SAAS,CACVsF,UAAWpE,IA6Wf,IAAIQ,EAAWR,EAAcS,YAAYF,EAAMpE,YAAYrB,KAC3D4F,IAASC,OACL5J,EAAAC,EAAAC,cAAC2J,EAAD,CACI7H,YAAa,kBAAoByH,EACjC9H,YAAa6H,EAAM3E,MACnBpC,YAAagM,EACb5L,UAAW2G,EAAMvE,IACjB7C,WAAYoH,EAAMtE,MAClBhC,gBAjVR,WACI,IAAI4G,EAAmB,cAAgBrF,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OAC3LoG,EAAiBtF,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAMvK,GAAImG,IAJAC,EADmB,aAAnBA,EACiB,cAAgBA,EAEhB,cAAgBA,GAGjCJ,IAASC,OACL5J,EAAAC,EAAAC,cAAC8J,EAAD,CACIrK,QAAQ,4DACRoB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH,IAFGiN,EAECvE,GAAc,EACdC,EAAmB,GACnBC,EAAkB7I,SAAS8I,iBAAiB,6CAC5CC,EAAgB/I,SAAS8I,iBAAiB,8CAC1CE,EAAwB,GANzBmE,EAAA/H,OAAA8D,EAAA,EAAA9D,CAOoB2D,GAPpB,IAOH,IAAAoE,EAAAhE,MAAA+D,EAAAC,EAAArJ,KAAAsF,MAAsC,KAA7BC,EAA6B6D,EAAA/K,MAC9BkH,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,0BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,4BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,KA3B3C,MAAAqF,GAAA4D,EAAArN,EAAAyJ,GAAA,QAAA4D,EAAA3D,IAsCH,IAPA,IAAIC,EAAYxG,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OACpKuH,EAAUzG,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAE5JwH,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GAC5BsD,EAAA,EAAAC,EAAoBrE,EAApBoE,EAAAC,EAAA9M,OAAA6M,IAA2C,CAAtC,IAAInD,EAAOoD,EAAAD,GACZzD,EAAqBM,EAAU,IAAMR,EACrCG,EAAmBK,EAAU,IAAMP,EAFI,IAAA4D,EAAAC,EAAAnI,OAAA8D,EAAA,EAAA9D,CAGlByD,GAHkB,IAGvC,IAAA0E,EAAApE,MAAAmE,EAAAC,EAAAzJ,KAAAsF,MAAsC,KAA7BgB,EAA6BkD,EAAAnL,MAClCsF,EAAc4C,OAAOC,QAAQ,SAASxK,GAClC,IAAIyK,EAAsB,EAgB1B,GAfIH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,yBACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,2BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,sBACrCsK,EAAsB,GAEtBzK,EAAE8D,aAAe2G,EAAqB,CACtC,IAAIC,EAA6B,GAC7B1K,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAG/C,QAAAsJ,EAAA,EAAAC,EAAyBjD,EAAzBgD,EAAAC,EAAAlN,OAAAiN,IAAqD,CAAhD,IAAI7C,EAAY8C,EAAAD,GACjB3D,EAA0Bc,EAAe7K,EAAEwD,MAAMhD,UAAU,GAAG,IAC9DwJ,EAAwBa,EAAe7K,EAAE2D,IAAInD,UAAU,GAAG,KACpDqJ,GAAsBE,GACtBF,EAAqBG,GACrBF,EAAmBC,GACnBD,GAAoBE,GACpBD,GAA2BF,GAC3BE,EAA0BD,GAC1BE,EAAwBH,GACxBG,GAAyBF,IACzB9J,EAAEY,KAAOsH,EAAMtH,KACbiI,GAAc,EACTC,EAAiBxI,SAASN,IAC3B8I,EAAiBU,KAAKxJ,SA3DX,MAAAyJ,GAAAgE,EAAAzN,EAAAyJ,GAAA,QAAAgE,EAAA/D,KAoE3C,GAAIb,EAAa,CACb,IADa+E,EACTvP,EAAU,8CADDwP,EAAAvI,OAAA8D,EAAA,EAAA9D,CAEMwD,GAFN,IAEb,IAAA+E,EAAAxE,MAAAuE,EAAAC,EAAA7J,KAAAsF,MAAqC,KAA5BiB,EAA4BqD,EAAAvL,MAC7B2I,EAAM,GACNT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAa,YAEbT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,aAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,eAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEhB,IAAIC,EAA8BtD,EAAcS,YAAYmC,EAAOzG,YAAYrB,KAC/EpE,GAAO,UAAA6M,OAAcX,EAAO3G,MAArB,SAAAsH,OAAkCD,EAAlC,QAAAC,OAAoEF,EAAIxK,UAAU,EAAEwK,EAAIvK,OAAO,KA1B7F,MAAAgJ,GAAAoE,EAAA7N,EAAAyJ,GAAA,QAAAoE,EAAAnE,IA4BbrB,IAASC,OACL5J,EAAAC,EAAAC,cAACuM,EAAD,CACI9M,QAASA,EACToB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH+H,EAAMtE,MAAQ1D,SAASC,eAAe,uBAAuBkC,MAAQ,KACvDnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAClGnC,SAASC,eAAe,aAAakC,MAAQ,MAAQnC,SAASC,eAAe,WAAWkC,MAAQ,IAChGnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,MAAQ,IAG5GsF,EAAcyD,iBAAiBlD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAekC,MAAQ,OAG1JsF,EAAc4D,eAAerD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAakC,MAAQ,OAGpJ,IAAIhC,EAAc,uBAAyBgL,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GACrE6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GAC5C6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,IAAM,kBAClD6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElD2H,EAAM3E,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC6H,EAAM3E,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7DP,SAASC,eAAe,gBAAkBgI,EAASrF,QAAQ,MAAO,KAAKvC,SAAU,EACjF,IAAIiL,EAAa,EAOjB,GANA7D,EAAc4C,OAAOC,QAAQ,SAAAiB,IACrBA,EAAKvH,aAAesH,GAAcC,EAAK7K,IAAM4K,KAC7CA,EAAaC,EAAKvH,eAItBhE,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAMnB0D,OAAOC,SAAS/M,MAAMyN,cAAcjI,EAAwBmE,EAAOmD,OAAOC,SAAS/M,MAAM+E,kBACzF+H,OAAOC,SAAS/M,MAAM0N,cAEtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAGhBoE,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,OAkBzC9L,mBAnXR,WAEIiL,OAAOC,SAAS/M,MAAMyN,cAAcjI,EAAwBmE,EAAOmD,OAAOC,SAAS/M,MAAM+E,kBACzF+H,OAAOC,SAAS/M,MAAM0N,cAEtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAEhBoE,OAAOC,SAAS7E,SAAS,CACrByF,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,KAyWjCpK,oBAtWR,WAEI6F,EAAcyE,YAAYlE,GAG1BmD,OAAOC,SAAS/M,MAAM4N,cAAcjE,EAAMhE,aAC1CmH,OAAOC,SAAS/M,MAAM0N,cAEtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAEhBoE,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,OAwVjChM,SAASC,eAAe,8BAzxCjB7B,EA6xCnBiN,eAAiB,SAAC5D,EAAeO,EAAO4F,GACtB5F,EAAMvE,IACpBgE,EAAc4D,eAAerD,EAAO4F,GACpC5F,EAAMtE,MAAQsE,EAAMtE,MAAMpD,UAAU,EAAG0H,EAAMtE,MAAMnD,OAAS,IAAM,KAAOsC,EAAWiF,IAAOE,EAAM1E,OAAO8I,OAAO,UAAY,MAAQvJ,EAAWiF,IAAO8F,GAAQxB,OAAO,UAAY,IAChLhO,EAAKmI,SAAS,CACVsF,UAAWpE,IA0Wf,IAAIQ,EAAWR,EAAcS,YAAYF,EAAMpE,YAAYrB,KAC3D4F,IAASC,OACL5J,EAAAC,EAAAC,cAAC2J,EAAD,CACI7H,YAAa,kBAAoByH,EACjC9H,YAAa6H,EAAM3E,MACnBpC,YAAa+G,EAAM1E,MACnBjC,UAAWuM,EACXhN,WAAYoH,EAAMtE,MAClBhC,gBAhVR,WACI,IAAI4G,EAAmB,cAAgBrF,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OAC3LoG,EAAiBtF,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAMvK,GAAImG,IAJAC,EADmB,aAAnBA,EACiB,cAAgBA,EAEhB,cAAgBA,GAGjCJ,IAASC,OACL5J,EAAAC,EAAAC,cAAC8J,EAAD,CACIrK,QAAQ,4DACRoB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH,IAFG4N,EAEClF,GAAc,EACdC,EAAmB,GACnBC,EAAkB7I,SAAS8I,iBAAiB,6CAC5CC,EAAgB/I,SAAS8I,iBAAiB,8CAC1CE,EAAwB,GANzB8E,EAAA1I,OAAA8D,EAAA,EAAA9D,CAOoB2D,GAPpB,IAOH,IAAA+E,EAAA3E,MAAA0E,EAAAC,EAAAhK,KAAAsF,MAAsC,KAA7BC,EAA6BwE,EAAA1L,MAC9BkH,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,0BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,4BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,KA3B3C,MAAAqF,GAAAuE,EAAAhO,EAAAyJ,GAAA,QAAAuE,EAAAtE,IAsCH,IAPA,IAAIC,EAAYxG,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OACpKuH,EAAUzG,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAE5JwH,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GAC5BiE,EAAA,EAAAC,EAAoBhF,EAApB+E,EAAAC,EAAAzN,OAAAwN,IAA2C,CAAtC,IAAI9D,EAAO+D,EAAAD,GACZpE,EAAqBM,EAAU,IAAMR,EACrCG,EAAmBK,EAAU,IAAMP,EAFI,IAAAuE,EAAAC,EAAA9I,OAAA8D,EAAA,EAAA9D,CAGlByD,GAHkB,IAGvC,IAAAqF,EAAA/E,MAAA8E,EAAAC,EAAApK,KAAAsF,MAAsC,KAA7BgB,EAA6B6D,EAAA9L,MAClCsF,EAAc4C,OAAOC,QAAQ,SAASxK,GAClC,IAAIyK,EAAsB,EAgB1B,GAfIH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,yBACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,2BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,sBACrCsK,EAAsB,GAEtBzK,EAAE8D,aAAe2G,EAAqB,CACtC,IAAIC,EAA6B,GAC7B1K,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAG/C,QAAAiK,EAAA,EAAAC,EAAyB5D,EAAzB2D,EAAAC,EAAA7N,OAAA4N,IAAqD,CAAhD,IAAIxD,EAAYyD,EAAAD,GACjBtE,EAA0Bc,EAAe7K,EAAEwD,MAAMhD,UAAU,GAAG,IAC9DwJ,EAAwBa,EAAe7K,EAAE2D,IAAInD,UAAU,GAAG,KACpDqJ,GAAsBE,GACtBF,EAAqBG,GACrBF,EAAmBC,GACnBD,GAAoBE,GACpBD,GAA2BF,GAC3BE,EAA0BD,GAC1BE,EAAwBH,GACxBG,GAAyBF,IACzB9J,EAAEY,KAAOsH,EAAMtH,KACbiI,GAAc,EACTC,EAAiBxI,SAASN,IAC3B8I,EAAiBU,KAAKxJ,SA3DX,MAAAyJ,GAAA2E,EAAApO,EAAAyJ,GAAA,QAAA2E,EAAA1E,KAoE3C,GAAIb,EAAa,CACb,IADa0F,EACTlQ,EAAU,8CADDmQ,EAAAlJ,OAAA8D,EAAA,EAAA9D,CAEMwD,GAFN,IAEb,IAAA0F,EAAAnF,MAAAkF,EAAAC,EAAAxK,KAAAsF,MAAqC,KAA5BiB,EAA4BgE,EAAAlM,MAC7B2I,EAAM,GACNT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,aAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,eAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEhB,IAAIC,EAA8BtD,EAAcS,YAAYmC,EAAOzG,YAAYrB,KAC/EpE,GAAO,UAAA6M,OAAcX,EAAO3G,MAArB,SAAAsH,OAAkCD,EAAlC,QAAAC,OAAoEF,EAAIxK,UAAU,EAAEwK,EAAIvK,OAAO,KA1B7F,MAAAgJ,GAAA+E,EAAAxO,EAAAyJ,GAAA,QAAA+E,EAAA9E,IA4BbrB,IAASC,OACL5J,EAAAC,EAAAC,cAACuM,EAAD,CACI9M,QAASA,EACToB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH+H,EAAMtE,MAAQ1D,SAASC,eAAe,uBAAuBkC,MAAQ,KACvDnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAClGnC,SAASC,eAAe,aAAakC,MAAQ,MAAQnC,SAASC,eAAe,WAAWkC,MAAQ,IAChGnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,MAAQ,IAG5GsF,EAAcyD,iBAAiBlD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAekC,MAAQ,OAG1JsF,EAAc4D,eAAerD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAakC,MAAQ,OAGpJ,IAAIhC,EAAc,uBAAyBgL,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GACrE6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GAC5C6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,IAAM,kBAClD6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElD2H,EAAM3E,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC6H,EAAM3E,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7DP,SAASC,eAAe,gBAAkBgI,EAASrF,QAAQ,MAAO,KAAKvC,SAAU,EACjF,IAAIiL,EAAa,EAMjB,GALA7D,EAAc4C,OAAOC,QAAQ,SAAAiB,IACrBA,EAAKvH,aAAesH,GAAcC,EAAK7K,IAAM4K,KAC7CA,EAAaC,EAAKvH,eAGtBhE,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAKnB0D,OAAOC,SAAS/M,MAAMyN,cAAcjI,EAAwBmE,EAAOmD,OAAOC,SAAS/M,MAAM+E,kBACzF+H,OAAOC,SAAS/M,MAAM0N,cAEtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAGhBoE,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,OAmBzC9L,mBAhXR,WACIiI,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAAS/M,MAAMyN,cAAcjI,EAAwBmE,EAAOmD,OAAOC,SAAS/M,MAAM+E,kBACzF+H,OAAOC,SAAS/M,MAAM0N,cAEtBZ,OAAOC,SAAS7E,SAAS,CACrByF,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,IAIrCb,OAAOC,SAASrE,8BAqWZnF,oBAnWR,WAEIuJ,OAAOC,SAAS/M,MAAM4N,cAAcjE,EAAMhE,aAC1CmH,OAAOC,SAAS/M,MAAM0N,cAGtBtE,EAAcyE,YAAYlE,GAC1BmD,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,IAErC7D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,gCAsVZ/G,SAASC,eAAe,8BAvpDjB7B,EA2pDnBmQ,UAAY,SAAC9G,EAAeO,EAAOmE,EAAQlE,EAAU3E,EAAOG,GACxCuE,EAAM1E,MACR0E,EAAMvE,IACpBgE,EAAcyD,iBAAiBlD,EAAO1E,GACtCmE,EAAc4D,eAAerD,EAAOvE,GACpCuE,EAAMtE,MAAQsE,EAAMtE,MAAMpD,UAAU,EAAG0H,EAAMtE,MAAMnD,OAAS,IAAM,KAAOsC,EAAWiF,IAAOxE,GAAO8I,OAAO,UAAY,MAAQvJ,EAAWiF,IAAOrE,GAAK2I,OAAO,UAAY,IACvKhO,EAAKmI,SAAS,CACVsF,UAAWpE,IA4WfU,IAASC,OACL5J,EAAAC,EAAAC,cAAC2J,EAAD,CACI7H,YAAa,kBAAoByH,EACjC9H,YAAa6H,EAAM3E,MACnBpC,YAAaqC,EACbjC,UAAWoC,EACX7C,WAAYoH,EAAMtE,MAClBhC,gBA/UR,WACI,IAAI4G,EAAmB,cAAgBrF,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OAC3LoG,EAAiBtF,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAMvK,GAAImG,IAJAC,EADmB,aAAnBA,EACiB,cAAgBA,EAEhB,cAAgBA,GAGjCJ,IAASC,OACL5J,EAAAC,EAAAC,cAAC8J,EAAD,CACIrK,QAAQ,4DACRoB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH,IAFGuO,EAEC7F,GAAc,EACdC,EAAmB,GACnBC,EAAkB7I,SAAS8I,iBAAiB,6CAC5CC,EAAgB/I,SAAS8I,iBAAiB,8CAC1CE,EAAwB,GANzByF,EAAArJ,OAAA8D,EAAA,EAAA9D,CAOoB2D,GAPpB,IAOH,IAAA0F,EAAAtF,MAAAqF,EAAAC,EAAA3K,KAAAsF,MAAsC,KAA7BC,EAA6BmF,EAAArM,MAC9BkH,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,0BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,4BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,2BACvC+I,EAAsBM,KAAKpF,IAAW,IAEtCmF,IAAerJ,SAASC,eAAe,yBACvC+I,EAAsBM,KAAKpF,IAAW,KA3B3C,MAAAqF,GAAAkF,EAAA3O,EAAAyJ,GAAA,QAAAkF,EAAAjF,IAsCH,IAPA,IAAIC,EAAYxG,EAAWjD,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,OACpKuH,EAAUzG,EAAWjD,SAASC,eAAe,WAAWkC,MAAQ,IAAMnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,OAE5JwH,EAAqB,GACrBC,EAAmB,GACnBC,EAA0B,GAC1BC,EAAwB,GAC5B4E,EAAA,EAAAC,EAAoB3F,EAApB0F,EAAAC,EAAApO,OAAAmO,IAA2C,CAAtC,IAAIzE,EAAO0E,EAAAD,GACZ/E,EAAqBM,EAAU,IAAMR,EACrCG,EAAmBK,EAAU,IAAMP,EAFI,IAAAkF,EAAAC,EAAAzJ,OAAA8D,EAAA,EAAA9D,CAGlByD,GAHkB,IAGvC,IAAAgG,EAAA1F,MAAAyF,EAAAC,EAAA/K,KAAAsF,MAAsC,KAA7BgB,EAA6BwE,EAAAzM,MAClCsF,EAAc4C,OAAOC,QAAQ,SAASxK,GAClC,IAAIyK,EAAsB,EAgB1B,GAfIH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,yBACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,0BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,2BACrCsK,EAAsB,GAEtBH,IAAapK,SAASC,eAAe,sBACrCsK,EAAsB,GAEtBzK,EAAE8D,aAAe2G,EAAqB,CACtC,IAAIC,EAA6B,GAC7B1K,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAE3CpE,EAAEuD,MAAM/C,UAAU,GAAIR,EAAEuD,MAAM9C,QAAQH,SAAS,OAC/CoK,EAA2BlB,KAAKpF,IAAW,IAG/C,QAAA4K,EAAA,EAAAC,EAAyBvE,EAAzBsE,EAAAC,EAAAxO,OAAAuO,IAAqD,CAAhD,IAAInE,EAAYoE,EAAAD,GACjBjF,EAA0Bc,EAAe7K,EAAEwD,MAAMhD,UAAU,GAAG,IAC9DwJ,EAAwBa,EAAe7K,EAAE2D,IAAInD,UAAU,GAAG,KACpDqJ,GAAsBE,GACtBF,EAAqBG,GACrBF,EAAmBC,GACnBD,GAAoBE,GACpBD,GAA2BF,GAC3BE,EAA0BD,GAC1BE,EAAwBH,GACxBG,GAAyBF,IACzB9J,EAAEY,KAAOsH,EAAMtH,KACbiI,GAAc,EACTC,EAAiBxI,SAASN,IAC3B8I,EAAiBU,KAAKxJ,SA3DX,MAAAyJ,GAAAsF,EAAA/O,EAAAyJ,GAAA,QAAAsF,EAAArF,KAoE3C,GAAIb,EAAa,CACb,IADaqG,EACT7Q,EAAU,8CADD8Q,EAAA7J,OAAA8D,EAAA,EAAA9D,CAEMwD,GAFN,IAEb,IAAAqG,EAAA9F,MAAA6F,EAAAC,EAAAnL,KAAAsF,MAAqC,KAA5BiB,EAA4B2E,EAAA7M,MAC7B2I,EAAM,GACNT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,aAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,eAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,cAEZT,EAAOhH,MAAM/C,UAAU,GAAG+J,EAAOhH,MAAM9C,QAAQH,SAAS,QACxD0K,GAAY,YAEhB,IAAIC,EAA8BtD,EAAcS,YAAYmC,EAAOzG,YAAYrB,KAC/EpE,GAAO,UAAA6M,OAAcX,EAAO3G,MAArB,SAAAsH,OAAkCD,EAAlC,QAAAC,OAAoEF,EAAIxK,UAAU,EAAEwK,EAAIvK,OAAO,KA1B7F,MAAAgJ,GAAA0F,EAAAnP,EAAAyJ,GAAA,QAAA0F,EAAAzF,IA4BbrB,IAASC,OACL5J,EAAAC,EAAAC,cAACuM,EAAD,CACI9M,QAASA,EACToB,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,sBAE7B,CAEH+H,EAAMtE,MAAQ1D,SAASC,eAAe,uBAAuBkC,MAAQ,KACvDnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,eAAekC,MAAQ,IAClGnC,SAASC,eAAe,aAAakC,MAAQ,MAAQnC,SAASC,eAAe,WAAWkC,MAAQ,IAChGnC,SAASC,eAAe,aAAakC,MAAQ,IAAMnC,SAASC,eAAe,WAAWkC,MAAQ,IAG5GsF,EAAcyD,iBAAiBlD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,SAAW,IAAMjE,SAASC,eAAe,eAAekC,MAAQ,OAG1JsF,EAAc4D,eAAerD,EAAOmD,OAAOC,SAAS/M,MAAMwJ,KAAO,IAAM5D,EAAiB,OAAS,IAAMjE,SAASC,eAAe,aAAakC,MAAQ,OAGpJ,IAAIhC,EAAc,uBAAyBgL,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GACrE6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,GAC5C6K,OAAOC,SAAS/M,MAAMuG,UAAUtE,UAAU,EAAE,IAAM,kBAClD6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,GAC7C6K,OAAOC,SAAS/M,MAAMsG,WAAWrE,UAAU,EAAE,IAAM,kBACjEN,SAASC,eAAe,0BAA0BI,QAElD2H,EAAM3E,MAAQlD,EAAc,wBAExBH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,yBAAyBI,UACjDF,GAA4B,OAE5BH,SAASC,eAAe,2BAA2BI,UACnDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAE5BH,SAASC,eAAe,0BAA0BI,UAClDF,GAA4B,OAE5BH,SAASC,eAAe,wBAAwBI,UAChDF,GAA4B,OAEhC6H,EAAM3E,MAAQlD,EAAYG,UAAU,EAAEH,EAAYI,OAAO,IAI7D,IAAI+K,EAAa,EAOjB,GANA7D,EAAc4C,OAAOC,QAAQ,SAAAiB,IACrBA,EAAKvH,aAAesH,GAAcC,EAAK7K,IAAM4K,KAC7CA,EAAaC,EAAKvH,eAG1BhE,SAASC,eAAe,gBAAkBgI,EAASrF,QAAQ,MAAO,KAAKvC,SAAU,EAC7EL,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,wBAAwBI,QAAS,CAEzD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,uBAAuBI,QAAS,CAExD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,yBAAyBI,QAAS,CAE1D,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAGnB,GAAIzH,SAASC,eAAe,oBAAoBI,QAAS,CAErD,IAAImL,EAAW,CACX9K,GAFJ4K,GAA0B,EAGtB5H,MAAOsE,EAAMtE,MACbJ,MAAO0E,EAAM1E,MACbG,IAAKuE,EAAMvE,IACXG,WAAY,EACZ6H,QAAS,UACTC,aAAa,EACbrI,MAAO2E,EAAM3E,OAEjB8H,OAAOC,SAAS/M,MAAMsN,WAAWzI,EAAqBsI,EAAUL,OAAOC,SAAS/M,MAAM+E,kBACtFqE,EAAcmE,SAASJ,GACvBL,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,IAKnB0D,OAAOC,SAAS/M,MAAMyN,cAAcjI,EAAwBmE,EAAOmD,OAAOC,SAAS/M,MAAM+E,kBACzF+H,OAAOC,SAAS/M,MAAM0N,cAEtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAGhBoE,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,OAkBzC9L,mBAjXR,WACIiI,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAAS/M,MAAMyN,cAAcjI,EAAwBmE,EAAOmD,OAAOC,SAAS/M,MAAM+E,kBACzF+H,OAAOC,SAAS/M,MAAM0N,cAEtBZ,OAAOC,SAAS7E,SAAS,CACrByF,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,IAIrCb,OAAOC,SAASrE,8BAsWZnF,oBAnWR,WAEIuJ,OAAOC,SAAS/M,MAAM4N,cAAcjE,EAAMhE,aAC1CmH,OAAOC,SAAS/M,MAAM0N,cAEtB5D,IAASM,uBAAuBzI,SAASC,eAAe,6BAGxDkL,OAAOC,SAASrE,6BAGhBU,EAAcyE,YAAYlE,GAC1BmD,OAAOC,SAAS7E,SAAS,CACrBsF,UAAWpE,EACXuE,IAAKb,OAAOC,SAASlN,MAAM8N,IAAM,OAsVjChM,SAASC,eAAe,8BAxhEjB7B,EA4hEnB8Q,iBAAmB,SAACzH,EAAe0H,EAAQnH,EAAOnH,EAAMsL,EAAQlE,EAAU3E,EAAOG,GAC7E0E,IAASC,OACL5J,EAAAC,EAAAC,cAAC8J,EAAD,CACIrK,QAAS,+CAAiD8J,EAAW,IACrE1I,KAAM,WACF4I,IAASM,uBAAuBzI,SAASC,eAAe,qBAE5DD,SAASC,eAAe,mBAjiEhC,IAAIwH,EAAgB,IAAI2H,gBACpBhR,EAAKC,MAAMwJ,KACXwH,YAAUC,KACV,GACA,EACA,CACIC,eAAe,EACfC,wBAAwB,EACxBC,8BAA8B,EAC9BC,mBAAmB,GACpB,CACCC,2BAA4BvR,EAAKsJ,uBACjCkI,qBAAsBxR,EAAKoJ,mBAdpB,OAiBfC,EAAcoI,aAAa,CAAC,CAACnP,GAAG,EAAG6B,KAAK,WAAY,CAAC7B,GAAG,EAAG6B,KAAK,OAAQ,CAAC7B,GAAG,EAAG6B,KAAK,UAAW,CAAC7B,GAAG,EAAG6B,KAAK,WAAY,CAAC7B,GAAG,EAAG6B,KAAK,eACnIkF,EAAcqI,UAAU1R,EAAKC,MAAMgM,QACnCjM,EAAKF,MAAQ,CACT2N,UAAWpE,EACXpB,mBAAoB,GACpBI,0BAA2B,GAC3BE,oBAAqB,GACrBqF,IAAK,GAETb,OAAOC,SAAPhG,OAAA2K,EAAA,EAAA3K,CAAAhH,GA1BeA,uDA6BV,IACGyN,EAAc5M,KAAKf,MAAnB2N,UACR,OACIrN,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACsR,EAAAvR,EAAD,CACIuN,IAAK/M,KAAKf,MAAM8N,IAChBvE,cAAeoE,EACfoE,eAAgBhR,KAAK8I,aACrBmD,iBAAkBjM,KAAKiM,iBACvBG,eAAgBpM,KAAKoM,eACrBkD,UAAWtP,KAAKsP,UAChB/C,SAAUvM,KAAKuM,SACf0D,iBAAkBjQ,KAAKiQ,4BA3CxB/P,cCtOvB,SAAS+Q,EAAQzR,EAAE0R,GACf,IAAIC,EAAa,EAMjB,OALI3R,EAAE+B,YAAc2P,EAAE3P,YAClB4P,EAAa,EACN3R,EAAE+B,YAAc2P,EAAE3P,cACzB4P,GAAc,GAEXA,MAKLC,8MACFnS,MAAQ,CACJoS,MAAO,GACPtE,IAAK,KAOTuE,UAAY,WAER7K,MAAM,kCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAuK,GACFA,EAAKC,KAAKP,GACV9R,EAAKmI,SAAS,CAAC+J,MAAOE,EAAMxE,IAAK5N,EAAKF,MAAM8N,IAAI,MAGpD0E,WAAWtS,EAAKmS,UAAW,QAG/BI,WAAa,SAAClL,GACVC,MAAM,iCAAmCD,EAAQ/E,GAAGuB,WAAa,IAAK,CAClE0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWhI,EAAKF,MAAMoS,MAAM5Q,IAAI,SAAAyD,GAClC,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGf/E,EAAKmI,SAAS,CAAC+J,MAAOlK,yEA/B1BnH,KAAKsR,6CAoCL,OACI/R,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,wBACJlC,EAAAC,EAAAC,cAACkS,EAAD,CACI5E,IAAK/M,KAAKf,MAAM8N,IAChBsE,MAAOrR,KAAKf,MAAMoS,MAClBxE,cAAe7M,KAAK0R,cAG5BnS,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAAC8R,MAAM,UAAjB,yFApDqB1R,aA0D/B2R,yKACO,IAAA7J,EAAAhI,KACCqR,EAAQrR,KAAKZ,MAAMiS,MAAM5Q,IAAI,SAAAyD,GAAI,OACnC3E,EAAAC,EAAAC,cAACqS,EAAD,CACI/E,IAAK7I,EAAKzC,GACVA,GAAIyC,EAAKzC,GACT6C,QAASJ,EAAKI,QACd/C,YAAa2C,EAAK3C,YAClBwQ,aAAc7N,EAAK6N,aACnBlF,cAAe7E,EAAK5I,MAAMyN,kBAGlC,OACItN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAAC8R,MAAM,UACfrS,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACqC,WAAW,OAAQ6P,aAAa,QAA3C,YACAzS,EAAAC,EAAAC,cAACwS,EAAD,CAAoBxQ,GAAG,SAASyQ,gBAAgB,EAAMb,MAAOrR,KAAKZ,MAAMiS,SAE5E9R,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACqS,OAAO,OAAQ9O,MAAM,gBAC7BgO,WArBWnR,aA4B1BkS,8MACFC,aAAe,SAACnO,GACZA,EAAKzC,GAAK0G,EAAK/I,MAAMqC,GACrB0G,EAAK/I,MAAMyN,cAAc3I,2DAGpB,IAAAoO,EAAAtS,KAcL,OAXQT,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAAC8S,EAAD,CACI9Q,GAAI6Q,EAAKlT,MAAMqC,GACf6C,QAASgO,EAAKlT,MAAMkF,QACpB/C,YAAa+Q,EAAKlT,MAAMmC,YACxBwQ,aAAcO,EAAKlT,MAAM2S,aACzBS,aAAcF,EAAKD,uBAfHnS,aA0BlCuS,8MACFxT,MAAQ,CACJqF,QAASoO,EAAKtT,MAAMkF,QACpB/C,YAAamR,EAAKtT,MAAMmC,YACxBwQ,aAAcW,EAAKtT,MAAM2S,aACzB3K,mBAAoB,GACpBM,oBAAqB,MAOzBnB,wBAA0B,SAACC,GACvBC,MAAM,6CAA+CD,EAAQ/E,GAAGuB,WAAa,IAAK,CAC9E0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWuL,EAAKzT,MAAMmI,mBAAmB3G,IAAI,SAAAyD,GAC/C,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGfwO,EAAKpL,SAAS,CAACF,mBAAoBD,SAI3CM,wBAA0B,SAACjB,GACvBC,MAAM,wCAA0CD,EAAQ/E,GAAGuB,WAAa,IAAK,CACzE0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWuL,EAAKzT,MAAMyI,oBAAoBjH,IAAI,SAAAyD,GAChD,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGfwO,EAAKpL,SAAS,CAACI,oBAAqBP,SAI5CQ,yBAA2B,SAACzD,GACxBA,EAAKzC,GAAKiR,EAAKtT,MAAMkF,QACrBoO,EAAKnM,wBAAwBrC,MAGjC2D,yBAA2B,SAAC3D,GACxBA,EAAKzC,GAAKiR,EAAKtT,MAAMkF,QACrBoO,EAAKjL,wBAAwBvD,MAGjCyO,yBAA2B,WACvBlM,MAAM,8CACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAkB,GACFwK,EAAKpL,SAAS,CAACF,mBAAoBc,GAAa,WAAW,IAAA0K,EAAA5S,KACpB,IAA/BkI,EAAW,GAAG2K,eAEd3K,EAAW,GAAG2K,aAAe,GAC7B7S,KAAK2H,yBAAyBO,EAAW,IAEzCzB,MAAM,yCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAqB,GACFuK,EAAKtL,SAAS,CAACI,oBAAqBW,GAAc,WAC9CA,EAAY,GAAGC,OAASD,EAAY,GAAGC,OAAS,GAChDtI,KAAK6H,yBAAyBQ,EAAY,gBASlEyK,iBAAmB,WACfJ,EAAKtT,MAAMoT,aAAXrM,OAAA4M,EAAA,EAAA5M,CAAA,GAA4BuM,EAAKzT,WAGrC+T,WAAa,WACT,IAAIC,EAAkBP,EAAKzT,MAAMsC,YAAc,eAC/CR,SAASC,eAAeiS,GAAiB7R,SAAU,EACnDsR,EAAKpL,SAAS,CAACyK,cAAc,GAAQ,WAAY/R,KAAK8S,qBACtD5J,IAASM,uBAAuBzI,SAASC,eAAe,kBACxDkS,IAGAR,EAAKC,8BAGTQ,WAAa,WACT,IAAIF,EAAkBP,EAAKzT,MAAMsC,YAAc,eAC/CR,SAASC,eAAeiS,GAAiB7R,SAAU,EACnDsR,EAAKpL,SAAS,CAACyK,cAAc,GAAO,WAAY/R,KAAK8S,qBACrD5J,IAASM,uBAAuBzI,SAASC,eAAe,kBACxDkS,IAGAR,EAAKC,8BAGTS,UAAY,WACR,IAAIC,EAAkBX,EAAKzT,MAAMsC,YAAc,eAC/CR,SAASC,eAAeqS,GAAiBjS,SAAU,EACnDsR,EAAKpL,SAAS,CAACyK,cAAc,GAAO,WAAY/R,KAAK8S,qBACrD5J,IAASM,uBAAuBzI,SAASC,eAAe,qBAG5DsS,UAAY,WACR,IAAID,EAAkBX,EAAKzT,MAAMsC,YAAc,eAC/CR,SAASC,eAAeqS,GAAiBjS,SAAU,EACnDsR,EAAKpL,SAAS,CAACyK,cAAc,GAAQ,WAAY/R,KAAK8S,qBACtD5J,IAASM,uBAAuBzI,SAASC,eAAe,qBAG5DuS,SAAW,SAAC1S,GACRA,EAAE2S,iBAC6B,YAA3Bd,EAAKzT,MAAMsC,aAAwD,WAA3BmR,EAAKzT,MAAMsC,aACnB,IAA5BmR,EAAKzT,MAAM8S,aACPhR,SAASC,eAAe,iBAAiByS,WAAWnS,OAAS,EAE7DoR,EAAKpL,SAAS,CAACyK,cAAc,GAAQ,WAAY/R,KAAK8S,qBAEtD5J,IAASC,OAAO5J,EAAAC,EAAAC,cAACiU,EAAD,CACIxU,QAAS,8BAAgCwT,EAAKzT,MAAMsC,YAAc,IAClElC,UAAaqT,EAAKM,WAClB1T,SAAYoT,EAAKU,YACjBrS,SAASC,eAAe,kBAG5CD,SAASC,eAAe,iBAAiByS,WAAWnS,OAAS,EAE7DoR,EAAKpL,SAAS,CAACyK,cAAc,GAAO,WAAY/R,KAAK8S,qBAErD5J,IAASC,OAAO5J,EAAAC,EAAAC,cAACiU,EAAD,CACIxU,QAAS,6BAA+BwT,EAAKzT,MAAMsC,YAAc,IACjElC,UAAaqT,EAAKS,WAClB7T,SAAYoT,EAAKY,YACjBvS,SAASC,eAAe,mBAKpD0R,EAAKpL,SAAS,CAACyK,aAAclR,EAAEC,OAAOM,SAAU,WAAYpB,KAAK8S,qBACjEI,IAGAR,EAAKC,+FArJTO,qCA0JA,IAAgC,IAA5BlT,KAAKf,MAAM8S,aACX,IAAI4B,EAA4B,WAC5BC,EAAuB,kBAAoB5T,KAAKf,MAAMsC,YAAYyB,WAAa,gBAEnF2Q,EAA4B,YAC5BC,EAAuB,kBAAoB5T,KAAKf,MAAMsC,YAAYyB,WAAa,UAEnF,OACIzD,EAAAC,EAAAC,cAAA,OAAKgC,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,YAAajB,UAAU,mBACvEnD,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAAC+T,UAAU,SAAUvR,WAAW,OAAQvC,MAAM,UAAxD,IAAoEC,KAAKf,MAAMsC,YAA/E,KACAhC,EAAAC,EAAAC,cAAA,OAAKgC,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,cAChDpE,EAAAC,EAAAC,cAAA,OAAKC,MAAOiU,GACRpU,EAAAC,EAAAC,cAAA,OAAKC,MAAM,aACPH,EAAAC,EAAAC,cAAA,OAAKC,MAAM,eAAeoU,IAAKF,EAAsBG,IAAI,YAIrExU,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKiD,UAAU,iBACXnD,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACLc,UAAU,yBACVjB,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,eAC/CvC,QAASpB,KAAKf,MAAM8S,aACpBG,eAAgBlS,KAAKf,MAAM8S,aAC3BwB,SAAUvT,KAAKuT,WAEnBhU,EAAAC,EAAAC,cAAA,SAAOiD,UAAU,sBAAsBU,QAASpD,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,gBACvFpE,EAAAC,EAAAC,cAAA,QAAMiD,UAAU,sBAAsBsR,WAAS,KAAKC,UAAQ,QAC5D1U,EAAAC,EAAAC,cAAA,QAAMiD,UAAU,mCAjMRxC,aAyM1BgU,oDAKF,SAAAA,EAAY9U,GAAO,IAAA+U,EAAA,OAAAhO,OAAAC,EAAA,EAAAD,CAAAnG,KAAAkU,IACfC,EAAAC,EAAA9N,KAAAtG,KAAMZ,IALVH,MAAQ,CACJmC,QAAS+S,EAAK/U,MAAM8S,gBAGLiC,EAKnBnB,WAAa,WAE8C,OAAnDjS,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBqT,QAGA,OAAnDtT,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBqT,QAGD,OAAlDtT,SAASC,eAAe,wBACsC,IAA1DD,SAASC,eAAe,sBAAsBI,SAC9CL,SAASC,eAAe,sBAAsBqT,QAGE,OAApDtT,SAASC,eAAe,0BACwC,IAA5DD,SAASC,eAAe,wBAAwBI,SAChDL,SAASC,eAAe,wBAAwBqT,QAGL,OAA/CtT,SAASC,eAAe,qBACmC,IAAvDD,SAASC,eAAe,mBAAmBI,SAC3CL,SAASC,eAAe,mBAAmBqT,QAGnDtT,SAASC,eAAe,UAAUI,SAAU,EAC5C+S,EAAK7M,SAAS,CAAClG,SAAS,IACxB8H,IAASM,uBAAuBzI,SAASC,eAAe,mBAlCzCmT,EAqCnBhB,WAAa,WAE8C,OAAnDpS,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBqT,QAGA,OAAnDtT,SAASC,eAAe,yBACuC,IAA3DD,SAASC,eAAe,uBAAuBI,SAC/CL,SAASC,eAAe,uBAAuBqT,QAGD,OAAlDtT,SAASC,eAAe,wBACsC,IAA1DD,SAASC,eAAe,sBAAsBI,SAC9CL,SAASC,eAAe,sBAAsBqT,QAGE,OAApDtT,SAASC,eAAe,0BACwC,IAA5DD,SAASC,eAAe,wBAAwBI,SAChDL,SAASC,eAAe,wBAAwBqT,QAGL,OAA/CtT,SAASC,eAAe,qBACmC,IAAvDD,SAASC,eAAe,mBAAmBI,SAC3CL,SAASC,eAAe,mBAAmBqT,QAGnDtT,SAASC,eAAe,UAAUI,SAAU,EAC5C+S,EAAK7M,SAAS,CAAClG,SAAS,IACxB8H,IAASM,uBAAuBzI,SAASC,eAAe,mBAlEzCmT,EAqEnBf,UAAY,WACRrS,SAASC,eAAe,UAAUI,SAAU,EAC5C+S,EAAK7M,SAAS,CAAClG,SAAS,IACxB8H,IAASM,uBAAuBzI,SAASC,eAAe,mBAxEzCmT,EA2EnBb,UAAY,WACRvS,SAASC,eAAe,UAAUI,SAAU,EAC5C+S,EAAK7M,SAAS,CAAClG,SAAS,IACxB8H,IAASM,uBAAuBzI,SAASC,eAAe,mBA9EzCmT,EAiFnBZ,SAAW,SAAC1S,GACRA,EAAE2S,kBACyB,IAAvBW,EAAKlV,MAAMmC,QACX8H,IAASC,OAAO5J,EAAAC,EAAAC,cAACiU,EAAD,CACIxU,QAAQ,0CACRG,UAAa8U,EAAKnB,WAClB1T,SAAY6U,EAAKf,YAChBrS,SAASC,eAAe,kBAE7CkI,IAASC,OAAO5J,EAAAC,EAAAC,cAACiU,EAAD,CACIxU,QAAQ,yCACRG,UAAa8U,EAAKhB,WAClB7T,SAAY6U,EAAKb,YACjBvS,SAASC,eAAe,mBA5FhDkL,OAAOoI,OAAPnO,OAAA2K,EAAA,EAAA3K,CAAAgO,GAFeA,uDAmGf,IADK1K,EACDyI,GAAiB,EADhBlI,EAAA7D,OAAA8D,EAAA,EAAA9D,CAEYnG,KAAKZ,MAAMiS,OAFvB,IAEL,IAAArH,EAAAE,MAAAT,EAAAO,EAAAnF,KAAAsF,MAAmC,EACL,IADKV,EAAAvG,MACtB6O,eACLG,GAAiB,IAJpB,MAAA5H,GAAAN,EAAAnJ,EAAAyJ,GAAA,QAAAN,EAAAO,IAOL,OACIhL,EAAAC,EAAAC,cAAA,OAAKiD,UAAW,iBAAmB1C,KAAKZ,MAAMmV,MAAQ,gBAAkB,KACpEhV,EAAAC,EAAAC,cAAA,SACImC,KAAK,WACL0B,KAAMtD,KAAKZ,MAAMoV,KACjB9R,UAAU,yBACVjB,GAAIzB,KAAKZ,MAAMqC,GACfL,QAASpB,KAAKoB,QACd8Q,eAAgBA,EAChBjS,QAASD,KAAKuT,SACdkB,SAAUzU,KAAKZ,MAAMqV,WAExBzU,KAAKZ,MAAMqC,GACRlC,EAAAC,EAAAC,cAAA,SAAOiD,UAAU,sBAAsBU,QAASpD,KAAKZ,MAAMqC,IACvDlC,EAAAC,EAAAC,cAAA,QACIiD,UAAW1C,KAAKZ,MAAMqV,SAAW,6CAA+C,sBAChFT,WAAS,KACTC,UAAQ,QAEZ1U,EAAAC,EAAAC,cAAA,QACIiD,UAAW1C,KAAKZ,MAAMqV,SAAW,8CAA+C,0BAGxF,aArIavU,aA6IjC,SAASgT,IAEDnS,SAASC,eAAe,uBAAuBI,SAAWL,SAASC,eAAe,uBAAuBI,SACzGL,SAASC,eAAe,sBAAsBI,SAAWL,SAASC,eAAe,wBAAwBI,SACzGL,SAASC,eAAe,mBAAmBI,SAC3C8K,OAAOoI,OAAOhN,SAAS,CAAClG,SAAS,IACjCL,SAASC,eAAe,UAAUI,SAAU,GAGvCL,SAASC,eAAe,uBAAuBI,SAAYL,SAASC,eAAe,uBAAuBI,SAC1GL,SAASC,eAAe,sBAAsBI,SAAYL,SAASC,eAAe,wBAAwBI,SAC1GL,SAASC,eAAe,mBAAmBI,UAC5C8K,OAAOoI,OAAOhN,SAAS,CAAClG,SAAS,IACjCL,SAASC,eAAe,UAAUI,SAAU,GAQxD,SAASsT,EAAYlV,EAAE0R,GACnB,IAAIC,EAAa,EAMjB,OALI3R,EAAE6E,MAAQ6M,EAAE7M,MACZ8M,EAAa,EACN3R,EAAE6E,MAAQ6M,EAAE7M,QACnB8M,GAAc,GAEXA,EAGX,SAASvN,EAAWf,GAChB,IAAIgB,EAAWf,OAAOD,EAAKxB,UAAU,EAAE,IACnCyC,EAAWD,GAAY,GAAK,KAAO,KAEnCE,GADJF,EAAYA,EAAW,IAAO,IACH,IAAMhB,EAAKxB,UAAU,EAAE,GAAK,IAAMyC,EAK7D,OAHyB,IAArBC,EAAUzC,SACVyC,EAAY,IAAMA,GAEdA,EAGZ,SAASkB,IACL,IAAIC,EAAQ,IAAIC,KACZC,EAAa,IAAID,KACjBE,EAAc,IAAIF,KAClBG,EAAgB,IAAIH,KACpBI,EAAe,IAAIJ,KACnBK,EAAa,IAAIL,KACjBM,EAAe,IAAIN,KACnBO,EAAa,IAAIP,KACjBQ,EAAY,IAAIR,KAgCpB,OA9BuB,IAAnBD,EAAMU,UAEND,EAAUE,QAAQX,EAAMY,UAAY,GACpCV,EAAWS,QAAQX,EAAMY,UAAY,GACrCT,EAAYQ,QAAQX,EAAMY,UAAY,GACtCR,EAAcO,QAAQX,EAAMY,UAAY,GACxCP,EAAaM,QAAQX,EAAMY,UAAY,GACvCN,EAAWK,QAAQX,EAAMY,UAAY,GACrCL,EAAaI,QAAQX,EAAMY,UAAY,GACvCJ,EAAWG,QAAQX,EAAMY,aAEzBH,EAAUE,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAC/CR,EAAWS,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAChDP,EAAYQ,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WACjDN,EAAcO,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WACnDL,EAAaM,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAClDJ,EAAWK,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAChDH,EAAaI,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,WAClDF,EAAWG,QAAQX,EAAMY,WAAa,EAAIZ,EAAMU,YAGpDD,EAAYA,EAAUI,cAAgB,KAAwD,KAAhDJ,EAAUK,WAAa,GAAGhD,WAAW1B,OAAe,KAAOqE,EAAUK,WAAa,GAAGhD,WAAc2C,EAAUK,WAAa,GAAM,KAAiD,IAA1CL,EAAUG,UAAU9C,WAAW1B,OAAe,IAAMqE,EAAUG,UAAU9C,WAAa2C,EAAUG,WAS7Q,CARPV,EAAaA,EAAWW,cAAgB,KAAyD,KAAjDX,EAAWY,WAAa,GAAGhD,WAAW1B,OAAe,KAAO8D,EAAWY,WAAa,GAAGhD,WAAcoC,EAAWY,WAAa,GAAM,KAAkD,IAA3CZ,EAAWU,UAAU9C,WAAW1B,OAAe,IAAM8D,EAAWU,UAAU9C,WAAaoC,EAAWU,WAC5RT,EAAcA,EAAYU,cAAgB,KAA0D,KAAlDV,EAAYW,WAAa,GAAGhD,WAAW1B,OAAe,KAAO+D,EAAYW,WAAa,GAAGhD,WAAcqC,EAAYW,WAAa,GAAM,KAAmD,IAA5CX,EAAYS,UAAU9C,WAAW1B,OAAe,IAAM+D,EAAYS,UAAU9C,WAAaqC,EAAYS,WACpSR,EAAgBA,EAAcS,cAAgB,KAA4D,KAApDT,EAAcU,WAAa,GAAGhD,WAAW1B,OAAe,KAAOgE,EAAcU,WAAa,GAAGhD,WAAcsC,EAAcU,WAAa,GAAM,KAAqD,IAA9CV,EAAcQ,UAAU9C,WAAW1B,OAAe,IAAMgE,EAAcQ,UAAU9C,WAAasC,EAAcQ,WACpTP,EAAeA,EAAaQ,cAAgB,KAA2D,KAAnDR,EAAaS,WAAa,GAAGhD,WAAW1B,OAAe,KAAOiE,EAAaS,WAAa,GAAGhD,WAAcuC,EAAaS,WAAa,GAAO,KAAoD,IAA7CT,EAAaO,UAAU9C,WAAW1B,OAAe,IAAMiE,EAAaO,UAAU9C,WAAauC,EAAaO,WAC7SN,EAAaA,EAAWO,cAAgB,KAAyD,KAAjDP,EAAWQ,WAAa,GAAGhD,WAAW1B,OAAe,KAAOkE,EAAWQ,WAAa,GAAGhD,WAAcwC,EAAWQ,WAAa,GAAM,KAAkD,IAA3CR,EAAWM,UAAU9C,WAAW1B,OAAe,IAAMkE,EAAWM,UAAU9C,WAAawC,EAAWM,WAC5RL,EAAeA,EAAaM,cAAgB,KAA2D,KAAnDN,EAAaO,WAAa,GAAGhD,WAAW1B,OAAe,KAAOmE,EAAaO,WAAa,GAAGhD,WAAcyC,EAAaO,WAAa,GAAM,KAAoD,IAA7CP,EAAaK,UAAU9C,WAAW1B,OAAe,IAAMmE,EAAaK,UAAU9C,WAAayC,EAAaK,WAC5SJ,EAAaA,EAAWK,cAAgB,KAAyD,KAAjDL,EAAWM,WAAa,GAAGhD,WAAW1B,OAAe,KAAOoE,EAAWM,WAAa,GAAGhD,WAAc0C,EAAWM,WAAa,GAAM,KAAkD,IAA3CN,EAAWI,UAAU9C,WAAW1B,OAAe,IAAMoE,EAAWI,UAAU9C,WAAa0C,EAAWI,WAExLH,GAtFxGuD,IAASC,OAAO5J,EAAAC,EAAAC,cAACkV,EAAD,MAA4B5T,SAASC,eAAe,uBAwG9D4T,8MACF3V,MAAQ,CACJmM,OAAQ,GACRyJ,MAAO,GACPC,WAAY,GACZzD,MAAO,GACPtE,IAAK,KAuJTD,YAAc,WAEVrG,MAAM,oCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAuK,GACFwD,EAAKzN,SAAS,CAAC+J,MAAOE,IACtB,IAFUtG,EAEN+J,EAAe,GAFT9J,EAAA/E,OAAA8D,EAAA,EAAA9D,CAGQoL,GAHR,IAGV,IAAArG,EAAAhB,MAAAe,EAAAC,EAAArG,KAAAsF,MAAwB,KAAf8K,EAAehK,EAAA/H,MACpB6R,EAAKzN,SAAS,CAACnD,gBAAiB8Q,EAAM3Q,UACtC,IAAIK,EAAasQ,EAAMvQ,eACnBwQ,EAAUD,EAAM1Q,SAChBvC,EAAciT,EAAMjT,YACpBI,EAAY6S,EAAM7S,UAGlB+S,EAAavR,EAAW5B,GACxBoT,EAAWxR,EAAWxB,GACtBT,EAAasT,EAAMtT,WAAa,KAAOwT,EAAa,MAAQC,EAAW,IAVvDC,EAY0FpQ,IAZ1FqQ,EAAAnP,OAAAoP,EAAA,EAAApP,CAAAkP,EAAA,GAYfjQ,EAZekQ,EAAA,GAYHjQ,EAZGiQ,EAAA,GAYUhQ,EAZVgQ,EAAA,GAYyB/P,EAZzB+P,EAAA,GAYuC9P,EAZvC8P,EAAA,GAYmD7P,EAZnD6P,EAAA,GAYiE5P,EAZjE4P,EAAA,GAY6E3P,EAZ7E2P,EAAA,GAahBpU,EAAc,uBAAyByE,EAAUtE,UAAU,EAAE,GAAKsE,EAAUtE,UAAU,EAAE,GAAKsE,EAAUtE,UAAU,EAAE,IAAM,kBAAoBqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,IAAM,kBAEtOW,EAAc,cAAgBA,EAI1BI,EAFc,aAAdA,EAEY,cAAgBA,EAGhB,cAAgBA,EAE5B6S,EAAM/T,YAAYC,SAAS,YACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,aAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,eAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAKpC8T,EAAa3K,KAAK,CAAC5I,GAAIyT,EAAS7Q,MAAOrC,EAAawC,IAAKpC,EAAWqC,MAAO9C,EAAYyC,MAAOlD,EAAayD,WAAYA,EAAY8H,aAAa,EAAOD,QAAS,UAAWzH,YAAakQ,EAAMxT,MA/HxL,MAAA6I,GAAAY,EAAArK,EAAAyJ,GAAA,QAAAY,EAAAX,IAiIVyK,EAAaxD,KAAKkD,GAClBK,EAAKzN,SAAS,CACV8D,OAAQ4J,EACRH,MAAO,CAACzP,EAAYC,EAAaC,EAAeC,EAAcC,EAAYC,EAAcC,EAAYC,UAKhH8P,cAAgB,SAACvR,GACb,IAAMwR,EA1Td,SAAmBpS,GACf,IAAIqS,EAAc,KAClB,GAAI5U,SAAS6U,QAA8B,KAApB7U,SAAS6U,OAE5B,IADA,IAAMC,EAAU9U,SAAS6U,OAAOpV,MAAM,KAC7BsV,EAAI,EAAGA,EAAID,EAAQvU,OAAQwU,IAAK,CACrC,IAAMF,EAASC,EAAQC,GAAGC,OAC1B,GAAIH,EAAOvU,UAAU,EAAEiC,EAAKhC,OAAO,KAAQgC,EAAO,IAAM,CACpDqS,EAAcK,mBAAmBJ,EAAOvU,UAAUiC,EAAKhC,OAAS,IAChE,OAIZ,OAAOqU,EA8SeM,CAAU,aAC5BxP,MAAM,mCAAoC,CACtCC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBsP,cAAeR,GAEnB7O,KAAMC,KAAKC,UAAU7C,KAExB8C,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAA9C,GACF6Q,EAAKzN,SAAS,CAAC+J,MAAO0D,EAAK9V,MAAMoS,MAAMtF,OAAO,CAAC7H,WAIvDwN,WAAa,SAAClL,GACVC,MAAM,mCAAqCD,EAAQ/E,GAAGuB,WAAa,IAAK,CACpE0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAW4N,EAAK9V,MAAMoS,MAAM5Q,IAAI,SAAAyD,GAClC,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAIf6Q,EAAKzN,SAAS,CAAC+J,MAAOlK,SAI9BgP,WAAa,SAACC,GACV3P,MAAM,mCAAqC2P,EAAS,IAAK,CACrD1P,OAAQ,SACRC,QAAS,CACLC,eAAgB,sBAGvBI,KAAK,WACF+N,EAAKzN,SAAS,CAAC+J,MAAO0D,EAAK9V,MAAMoS,MAAMgF,OAAO,SAAAnS,GAAI,OAAIA,EAAKzC,KAAO2U,WAI1EE,qBAAuB,WACnBvV,SAASC,eAAe,QAAQyS,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAG8C,YAAYxV,SAASC,eAAe,QAAQyS,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAGA,WAAW,OAG/K+C,SAAW,WAGP,IAAIV,EACAW,EACJ,IAJA1V,SAAS2V,uBAAuB,sBAAsB,GAAGjD,WAAW,GAAGA,WAAW,GAAGA,WAAW,IAAI3T,MAAM6W,YAAc,EAInHb,EAAE,EAAGA,EAAE,EAAGA,IACX,IAAKW,EAAE,EAAGA,EAAE,GAAIA,GAAG,EACf1V,SAAS2V,uBAAuB,sBAAsB,GAAGjD,WAAW,GAAGA,WAAWqC,GAAGrC,WAAWgD,GAAG3W,MAAM6W,YAAc,uBAKnIC,aAAe,WACX7B,EAAKjI,cAELiI,EAAKzN,SAAS,CAACwN,WAAY,WAG3B/T,SAASC,eAAe,kBAAkB0B,UAAY,WACtD3B,SAASC,eAAe,mBAAmB0B,UAAY,GACvD3B,SAASC,eAAe,qBAAqB0B,UAAY,GACzD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GAGtDwG,IAASM,uBAAuBzI,SAASC,eAAe,SACxDkI,IAASC,OACL5J,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAaiI,EAAKjI,YAClB1B,OAAQ2J,EAAK9V,MAAMmM,OACnBxC,KAAMmM,EAAK9V,MAAM4V,MAAM,GACvB7H,cAAe+H,EAAKoB,WACpBzJ,WAAYqI,EAAKU,cACjB5I,cAAekI,EAAKrD,WACpBL,MAAO0D,EAAK9V,MAAMoS,MAClB1L,UAAWoP,EAAK9V,MAAM4V,MAAM,GAC5BzP,WAAY2P,EAAK9V,MAAM4V,MAAM,GAC7BnP,WAAYqP,EAAK9V,MAAM4V,MAAM,GAC7BhJ,IAAI,SACJ1H,gBAAiB4Q,EAAK9V,MAAMkF,kBAC5BpD,SAASC,eAAe,SAChC+T,EAAKuB,uBACLvB,EAAKyB,cAGTM,cAAgB,WACZ/B,EAAKjI,cAELiI,EAAKzN,SAAS,CAACwN,WAAY,YAG3B/T,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,mBAAmB0B,UAAY,WACvD3B,SAASC,eAAe,qBAAqB0B,UAAY,GACzD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GAGtDwG,IAASM,uBAAuBzI,SAASC,eAAe,SACxDkI,IAASC,OACL5J,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAaiI,EAAKjI,YAClB1B,OAAQ2J,EAAK9V,MAAMmM,OACnBxC,KAAMmM,EAAK9V,MAAM4V,MAAM,GACvB7H,cAAe+H,EAAKoB,WACpBzJ,WAAYqI,EAAKU,cACjB5I,cAAekI,EAAKrD,WACpBL,MAAO0D,EAAK9V,MAAMoS,MAClB1L,UAAWoP,EAAK9V,MAAM4V,MAAM,GAC5BzP,WAAY2P,EAAK9V,MAAM4V,MAAM,GAC7BnP,WAAYqP,EAAK9V,MAAM4V,MAAM,GAC7BhJ,IAAI,UACJ1H,gBAAiB4Q,EAAK9V,MAAMkF,kBAC5BpD,SAASC,eAAe,SAChC+T,EAAKuB,uBACLvB,EAAKyB,cAGTO,gBAAkB,WACdhC,EAAKjI,cAELiI,EAAKzN,SAAS,CAACwN,WAAY,cAG3B/T,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,mBAAmB0B,UAAY,GACvD3B,SAASC,eAAe,qBAAqB0B,UAAY,WACzD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GAGtDwG,IAASM,uBAAuBzI,SAASC,eAAe,SACxDkI,IAASC,OACL5J,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAaiI,EAAKjI,YAClB1B,OAAQ2J,EAAK9V,MAAMmM,OACnBxC,KAAMmM,EAAK9V,MAAM4V,MAAM,GACvB7H,cAAe+H,EAAKoB,WACpBzJ,WAAYqI,EAAKU,cACjB5I,cAAekI,EAAKrD,WACpBL,MAAO0D,EAAK9V,MAAMoS,MAClB1L,UAAWoP,EAAK9V,MAAM4V,MAAM,GAC5BzP,WAAY2P,EAAK9V,MAAM4V,MAAM,GAC7BnP,WAAYqP,EAAK9V,MAAM4V,MAAM,GAC7BhJ,IAAI,YACJ1H,gBAAiB4Q,EAAK9V,MAAMkF,kBAC5BpD,SAASC,eAAe,SAChC+T,EAAKuB,uBACLvB,EAAKyB,cAGTQ,eAAiB,WACbjC,EAAKjI,cAELiI,EAAKzN,SAAS,CAACwN,WAAY,aAG3B/T,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,mBAAmB0B,UAAY,GACvD3B,SAASC,eAAe,qBAAqB0B,UAAY,GACzD3B,SAASC,eAAe,oBAAoB0B,UAAY,WACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GAGtDwG,IAASM,uBAAuBzI,SAASC,eAAe,SACxDkI,IAASC,OACL5J,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAaiI,EAAKjI,YAClB1B,OAAQ2J,EAAK9V,MAAMmM,OACnBxC,KAAMmM,EAAK9V,MAAM4V,MAAM,GACvB7H,cAAe+H,EAAKoB,WACpBzJ,WAAYqI,EAAKU,cACjB5I,cAAekI,EAAKrD,WACpBL,MAAO0D,EAAK9V,MAAMoS,MAClB1L,UAAWoP,EAAK9V,MAAM4V,MAAM,GAC5BzP,WAAY2P,EAAK9V,MAAM4V,MAAM,GAC7BnP,WAAYqP,EAAK9V,MAAM4V,MAAM,GAC7BhJ,IAAI,WACJ1H,gBAAiB4Q,EAAK9V,MAAMkF,kBAC5BpD,SAASC,eAAe,SAChC+T,EAAKuB,uBACLvB,EAAKyB,cAGTS,aAAe,WACXlC,EAAKjI,cAELiI,EAAKzN,SAAS,CAACwN,WAAY,WAG3B/T,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,mBAAmB0B,UAAY,GACvD3B,SAASC,eAAe,qBAAqB0B,UAAY,GACzD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,WACtD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GAGtDwG,IAASM,uBAAuBzI,SAASC,eAAe,SACxDkI,IAASC,OACL5J,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAaiI,EAAKjI,YAClB1B,OAAQ2J,EAAK9V,MAAMmM,OACnBxC,KAAMmM,EAAK9V,MAAM4V,MAAM,GACvB7H,cAAe+H,EAAKoB,WACpBzJ,WAAYqI,EAAKU,cACjB5I,cAAekI,EAAKrD,WACpBL,MAAO0D,EAAK9V,MAAMoS,MAClB1L,UAAWoP,EAAK9V,MAAM4V,MAAM,GAC5BzP,WAAY2P,EAAK9V,MAAM4V,MAAM,GAC7BnP,WAAYqP,EAAK9V,MAAM4V,MAAM,GAC7BhJ,IAAI,SACJ1H,gBAAiB4Q,EAAK9V,MAAMkF,kBAC5BpD,SAASC,eAAe,SAChC+T,EAAKuB,uBACLvB,EAAKyB,cAGTU,eAAiB,WACbnC,EAAKjI,cAELiI,EAAKzN,SAAS,CAACwN,WAAY,aAG3B/T,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,mBAAmB0B,UAAY,GACvD3B,SAASC,eAAe,qBAAqB0B,UAAY,GACzD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,oBAAoB0B,UAAY,WACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GAGtDwG,IAASM,uBAAuBzI,SAASC,eAAe,SACxDkI,IAASC,OACL5J,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAaiI,EAAKjI,YAClB1B,OAAQ2J,EAAK9V,MAAMmM,OACnBxC,KAAMmM,EAAK9V,MAAM4V,MAAM,GACvB7H,cAAe+H,EAAKoB,WACpBzJ,WAAYqI,EAAKU,cACjB5I,cAAekI,EAAKrD,WACpBL,MAAO0D,EAAK9V,MAAMoS,MAClB1L,UAAWoP,EAAK9V,MAAM4V,MAAM,GAC5BzP,WAAY2P,EAAK9V,MAAM4V,MAAM,GAC7BnP,WAAYqP,EAAK9V,MAAM4V,MAAM,GAC7BhJ,IAAI,WACJ1H,gBAAiB4Q,EAAK9V,MAAMkF,kBAC5BpD,SAASC,eAAe,SAChC+T,EAAKuB,uBACLvB,EAAKyB,cAGTW,aAAe,WACXpC,EAAKjI,cAELiI,EAAKzN,SAAS,CAACwN,WAAY,WAG3B/T,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,mBAAmB0B,UAAY,GACvD3B,SAASC,eAAe,qBAAqB0B,UAAY,GACzD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,GACtD3B,SAASC,eAAe,oBAAoB0B,UAAY,GACxD3B,SAASC,eAAe,kBAAkB0B,UAAY,WAGtDwG,IAASM,uBAAuBzI,SAASC,eAAe,SACxDkI,IAASC,OACL5J,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAaiI,EAAKjI,YAClB1B,OAAQ2J,EAAK9V,MAAMmM,OACnBxC,KAAMmM,EAAK9V,MAAM4V,MAAM,GACvB7H,cAAe+H,EAAKoB,WACpBzJ,WAAYqI,EAAKU,cACjB5I,cAAekI,EAAKrD,WACpBL,MAAO0D,EAAK9V,MAAMoS,MAClB1L,UAAWoP,EAAK9V,MAAM4V,MAAM,GAC5BzP,WAAY2P,EAAK9V,MAAM4V,MAAM,GAC7BnP,WAAYqP,EAAK9V,MAAM4V,MAAM,GAC7BhJ,IAAI,SACJ1H,gBAAiB4Q,EAAK9V,MAAMkF,kBAC5BpD,SAASC,eAAe,SAChC+T,EAAKuB,uBACLvB,EAAKyB,8EAplBW,IAAAY,EAAApX,KAEhByG,MAAM,oCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAuK,GACF6F,EAAK9P,SAAS,CAAC+J,MAAOE,IACtB,IAFU5F,EAENqJ,EAAe,GAFTpJ,EAAAzF,OAAA8D,EAAA,EAAA9D,CAGQoL,GAHR,IAGV,IAAA3F,EAAA1B,MAAAyB,EAAAC,EAAA/G,KAAAsF,MAAwB,KAAf8K,EAAetJ,EAAAzI,MACpBkU,EAAK9P,SAAS,CAACnD,gBAAiB8Q,EAAM3Q,UACtC,IAAIK,EAAasQ,EAAMvQ,eACnBwQ,EAAUD,EAAM1Q,SAChBvC,EAAciT,EAAMjT,YACpBI,EAAY6S,EAAM7S,UAGlB+S,EAAavR,EAAW5B,GACxBoT,EAAWxR,EAAWxB,GACtBT,EAAasT,EAAMtT,WAAa,KAAOwT,EAAa,MAAQC,EAAW,IAVvDiC,EAY0FpS,IAZ1FqS,EAAAnR,OAAAoP,EAAA,EAAApP,CAAAkR,EAAA,GAYfjS,EAZekS,EAAA,GAYHjS,EAZGiS,EAAA,GAYUhS,EAZVgS,EAAA,GAYyB/R,EAZzB+R,EAAA,GAYuC9R,EAZvC8R,EAAA,GAYmD7R,EAZnD6R,EAAA,GAYiE5R,EAZjE4R,EAAA,GAY6E3R,EAZ7E2R,EAAA,GAahBpW,EAAc,uBAAyByE,EAAUtE,UAAU,EAAE,GAAKsE,EAAUtE,UAAU,EAAE,GAAKsE,EAAUtE,UAAU,EAAE,IAAM,kBAAoBqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,GAAKqE,EAAWrE,UAAU,EAAE,IAAM,kBAEtOW,EAAc,cAAgBA,EAI1BI,EAFc,aAAdA,EAEY,cAAgBA,EAGhB,cAAgBA,EAE5B6S,EAAM/T,YAAYC,SAAS,YACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,aAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,eAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,cAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGhC+T,EAAM/T,YAAYC,SAAS,YAC8B,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAGxC+T,EAAM/T,YAAYC,SAAS,eACsB,MAA7CD,EAAYsU,OAAOtU,EAAYI,OAAO,GACtCJ,GAA4B,KAE5BA,GAA4B,OAKpC8T,EAAa3K,KAAK,CAAC5I,GAAIyT,EAAS7Q,MAAOrC,EAAawC,IAAKpC,EAAWqC,MAAO9C,EAAYyC,MAAOlD,EAAayD,WAAYA,EAAY8H,aAAa,EAAOD,QAAS,UAAWzH,YAAakQ,EAAMxT,KAG9L,IAEI8V,EAFS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aACpE,IAAIpS,MACWS,UAAY,WACvC7E,SAASC,eAAeuW,GAAW7U,UAAU,WAC7C+O,WAAW,WAAY1Q,SAASC,eAAeuW,GAAWlD,SAAU,KAtI9D,MAAA/J,GAAAsB,EAAA/K,EAAAyJ,GAAA,QAAAsB,EAAArB,IAwIVyK,EAAaxD,KAAKkD,GAClB0C,EAAK9P,SAAS,CACV8D,OAAQ4J,EACRH,MAAO,CAACzP,EAAYC,EAAaC,EAAeC,EAAcC,EAAYC,EAAcC,EAAYC,wCAyc5G,OACIpG,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAAA,OAAKiD,UAAU,OACXnD,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,iBAAiBxB,QAASD,KAAK4W,cAA1C,YACArX,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,kBAAkBxB,QAASD,KAAK8W,eAA3C,aACAvX,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,oBAAoBxB,QAASD,KAAK+W,iBAA7C,eACAxX,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,mBAAmBxB,QAASD,KAAKgX,gBAA5C,cACAzX,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,iBAAiBxB,QAASD,KAAKiX,cAA1C,YACA1X,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,mBAAmBxB,QAASD,KAAKkX,gBAA5C,cACA3X,EAAAC,EAAAC,cAAA,UAAQgC,GAAG,iBAAiBxB,QAASD,KAAKmX,cAA1C,aAEJ5X,EAAAC,EAAAC,cAAC+X,EAAD,CACIzK,IAAK/M,KAAKf,MAAM8N,IAChBD,YAAa9M,KAAK8M,YAClB1B,OAAQpL,KAAKf,MAAMmM,OACnByJ,MAAO7U,KAAKf,MAAM4V,MAClB7H,cAAehN,KAAKmW,WACpBzJ,WAAY1M,KAAKyV,cACjB5I,cAAe7M,KAAK0R,WACpBL,MAAOrR,KAAKf,MAAMoS,MAClBlN,gBAAiBnE,KAAKf,MAAMkF,kBAEhC5E,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,4BAAR,aAvnBuBvB,aA6nBjCuX,yKAEE,IACIvS,EAAQ,IAAIC,KACZuS,EAAaxS,EAAMa,cAAgB,KAAoD,KAA5Cb,EAAMc,WAAa,GAAGhD,WAAW1B,OAAe,KAAO4D,EAAMc,WAAa,GAAGhD,WAAckC,EAAMc,WAAa,GAAM,KAA6C,IAAtCd,EAAMY,UAAU9C,WAAW1B,OAAe,IAAM4D,EAAMY,UAAU9C,WAAakC,EAAMY,WAC7P,OACIvG,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,QACJlC,EAAAC,EAAAC,cAACoX,EAAD,CACI/J,YAAa9M,KAAKZ,MAAM0N,YACxB1B,OAAQpL,KAAKZ,MAAMgM,OACnBxC,KAAM8O,EACN1K,cAAehN,KAAKZ,MAAM4N,cAC1BN,WAAY1M,KAAKZ,MAAMsN,WACvBG,cAAe7M,KAAKZ,MAAMyN,cAC1BwE,MAAOrR,KAAKZ,MAAMiS,MAClB1L,UAAW3F,KAAKZ,MAAMyV,MAAM,GAC5BzP,WAAYpF,KAAKZ,MAAMyV,MAAM,GAC7BnP,WAAY1F,KAAKZ,MAAMyV,MAAM,GAC7BhJ,IAhBD,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAgBxD3G,EAAMU,UAChBzB,gBAAiBnE,KAAKZ,MAAM+E,0BAnBdjE,aA0BlCgJ,IAASC,OAAO5J,EAAAC,EAAAC,cAACkY,EAAD,MAA8B5W,SAASC,eAAe,+BAIhE4W,oDAMF,SAAAA,EAAYxY,GAAO,IAAAyY,EAAA,OAAA1R,OAAAC,EAAA,EAAAD,CAAAnG,KAAA4X,IACfC,EAAAC,EAAAxR,KAAAtG,KAAMZ,IANVH,MAAQ,CACJoS,MAAO,GACPtE,IAAK,GAGU8K,EAenBnG,WAAa,SAAClL,GACVC,MAAM,mCAAqCD,EAAQ/E,GAAGuB,WAAa,IAAK,CACpE0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAW0Q,EAAK5Y,MAAMoS,MAAM5Q,IAAI,SAAAyD,GAClC,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGf2T,EAAKvQ,SAAS,CAAC+J,MAAOlK,OA7B1B+E,OAAO6L,gBAAP5R,OAAA2K,EAAA,EAAA3K,CAAA0R,GAFeA,kEAKC,IAAAG,EAAAhY,KAEhByG,MAAM,oCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAuK,GACFA,EAAKC,KAAKP,GACV+G,EAAK1Q,SAAS,CAAC+J,MAAOE,uCAyB1B,OACIhS,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACEjC,EAAAC,EAAAC,cAAA,WAEIF,EAAAC,EAAAC,cAACwY,GAAD,CACIlL,IAAK/M,KAAKf,MAAM8N,IAChBsE,MAAOrR,KAAKf,MAAMoS,MAClBxE,cAAe7M,KAAK0R,qBAjDHxR,aAyDjCgY,0KACO,IAAAC,EAAAnY,KACCqR,EAAQrR,KAAKZ,MAAMiS,MAAM5Q,IAAI,SAAAyD,GAAI,OACnC3E,EAAAC,EAAAC,cAAC2Y,GAAD,CACIrL,IAAK7I,EAAKzC,GACVA,GAAIyC,EAAKzC,GACT6C,QAASJ,EAAKI,QACd/C,YAAa2C,EAAK3C,YAClB8W,iBAAkBnU,EAAKmU,iBACvBxL,cAAesL,EAAK/Y,MAAMyN,kBAGlC,OACItN,EAAAC,EAAAC,cAAA,OAAKC,MAAM,iBACN2R,UAdiBnR,aAoB5BoY,+MACFjG,aAAe,SAACnO,GACZA,EAAKzC,GAAK8W,EAAKnZ,MAAMqC,GACrB8W,EAAKnZ,MAAMyN,cAAc3I,2DAGpB,IAAAsU,EAAAxY,KAcL,OAXQT,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAACgZ,GAAD,CACIhX,GAAI+W,EAAKpZ,MAAMqC,GACf6C,QAASkU,EAAKpZ,MAAMkF,QACpB/C,YAAaiX,EAAKpZ,MAAMmC,YACxB8W,iBAAkBG,EAAKpZ,MAAMiZ,iBAC7B7F,aAAcgG,EAAKnG,uBAfDnS,aA0BpCwY,+MACFzZ,MAAQ,CACJqF,QAASqU,EAAKvZ,MAAMkF,QACpB/C,YAAaoX,EAAKvZ,MAAMmC,YACxB8W,iBAAkBM,EAAKvZ,MAAMiZ,iBAC7BjR,mBAAoB,GACpBM,oBAAqB,MAGzBnB,wBAA0B,SAACC,GACvBC,MAAM,6CAA+CD,EAAQ/E,GAAGuB,WAAa,IAAK,CAC9E0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWwR,EAAK1Z,MAAMmI,mBAAmB3G,IAAI,SAAAyD,GAC/C,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGfyU,EAAKrR,SAAS,CAACF,mBAAoBD,SAI3CM,wBAA0B,SAACjB,GACvBC,MAAM,wCAA0CD,EAAQ/E,GAAGuB,WAAa,IAAK,CACzE0D,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtBQ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC5BF,KAAK,SAAAR,GACF,IAAMW,EAAWwR,EAAK1Z,MAAMyI,oBAAoBjH,IAAI,SAAAyD,GAChD,OAAIA,EAAKzC,KAAO+E,EAAQ/E,GACb0E,OAAOkB,OAAO,GAAIb,GAElBtC,IAGfyU,EAAKrR,SAAS,CAACI,oBAAqBP,SAI5CQ,yBAA2B,SAACzD,GACxBA,EAAKzC,GAAKkX,EAAKvZ,MAAMkF,QACrBqU,EAAKpS,wBAAwBrC,MAGjC2D,yBAA2B,SAAC3D,GACxBA,EAAKzC,GAAKkX,EAAKvZ,MAAMkF,QACrBqU,EAAKlR,wBAAwBvD,MAGjC0U,2BAA6B,WACzBnS,MAAM,8CACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAkB,GACFyQ,EAAKrR,SAAS,CAACF,mBAAoBc,GAAa,WAAW,IAAA2Q,EAAA7Y,KAClB,IAAjCkI,EAAW,GAAG4Q,iBAEd5Q,EAAW,GAAG4Q,eAAiB,GAC/B9Y,KAAK2H,yBAAyBO,EAAW,IAEzCzB,MAAM,yCACLO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAqB,GACFwQ,EAAKvR,SAAS,CAACI,oBAAqBW,GAAc,WAC9CA,EAAY,GAAGC,OAASD,EAAY,GAAGC,OAAS,GAChDtI,KAAK6H,yBAAyBQ,EAAY,gBASlE2K,WAAa,WAET2F,EAAKrR,SAAS,CAAC+Q,iBAAkB,WAAY,WAAYrY,KAAK8S,qBAC9D5J,IAASM,uBAAuBzI,SAASC,eAAe,kBAGxD2X,EAAKC,gCAGTxF,UAAY,WACRrS,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAO,IAAM,UAAUT,MAAQyV,EAAK1Z,MAAMoZ,iBACjGnP,IAASM,uBAAuBzI,SAASC,eAAe,qBAG5D8R,iBAAmB,WACf6F,EAAKvZ,MAAMoT,aAAXrM,OAAA4M,EAAA,EAAA5M,CAAA,GAA4BwS,EAAK1Z,WAGrC8Z,oBAAsB,SAACC,GACM,UAArBA,EAAIlY,OAAOoC,OAA0C,YAArB8V,EAAIlY,OAAOoC,QAE3CgG,IAASM,uBAAuBzI,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,qBAEnGgV,EAAKrR,SAAS,CAAC+Q,iBAAkBW,EAAIlY,OAAOoC,OAAQ,WAAYlD,KAAK8S,qBAGrE6F,EAAKC,8BAEgB,UAArBI,EAAIlY,OAAOoC,OAEXgG,IAASC,OACL5J,EAAAC,EAAAC,cAACwZ,GAAD,CACI1X,YAAaoX,EAAK1Z,MAAMsC,YACxB2X,kBAAmBP,EAAKO,kBACxBC,iBAAkBR,EAAKQ,iBACvBC,oBAAqBT,EAAKS,oBAC1B3W,gBAAiBkW,EAAKlW,kBACtB1B,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,qBAGtD,YAArBqV,EAAIlY,OAAOoC,QAEXgG,IAASM,uBAAuBzI,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,qBACnGuF,IAASC,OAAO5J,EAAAC,EAAAC,cAACiU,EAAD,CACIxU,QAAS,mDAAqDyZ,EAAK1Z,MAAMsC,YAAc,IACvFlC,UAAasZ,EAAK3F,WAClB1T,SAAYqZ,EAAKvF,YACjBrS,SAASC,eAAe,sBAIpDkY,kBAAoB,SAACF,GACjBL,EAAKrR,SAAS,CAAC+Q,iBAAkBW,EAAIlY,OAAOoC,WAGhDiW,iBAAmB,SAACH,GACA,UAAZA,EAAIjM,KAAmC,KAAhBiM,EAAIK,SAC3BV,EAAKlW,qBAIb0Q,WAAa,WAETpS,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,KAAKjB,UAAY,UAE9E3B,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,KAAK8P,WAAW,GAAGA,WAAW,GAAGK,IAAM,kBAAoB6E,EAAK1Z,MAAMsC,YAAYyB,WAAa,WAE5JjC,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,UAAUT,MAAQ,UAErFyV,EAAKrR,SAAS,CAAC+Q,iBAAkB,WAAY,WAAYrY,KAAK8S,qBAC9D5J,IAASM,uBAAuBzI,SAASC,eAAe,kBAGzD2X,EAAKC,gCAGRtF,UAAY,WACRpK,IAASM,uBAAuBzI,SAASC,eAAe,qBAG5DsY,wBAA0B,WAC8D,cAAhFvY,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,KAAKjB,UAClEwG,IAASC,OAAO5J,EAAAC,EAAAC,cAACiU,EAAD,CACIxU,QAAS,mDAAqDyZ,EAAK1Z,MAAMsC,YAAc,IACvFlC,UAAasZ,EAAKxF,WAClB7T,SAAYqZ,EAAKrF,YACjBvS,SAASC,eAAe,mBAG5CD,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,KAAKjB,UAAY,YAE9E3B,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,KAAK8P,WAAW,GAAGA,WAAW,GAAGK,IAAM,kBAAoB6E,EAAK1Z,MAAMsC,YAAYyB,WAAa,UAE5JjC,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,UAAUT,MAAQ,IAErFyV,EAAKrR,SAAS,CAAC+Q,iBAAkB,KAAM,WAAYrY,KAAK8S,qBAGxD6F,EAAKC,iCAIbQ,oBAAsB,WAElBlQ,IAASM,uBAAuBzI,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,qBAEnG5C,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,UAAUT,MAAQ,IACrFyV,EAAKrR,SAAS,CAAC+Q,iBAAkB,GAAI,WAAYrY,KAAK8S,wBAI1DrQ,gBAAkB,WAEd1B,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,UAAUT,MAAQnC,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,aAAaT,MAErKnC,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,aAAaT,MAAQ,GAExFgG,IAASM,uBAAuBzI,SAASC,eAAe2X,EAAK1Z,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,qBAEnGgV,EAAK7F,mBAGL6F,EAAKC,qFAKL,GADwB,CAAC,UAAW,IAAK,KAAM,KAAM,KAAM,KAAM,SAC7CzX,SAASnB,KAAKf,MAAMoZ,iBAAiBrV,YACrD,IAAIyR,GAAW,EACX8E,EAAgB,GAChBC,EAAe,QAEnB/E,GAAW,EACX8E,EAAgBvZ,KAAKf,MAAMoZ,iBAC3BmB,EAAexZ,KAAKf,MAAMoZ,iBAAmB,WAGjD,GAA+C,YAA3CrY,KAAKf,MAAMoZ,iBAAiBrV,WAC5B,IAAIyW,EAA8B,UAC9BC,EAAyB,kBAAoB1Z,KAAKf,MAAMsC,YAAYyB,WAAa,gBAErFyW,EAA8B,YAC9BC,EAAyB,kBAAoB1Z,KAAKf,MAAMsC,YAAYyB,WAAa,UAGrF,OACIzD,EAAAC,EAAAC,cAAA,OAAKgC,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,cAAejB,UAAU,oBAAoBzC,QAASD,KAAK2Z,WAC3Gpa,EAAAC,EAAAC,cAAA,OAAKiD,UAAU,gBACXnD,EAAAC,EAAAC,cAAA,OAAKiD,UAAW+W,EAA6BhY,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAK1D,QAASD,KAAKsZ,yBACrG/Z,EAAAC,EAAAC,cAAA,OAAKiD,UAAU,aACXnD,EAAAC,EAAAC,cAAA,OAAKC,MAAM,eAAeoU,IAAK4F,EAAwB3F,IAAI,YAIvExU,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACuD,MAAM,QAASuW,OAAO,OAAQC,UAAU,YACjDta,EAAAC,EAAAC,cAAA,OAAKK,MAAO,CAACga,SAAS,WAAYzW,MAAM,QAASuW,OAAO,MAAOC,UAAU,YACrEta,EAAAC,EAAAC,cAAA,OAAKiD,UAAU,mBAAmBjB,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,YAC7EpE,EAAAC,EAAAC,cAAA,OAAKC,MAAM,gBACPH,EAAAC,EAAAC,cAAA,aAAKO,KAAKf,MAAMsC,YAAhB,MAEJhC,EAAAC,EAAAC,cAAA,UAAQiC,aAAc1B,KAAKf,MAAMoZ,iBAAkB9E,SAAUvT,KAAK+Y,oBAAqBtX,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,UAClIpE,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,WAAd,gBACA3D,EAAAC,EAAAC,cAAA,YAAUsa,MAAM,0BACZxa,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,KAAd,eACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,gBACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,gBACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,gBACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,MAAd,YACA3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAM,SAAd,kBAEJ3D,EAAAC,EAAAC,cAAA,UAAQyD,MAAOqW,EAAe9E,SAAUA,GAAxC,IAAoD+E,EAApD,OAIRja,EAAAC,EAAAC,cAAA,OAAKgC,GAAIzB,KAAKf,MAAMsC,YAAYoC,QAAQ,MAAM,IAAM,oBAApD,eAjQUzD,aA0Q5B8Z,+MACFL,UAAY,WACRM,EAAK7a,MAAMga,8EAGX,OACA7Z,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgC,SAAA,KACIjC,EAAAC,EAAAC,cAAA,OAAKgC,GAAG,uBAAuBiB,UAAU,yBAAyBzC,QAASD,KAAK2Z,YAChFpa,EAAAC,EAAAC,cAAA,OAAKgC,GAAIzB,KAAKZ,MAAMmC,YAAYoC,QAAQ,MAAM,IAAM,gBAAiBjB,UAAU,mBAC3EnD,EAAAC,EAAAC,cAAA,SAAOmC,KAAK,OAAOH,GAAIzB,KAAKZ,MAAMmC,YAAYoC,QAAQ,MAAM,IAAM,YAAa4P,SAAUvT,KAAKZ,MAAM8Z,kBAAmBgB,QAASla,KAAKZ,MAAM+Z,mBAC3I5Z,EAAAC,EAAAC,cAAA,KAAGC,MAAM,WAAT,aACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQgC,GAAIzB,KAAKZ,MAAMmC,YAAYoC,QAAQ,MAAM,IAAM,eAAgB1D,QAASD,KAAKZ,MAAMga,qBAA3F,YACA7Z,EAAAC,EAAAC,cAAA,UAAQgC,GAAIzB,KAAKZ,MAAMmC,YAAYoC,QAAQ,MAAM,IAAM,WAAY1D,QAASD,KAAKZ,MAAMqD,iBAAvF,iBAbmBvC,aAoBnCgJ,IAASC,OAAO5J,EAAAC,EAAAC,cAAC0a,EAAD,MAA8BpZ,SAASC,eAAe,2BAKtE,IAAIoZ,GAAuBrZ,SAASC,eAAe,qBAC/CqZ,GAAiBtZ,SAASC,eAAe,kBACzCsZ,GAAkBvZ,SAASC,eAAe,qBAC1CuZ,GAAmBxZ,SAASC,eAAe,YAC3CwZ,GAAkBzZ,SAASC,eAAe,qBAC1CyZ,GAAmB1Z,SAASC,eAAe,oBAE/CkL,OAAOwO,OAAS,WACd,IAAIC,EAAwBP,GAAqBQ,wBAC7CC,EAAqBR,GAAeO,wBACpCE,EAAeH,EAAsBI,MAAQF,EAAmBE,MAAQ,GAC5EV,GAAeW,YAAc,WAC3B9R,IAASC,OACL5J,EAAAC,EAAAC,cAAA,OAAKgC,GAAI,wBACPlC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,mJACMgB,SAASC,eAAe,kBACpCD,SAASC,eAAe,wBAAwBlB,MAAMuD,MAAQyX,EAAa9X,WAAa,MAE1FqX,GAAeY,WAAa,WAC1B/R,IAASM,uBAAuBzI,SAASC,eAAe,mBAE1D,IAAIka,EAAmBZ,GAAgBM,wBACnCO,EAAuBZ,GAAiBK,wBACxCQ,EAAiBF,EAAiBH,MAAQI,EAAqBJ,MAAQ,GAC3ER,GAAiBS,YAAc,WAC7B9R,IAASC,OACL5J,EAAAC,EAAAC,cAAA,OAAKgC,GAAI,kBACPlC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,0IACMgB,SAASC,eAAe,YACpCD,SAASC,eAAe,kBAAkBlB,MAAMuD,MAAQ+X,EAAepY,WAAa,MAEtFuX,GAAiBU,WAAa,WAC5B/R,IAASM,uBAAuBzI,SAASC,eAAe,aAE1D,IAAIqa,EAAmBb,GAAgBI,wBACnCU,EAAuBb,GAAiBG,wBACxCW,EAAiBF,EAAiBN,MAAQO,EAAqBP,MAAQ,GAC3EN,GAAiBO,YAAc,WAC7B9R,IAASC,OACL5J,EAAAC,EAAAC,cAAA,OAAKgC,GAAI,0BACPlC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,yKACMgB,SAASC,eAAe,oBACpCD,SAASC,eAAe,0BAA0BlB,MAAMuD,MAAQkY,EAAevY,WAAa,MAE9FyX,GAAiBQ,WAAa,WAC5B/R,IAASM,uBAAuBzI,SAASC,eAAe,sBAI5DkL,OAAOsP,SAAW,WAEhB,IAAIb,EAAwBP,GAAqBQ,wBAC7CC,EAAqBR,GAAeO,wBACpCE,EAAeH,EAAsBI,MAAQF,EAAmBE,MAAQ,GAC5EV,GAAeW,YAAc,WAC3B9R,IAASC,OACL5J,EAAAC,EAAAC,cAAA,OAAKgC,GAAI,wBACPlC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,mJACMgB,SAASC,eAAe,kBACpCD,SAASC,eAAe,wBAAwBlB,MAAMuD,MAAQyX,EAAa9X,WAAa,MAE1FqX,GAAeY,WAAa,WAC1B/R,IAASM,uBAAuBzI,SAASC,eAAe,mBAE1D,IAAIka,EAAmBZ,GAAgBM,wBACnCO,EAAuBZ,GAAiBK,wBACxCQ,EAAiBF,EAAiBH,MAAQI,EAAqBJ,MAAQ,GAC3ER,GAAiBS,YAAc,WAC7B9R,IAASC,OACL5J,EAAAC,EAAAC,cAAA,OAAKgC,GAAI,kBACPlC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,0IACMgB,SAASC,eAAe,YACpCD,SAASC,eAAe,kBAAkBlB,MAAMuD,MAAQ+X,EAAepY,WAAa,MAEtFuX,GAAiBU,WAAa,WAC5B/R,IAASM,uBAAuBzI,SAASC,eAAe,aAE1D,IAAIqa,EAAmBb,GAAgBI,wBACnCU,EAAuBb,GAAiBG,wBACxCW,EAAiBF,EAAiBN,MAAQO,EAAqBP,MAAQ,GAC3EN,GAAiBO,YAAc,WAC7B9R,IAASC,OACL5J,EAAAC,EAAAC,cAAA,OAAKgC,GAAI,0BACPlC,EAAAC,EAAAC,cAAA,KAAGK,MAAO,CAACC,MAAM,UAAjB,yKACMgB,SAASC,eAAe,oBACpCD,SAASC,eAAe,0BAA0BlB,MAAMuD,MAAQkY,EAAevY,WAAa,MAE9FyX,GAAiBQ,WAAa,WAC5B/R,IAASM,uBAAuBzI,SAASC,eAAe,sBAK5D,IAAIya,GAAavP,OAAOwP,OACpBC,GAASzP,OAAO0P,UAChBC,GAAaF,GAAOG,OACpBC,GAAgC,qBAAf7P,OAAO8P,IACxBC,GAAWN,GAAOO,UAAUpX,QAAQ,SAAW,EACjC6W,GAAOO,UAAUC,MAAM,SAItCpb,SAASqb,UAAY,SAASrT,IACb,IAAhBA,EAAMsT,SAAmC,OAAhBtT,EAAMuT,OAAkC,QAAhBvT,EAAMuT,OAAmC,QAAhBvT,EAAMuT,OAAmC,QAAhBvT,EAAMuT,OAAoC,QAAhBvT,EAAMuT,OAAoC,QAAhBvT,EAAMuT,OACzJvT,EAAMyK,kBAQG,OAAfiI,IACsB,qBAAfA,IACQ,gBAAfI,KACY,IAAZE,KACa,IAAbE,KAGClb,SAASqb,UAAY,SAASrT,IACX,IAAlBA,EAAMsT,SAAqC,OAAhBtT,EAAMuT,OAAkC,QAAhBvT,EAAMuT,OAAmC,QAAhBvT,EAAMuT,OAAmC,QAAhBvT,EAAMuT,OAAoC,QAAhBvT,EAAMuT,OAAoC,QAAhBvT,EAAMuT,OAC3JvT,EAAMyK","file":"static/js/main.b11620a5.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass ConfirmAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onConfirm: this.props.onConfirm,\r\n        onCancel: this.props.onCancel\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"confirm_alert_cancel\" onClick={this.state.onCancel}> Cancel </button>\r\n                            <button class=\"confirm_alert_confirm\" onClick={this.state.onConfirm}> Confirm </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ConfirmAlert;","// This is the component that wraps the calendar in a drag and drop context to allow dragging. \r\n\r\nimport { DragDropContext } from \"react-dnd\";\r\nimport HTML5Backend from \"react-dnd-html5-backend\";\r\n\r\nexport default DragDropContext(HTML5Backend);\r\n","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass OnlyAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onOK: this.props.onOK\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        <p style={{color:\"black\"}}> {this.state.message} </p>\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"alert_ok\" onClick={this.state.onOK}> OK </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OnlyAlert;","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamationTriangle} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass OnlyAlert extends Component {\r\n    state = {\r\n        message: this.props.message,\r\n        onOK: this.props.onOK\r\n    }\r\n    render() {\r\n        var array = this.state.message.split(\"<new>\");\r\n        const messages = array.map(word => (\r\n            <p style={{color:\"black\"}}> {word} </p>\r\n        ))\r\n\r\n        return (\r\n            <div class=\"confirm_alert_overlay\">\r\n                <div class=\"confirm_alert_popup\">\r\n                    <div class=\"confirm_alert_content\">\r\n                        <FontAwesomeIcon icon={faExclamationTriangle} class=\"confirm_alert_icon\"/>\r\n                        <br/>\r\n                        <br/>\r\n                        {messages}\r\n                        <br/>\r\n                        <div class=\"confirm_alert_buttons\">\r\n                            <button class=\"alert_ok\" onClick={this.state.onOK}> OK </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OnlyAlert;","import React, { Component } from 'react';\r\nimport './index.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faClock, faTrash } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nclass ScheduleControlPopup extends Component {\r\n\r\n    componentDidMount() {\r\n        // Automatically select day\r\n        if (this.props.event_rrule.includes(\"MO,TU,WE,TH,FR,SA,SU\")) {\r\n            document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"MO\")) {\r\n            // Automatically select Monday\r\n            document.getElementById(\"ScheduleRepeatMonday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"TU\")) {\r\n            // Automatically select Tuesday\r\n            document.getElementById(\"ScheduleRepeatTuesday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"WE\")) {\r\n            // Automatically select Wednesday\r\n            document.getElementById(\"ScheduleRepeatWednesday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"TH\")) {\r\n            // Automatically select Thursday\r\n            document.getElementById(\"ScheduleRepeatThursday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"FR\")) {\r\n            // Automatically select Friday\r\n            document.getElementById(\"ScheduleRepeatFriday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"SA\")) {\r\n            // Automatically select Saturday\r\n            document.getElementById(\"ScheduleRepeatSaturday\").checked = true;\r\n        }\r\n        if (this.props.event_rrule.substring(66,this.props.event_rrule.length).includes(\"SU\")) {\r\n            // Automatically select Sunday\r\n            document.getElementById(\"ScheduleRepeatSunday\").checked = true;\r\n        }\r\n\r\n        // Automatically select plug load\r\n        if (this.props.device_type.includes(\"Desktop\")) {\r\n            // Automatically select Desktop\r\n            document.getElementById(\"ScheduleApplyDesktop\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Monitor\")) {\r\n            // Automatically select Monitor\r\n            document.getElementById(\"ScheduleApplyMonitor\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Laptop\")) {\r\n            // Automatically select Laptop\r\n            document.getElementById(\"ScheduleApplyLaptop\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Task Lamp\")) {\r\n            // Automatically select Task Lamp\r\n            document.getElementById(\"ScheduleApplyTaskLamp\").checked = true;\r\n        }\r\n        if (this.props.device_type.includes(\"Fan\")) {\r\n            // Automatically select Fan\r\n            document.getElementById(\"ScheduleApplyFan\").checked = true;\r\n        }\r\n    }\r\n\r\n    exitPopup = (e) => {\r\n        if (e.target === document.getElementById(\"schedule_popup_overlay\")) {\r\n            this.props.closeButtonClicked();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div id=\"schedule_popup_overlay\" onClick={this.exitPopup}>\r\n                    <div id=\"schedule_popup\">\r\n                        <p id=\"schedule_device_type\"> {this.props.device_type} </p>\r\n                        <button id=\"schedule_popup_close\" onClick={this.props.closeButtonClicked}> &times; </button>\r\n                        <br/>\r\n                        <input id=\"schedule_name_input\" defaultValue={this.props.event_name.substring(0,this.props.event_name.length-22)} type=\"text\" />\r\n                        <div id=\"schedule_time_input\">\r\n                            <FontAwesomeIcon icon={faClock} style={{color:\"#4E73DF\"}} />\r\n                            <ScheduleControlTimepicker type=\"Start\" time={this.props.event_start.substring(this.props.event_start.length-8, this.props.event_start.length)} />\r\n                            <p style={{display: \"inline-block\", marginRight:\"-5px\", marginLeft:\"5px\"}}> - </p>\r\n                            <ScheduleControlTimepicker type=\"End\" time={this.props.event_end.substring(this.props.event_end.length-8, this.props.event_end.length)} />\r\n                        </div>\r\n                        <div id=\"schedule_repeat_input\">\r\n                            <ScheduleControlRepeat />\r\n                        </div>\r\n                        <div id=\"schedule_apply_input\">\r\n                            <p style={{fontWeight:\"bold\"}}> Also apply to: </p>\r\n                            <ScheduleControlApply devices={[\"Desktop\", \"Monitor\", \"Laptop\", \"Fan\", \"Task Lamp\"]} />\r\n                        </div>\r\n                        <br/>\r\n                        <button id=\"schedule_popup_ok\" onClick={this.props.okButtonClicked} className=\"btn\"> OK </button>\r\n                        <button id=\"schedule_popup_delete\" onClick={this.props.deleteButtonClicked} className=\"btn\"> Delete </button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlTimepicker extends Component {\r\n    render() {\r\n        var hour = this.props.time.substring(0,2);\r\n        if (Number(hour) >= 12) {\r\n            var am_pm = \"PM\"\r\n        } else {\r\n            am_pm = \"AM\"\r\n        }\r\n        if (Number(hour) > 12 && Number(hour) < 22) {\r\n            hour = \"0\" + (Number(hour)-12).toString();\r\n        } else {\r\n            if (Number(hour) >= 22) {\r\n                hour = (Number(hour)-12).toString();\r\n            } else {\r\n                if (hour === \"00\") {\r\n                    hour = \"12\"\r\n                }\r\n            }\r\n        }\r\n        var minute = this.props.time.substring(3,5);\r\n\r\n\r\n\r\n        return (\r\n            <div id={this.props.type + \"Time\"}>\r\n                <select id={this.props.type + \"Hour\"} defaultValue={hour}>\r\n                    <option value=\"01\"> 1 </option>\r\n                    <option value=\"02\"> 2 </option>\r\n                    <option value=\"03\"> 3 </option>\r\n                    <option value=\"04\"> 4 </option>\r\n                    <option value=\"05\"> 5 </option>\r\n                    <option value=\"06\"> 6 </option>\r\n                    <option value=\"07\"> 7 </option>\r\n                    <option value=\"08\"> 8 </option>\r\n                    <option value=\"09\"> 9 </option>\r\n                    <option value=\"10\"> 10 </option>\r\n                    <option value=\"11\"> 11 </option>\r\n                    <option value=\"12\"> 12 </option>\r\n                </select>\r\n                <span style={{marginLeft:\"-10px\", marginRight:\"1px\"}}> : </span>\r\n                <select id={this.props.type + \"Minute\"} defaultValue={minute}>\r\n                    <option value=\"00\"> 00 </option>\r\n                    <option value=\"15\"> 15 </option>\r\n                    <option value=\"30\"> 30 </option>\r\n                    <option value=\"45\"> 45 </option>\r\n                </select>\r\n                <select id={this.props.type + \"AMPM\"} defaultValue={am_pm}>\r\n                    <option value=\"AM\"> AM </option>\r\n                    <option value=\"PM\"> PM </option>\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlRepeat extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <p style={{fontWeight:\"bold\"}}> Repeat: </p>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    id=\"ScheduleRepeatEveryDay\"\r\n                    value=\"Every Day\"\r\n                    onClick={function(e) {\r\n                        if (e.target.checked) {\r\n                            document.getElementById(\"ScheduleRepeatMonday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatTuesday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatWednesday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatThursday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatFriday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatSaturday\").checked = true;\r\n                            document.getElementById(\"ScheduleRepeatSunday\").checked = true;\r\n                        } else {\r\n                            document.getElementById(\"ScheduleRepeatMonday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatTuesday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatWednesday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatThursday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatFriday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatSaturday\").checked = false;\r\n                            document.getElementById(\"ScheduleRepeatSunday\").checked = false;\r\n                        }\r\n                    }}\r\n                />\r\n                <label htmlFor=\"ScheduleRepeatEveryDay\" style={{marginLeft: \"2px\"}}> Every Day </label>\r\n                <br />\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Monday\"\r\n                        id=\"ScheduleRepeatMonday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatTuesday\").checked && document.getElementById(\"ScheduleRepeatWednesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Monday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Tuesday\"\r\n                        id=\"ScheduleRepeatTuesday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatWednesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Tuesday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Wednesday\"\r\n                        id=\"ScheduleRepeatWednesday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatThursday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Wednesday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Thursday\"\r\n                        id=\"ScheduleRepeatThursday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatFriday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Thursday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Friday\"\r\n                        id=\"ScheduleRepeatFriday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatSaturday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Friday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Saturday\"\r\n                        id=\"ScheduleRepeatSaturday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatFriday\").checked && document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Saturday </label>\r\n                </div>\r\n                <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"ScheduleRepeatOption\"\r\n                        value=\"Sunday\"\r\n                        id=\"ScheduleRepeatSunday\"\r\n                        onClick={function(e) {\r\n                            if (!e.target.checked) {\r\n                                document.getElementById(\"ScheduleRepeatEveryDay\").checked = false;\r\n                            } else {\r\n                                if (document.getElementById(\"ScheduleRepeatMonday\").checked && document.getElementById(\"ScheduleRepeatTuesday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatWednesday\").checked && document.getElementById(\"ScheduleRepeatThursday\").checked &&\r\n                                    document.getElementById(\"ScheduleRepeatFriday\").checked && document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                                        document.getElementById(\"ScheduleRepeatEveryDay\").checked = true;\r\n                                    }\r\n                            }\r\n                        }}\r\n                    />\r\n                    <label style={{marginLeft: \"2px\"}}> Sunday </label>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlApply extends Component {\r\n    render() {\r\n        const devices = this.props.devices.map(device =>\r\n            <ScheduleControlApplyItem device_type={device} />\r\n        )\r\n        return(\r\n            <>\r\n                {devices}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlApplyItem extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{display:\"inline-block\", width:\"130px\"}}>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"ScheduleApplyOption\"\r\n                    id={\"ScheduleApply\" + this.props.device_type.replace(/\\s/g,'')}\r\n                />\r\n                <label style={{marginLeft: \"2px\"}}> {this.props.device_type} </label>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default ScheduleControlPopup;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport moment from 'moment';\r\nimport Scheduler, { SchedulerData, ViewTypes } from 'react-big-scheduler';\r\nimport 'react-big-scheduler/lib/css/style.css';\r\nimport withDragDropContext from './withDnDContext';\r\nimport OnlyAlert from './OnlyAlert';\r\nimport ConflictAlert from './ConflictAlert';\r\nimport ScheduleControlPopup from './ScheduleControlPopup';\r\nimport './index.css';\r\n\r\nfunction from24to12(hour) {\r\n    var new_hour = Number(hour.substring(0,2));\r\n    var am_or_pm = new_hour >= 12 ? \"PM\" : \"AM\";\r\n    new_hour = (new_hour % 12) || 12;\r\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \" \" + am_or_pm;\r\n\r\n    if (finalTime.length !== 8) {\r\n        finalTime = \"0\" + finalTime\r\n    }\r\n    return (finalTime);\r\n}\r\n\r\nfunction from12to24(hour) {\r\n    var new_hour = Number(hour.substring(0,2))\r\n    if (hour.substring(6,8) === \"PM\" && new_hour !== 12) {\r\n        new_hour = new_hour + 12;\r\n    }\r\n    if (hour.substring(6,8) === \"AM\" && new_hour === 12) {\r\n        new_hour = \"00\"\r\n    }\r\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \":00\"\r\n    if (finalTime.length !== 8) {\r\n        finalTime = \"0\" + finalTime\r\n    }\r\n    return(finalTime)\r\n}\r\n\r\nfunction formatForDatabaseAdd(book, current_user_id) {\r\n    var event_rrule = \"\"\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"MO\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeMon, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Monday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TU\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeTue, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Tuesday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"WE\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeWed, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Wednesday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TH\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeThu, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Thursday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"FR\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeFri, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Friday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SA\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeSat, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Saturday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SU\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeSun, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Sunday, \"\r\n        }\r\n    }\r\n\r\n\r\n    const devices = [\"Desktop\", \"Laptop\", \"Monitor\", \"Task Lamp\", \"Fan\"]\r\n\r\n    return({\r\n        user_id: Number(current_user_id),\r\n        event_id: book.id,\r\n        event_start: book.start.substring(book.start.length-8, book.start.length),\r\n        event_end: book.end.substring(book.end.length-8, book.end.length),\r\n        event_name: book.title.substring(0, book.title.length-22),\r\n        event_rrule: event_rrule.substring(0,event_rrule.length-2),\r\n        device_type_id: book.resourceId,\r\n        device_type: devices[book.resourceId - 1]\r\n    })\r\n}\r\n\r\nfunction formatForDatabaseUpdate(book, current_user_id) {\r\n    var event_rrule = \"\"\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"MO\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeMon, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Monday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TU\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeTue, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Tuesday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"WE\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeWed, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Wednesday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"TH\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeThu, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Thursday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"FR\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeFri, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Friday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SA\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeSat, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Saturday, \"\r\n        }\r\n    }\r\n    if (book.rrule.substring(60,book.rrule.length).includes(\"SU\")) {\r\n        if (book.start.substring(book.start.length-8, book.start.length) < \"08:00:00\") {\r\n            event_rrule = event_rrule + \"BeforeSun, \"\r\n        } else {\r\n            event_rrule = event_rrule + \"Sunday, \"\r\n        }\r\n    }\r\n\r\n    const devices = [\"Desktop\", \"Laptop\", \"Monitor\", \"Task Lamp\", \"Fan\"]\r\n\r\n    if (typeof book.id === \"string\") {\r\n        var n = book.id.indexOf(\"-\")\r\n        var event_id = Number(book.id.substring(0,n))\r\n    } else {\r\n        event_id = book.id\r\n    }\r\n    return({\r\n        user_id: Number(current_user_id),\r\n        event_id: event_id,\r\n        event_start: book.start.substring(book.start.length-8, book.start.length),\r\n        event_end: book.end.substring(book.end.length-8, book.end.length),\r\n        event_name: book.title.substring(0, book.title.length-22),\r\n        event_rrule: event_rrule.substring(0,event_rrule.length-2),\r\n        device_type_id: book.resourceId,\r\n        device_type: devices[book.resourceId - 1],\r\n        id: book.database_id\r\n    })\r\n}\r\n\r\nfunction processHourInput(type) {\r\n    var hour = document.getElementById(type + \"Hour\").value;\r\n    if (document.getElementById(type + \"AMPM\").value === \"PM\") {\r\n        if (document.getElementById(type + \"Hour\").value !== \"12\") {\r\n            hour = (Number(document.getElementById(type + \"Hour\").value) + 12).toString();\r\n        }\r\n    } else {\r\n        if (document.getElementById(type + \"Hour\").value === \"12\") {\r\n            hour = \"00\";\r\n        }\r\n    }\r\n    return(hour)\r\n}\r\n\r\nfunction getDates() {\r\n    var today = new Date();\r\n    var mondayDate = new Date();\r\n    var tuesdayDate = new Date();\r\n    var wednesdayDate = new Date();\r\n    var thursdayDate = new Date();\r\n    var fridayDate = new Date();\r\n    var saturdayDate = new Date();\r\n    var sundayDate = new Date();\r\n    var startDate = new Date();\r\n\r\n    if (today.getDay() === 0) {\r\n        // Today is Sunday\r\n        startDate.setDate(today.getDate() - 7)\r\n        mondayDate.setDate(today.getDate() - 6);\r\n        tuesdayDate.setDate(today.getDate() - 5);\r\n        wednesdayDate.setDate(today.getDate() - 4);\r\n        thursdayDate.setDate(today.getDate() - 3);\r\n        fridayDate.setDate(today.getDate() - 2);\r\n        saturdayDate.setDate(today.getDate() - 1);\r\n        sundayDate.setDate(today.getDate());\r\n    } else {\r\n        startDate.setDate(today.getDate() + (0 - today.getDay()))\r\n        mondayDate.setDate(today.getDate() + (1 - today.getDay()));\r\n        tuesdayDate.setDate(today.getDate() + (2 - today.getDay()));\r\n        wednesdayDate.setDate(today.getDate() + (3 - today.getDay()));\r\n        thursdayDate.setDate(today.getDate() + (4 - today.getDay()));\r\n        fridayDate.setDate(today.getDate() + (5 - today.getDay()));\r\n        saturdayDate.setDate(today.getDate() + (6 - today.getDay()));\r\n        sundayDate.setDate(today.getDate() + (7 - today.getDay()));\r\n    }\r\n\r\n    startDate = startDate.getFullYear() + \"-\" + ((startDate.getMonth() + 1).toString().length === 1 ? \"0\" + (startDate.getMonth() + 1).toString() : (startDate.getMonth() + 1)) + \"-\" + (startDate.getDate().toString().length === 1 ? \"0\" + startDate.getDate().toString() : startDate.getDate())\r\n    mondayDate = mondayDate.getFullYear() + \"-\" + ((mondayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (mondayDate.getMonth() + 1).toString() : (mondayDate.getMonth() + 1)) + \"-\" + (mondayDate.getDate().toString().length === 1 ? \"0\" + mondayDate.getDate().toString() : mondayDate.getDate())\r\n    tuesdayDate = tuesdayDate.getFullYear() + \"-\" + ((tuesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (tuesdayDate.getMonth() + 1).toString() : (tuesdayDate.getMonth() + 1)) + \"-\" + (tuesdayDate.getDate().toString().length === 1 ? \"0\" + tuesdayDate.getDate().toString() : tuesdayDate.getDate())\r\n    wednesdayDate = wednesdayDate.getFullYear() + \"-\" + ((wednesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (wednesdayDate.getMonth() + 1).toString() : (wednesdayDate.getMonth() + 1)) + \"-\" + (wednesdayDate.getDate().toString().length === 1 ? \"0\" + wednesdayDate.getDate().toString() : wednesdayDate.getDate())\r\n    thursdayDate = thursdayDate.getFullYear() + \"-\" + ((thursdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (thursdayDate.getMonth() + 1).toString() : (thursdayDate.getMonth() + 1))  + \"-\" + (thursdayDate.getDate().toString().length === 1 ? \"0\" + thursdayDate.getDate().toString() : thursdayDate.getDate())\r\n    fridayDate = fridayDate.getFullYear() + \"-\" + ((fridayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (fridayDate.getMonth() + 1).toString() : (fridayDate.getMonth() + 1)) + \"-\" + (fridayDate.getDate().toString().length === 1 ? \"0\" + fridayDate.getDate().toString() : fridayDate.getDate())\r\n    saturdayDate = saturdayDate.getFullYear() + \"-\" + ((saturdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (saturdayDate.getMonth() + 1).toString() : (saturdayDate.getMonth() + 1)) + \"-\" + (saturdayDate.getDate().toString().length === 1 ? \"0\" + saturdayDate.getDate().toString() : saturdayDate.getDate())\r\n    sundayDate = sundayDate.getFullYear() + \"-\" + ((sundayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (sundayDate.getMonth() + 1).toString() : (sundayDate.getMonth() + 1)) + \"-\" + (sundayDate.getDate().toString().length === 1 ? \"0\" + sundayDate.getDate().toString() : sundayDate.getDate())\r\n\r\n    return([mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate, startDate])\r\n}\r\n\r\nclass Calendar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let schedulerData = new SchedulerData(\r\n            this.props.date,\r\n            ViewTypes.Day,\r\n            false,\r\n            false,\r\n            {\r\n                checkConflict: true,\r\n                recurringEventsEnabled: true,\r\n                scrollToSpecialMomentEnabled: true,\r\n                crossResourceMove: false\r\n            }, {\r\n                getScrollSpecialMomentFunc: this.getScrollSpecialMoment,\r\n                isNonWorkingTimeFunc: this.isNonWorkingTime\r\n            }\r\n        );\r\n        schedulerData.setResources([{id:1, name:\"Desktop\"}, {id:5, name:\"Fan\"}, {id:2, name:\"Laptop\"}, {id:3, name:\"Monitor\"}, {id:4, name:\"Task Lamp\"}]);\r\n        schedulerData.setEvents(this.props.events);\r\n        this.state = {\r\n            viewModel: schedulerData,\r\n            achievements_books: [],\r\n            weekly_achievements_books: [],\r\n            points_wallet_books: [],\r\n            key: 1\r\n        };\r\n        window.calendar = this;\r\n    }\r\n\r\n    render() {\r\n        const { viewModel } = this.state;\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Scheduler\r\n                        key={this.state.key}\r\n                        schedulerData={viewModel}\r\n                        eventItemClick={this.eventClicked}\r\n                        updateEventStart={this.updateEventStart}\r\n                        updateEventEnd={this.updateEventEnd}\r\n                        moveEvent={this.moveEvent}\r\n                        newEvent={this.newEvent}\r\n                        conflictOccurred={this.conflictOccurred}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    updateAchievementsBooks = (newBook) => {\r\n        fetch('/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    updateWeeklyAchievementsBooks = (newBook) => {\r\n        fetch('/control_interface/api/achievements_weekly/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.weekly_achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({weekly_achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    updatePointsWalletBooks = (newBook) => {\r\n        fetch('/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.points_wallet_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({points_wallet_books: newBooks})\r\n        })\r\n    }\r\n\r\n    handleAchievementsUpdate = (book) => {\r\n        book.id = this.props.current_user_id;\r\n        this.updateAchievementsBooks(book);\r\n    }\r\n\r\n    handleWeeklyAchievementsUpdate = (book) => {\r\n        book.id = this.props.current_user_id;\r\n        this.updateWeeklyAchievementsBooks(book);\r\n    }\r\n\r\n    handlePointsWalletUpdate = (book) => {\r\n        book.id = this.props.current_user_id;\r\n        this.updatePointsWalletBooks(book);\r\n    }\r\n\r\n    updateScheduleAchievements = () => {\r\n        fetch('/control_interface/api/achievements_weekly/')\r\n        .then(response => response.json())\r\n        .then(weekly_data => {\r\n            this.setState({weekly_achievements_books: weekly_data}, function() {\r\n                if (weekly_data[0].schedule_based === 0) {\r\n                    // Weekly schedule achievement completed\r\n                    weekly_data[0].schedule_based = 20;\r\n                    this.handleWeeklyAchievementsUpdate(weekly_data[0])\r\n\r\n                    fetch('/control_interface/api/achievements_bonus/')\r\n                    .then(response => response.json())\r\n                    .then(bonus_data => {\r\n                        this.setState({achievements_books: bonus_data}, function() {\r\n                            if (bonus_data[0].first_schedule === 0) {\r\n                                // First schedule achievement completed\r\n                                bonus_data[0].first_schedule = 70\r\n                                this.handleAchievementsUpdate(bonus_data[0])\r\n\r\n                                fetch('/control_interface/api/points_wallet/')\r\n                                .then(response => response.json())\r\n                                .then(points_data => {\r\n                                    this.setState({points_wallet_books: points_data}, function() {\r\n                                        points_data[0].points = points_data[0].points + 90\r\n                                        this.handlePointsWalletUpdate(points_data[0])\r\n                                    })\r\n                                })\r\n                            } else {\r\n                                fetch('/control_interface/api/points_wallet/')\r\n                                .then(response => response.json())\r\n                                .then(points_data => {\r\n                                    this.setState({points_wallet_books: points_data}, function() {\r\n                                        points_data[0].points = points_data[0].points + 20\r\n                                        this.handlePointsWalletUpdate(points_data[0])\r\n                                    })\r\n                                })\r\n                            }\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    isNonWorkingTime = (schedulerData, time) => {\r\n        return true;\r\n    }\r\n\r\n    getScrollSpecialMoment = (schedulerData, startMoment, endMoment) => {\r\n        var time = this.props.date + \" 07:00:00\";\r\n        return moment(time);\r\n    }\r\n\r\n    eventClicked = (schedulerData, event) => {\r\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\r\n\r\n        function closeButtonClicked() {\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function deleteButtonClicked() {\r\n            // Update database (Delete)\r\n            window.calendar.props.onDeleteClick(event.database_id)\r\n            window.calendar.props.refetchData();\r\n\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData,\r\n                key: window.calendar.state.key + 1\r\n            });\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\";\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.startDate.substring(0,4) +\r\n                                      window.calendar.props.startDate.substring(5,7) +\r\n                                      window.calendar.props.startDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    var newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Checking for achievements\r\n                    window.calendar.updateScheduleAchievements()\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData,\r\n                        key: window.calendar.state.key + 1\r\n                    })\r\n\r\n//                    window.calendar.props.refetchData();\r\n//                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n         ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={event.start}\r\n                event_end={event.end}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    newEvent = (schedulerData, slotId, slotName, start, end, type, item) => {\r\n        let newFreshId = 0;\r\n        schedulerData.events.forEach(item => {\r\n            if (item.database_id >= newFreshId || item.id >= newFreshId) newFreshId = item.database_id + 1;\r\n        });\r\n\r\n        let newEvent = {\r\n            id: newFreshId,\r\n            title: \"(no name) (\" + moment(start).format(\"hh:mm A\") + \" - \" + moment(end).format(\"hh:mm A\") + \")\",\r\n            start: start,\r\n            end: end,\r\n            resourceId: slotId,\r\n            bgColor: \"#06D6A0\",\r\n            showPopover: false,\r\n            rrule: \"FREQ=WEEKLY;DTSTART=\" + this.props.startDate.substring(0,4) + this.props.startDate.substring(5,7) + this.props.startDate.substring(8,10) + \"T000000Z;UNTIL=\" + this.props.sundayDate.substring(0,4) + this.props.sundayDate.substring(5,7) + this.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\" + this.props.day.substring(0,2).toUpperCase()\r\n        }\r\n\r\n        schedulerData.addEvent(newEvent);\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            // Update database (Add)\r\n            window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id))\r\n            window.calendar.props.refetchData();\r\n\r\n            window.calendar.setState({\r\n                key: window.calendar.state.key + 1\r\n            })\r\n\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n        }\r\n        function deleteButtonClicked() {\r\n            schedulerData.removeEvent(newEvent);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData\r\n            })\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== newEvent.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    newEvent.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                     document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                     document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                     document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(newEvent, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(newEvent, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.startDate.substring(0,4) +\r\n                                      window.calendar.props.startDate.substring(5,7) +\r\n                                      window.calendar.props.startDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        newEvent.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        newEvent.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let anotherNewEvent = {\r\n                            id: newFreshId,\r\n                            title: newEvent.title,\r\n                            start: newEvent.start,\r\n                            end: newEvent.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: newEvent.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(anotherNewEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(anotherNewEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update database (Add)\r\n                    window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Checking for achievements\r\n                    window.calendar.updateScheduleAchievements()\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData,\r\n                        key: window.calendar.state.key + 1\r\n                    })\r\n//\r\n//                    window.calendar.props.refetchData();\r\n//                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Add Schedule: \" + slotName}\r\n                event_rrule={newEvent.rrule}\r\n                event_start={newEvent.start}\r\n                event_end={newEvent.end}\r\n                event_name={newEvent.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    updateEventStart = (schedulerData, event, newStart) => {\r\n        var old_start = event.start;\r\n        schedulerData.updateEventStart(event, newStart);\r\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(newStart).format('HH:mm')) + \" - \" + from24to12(moment(event.end).format('HH:mm')) + \")\";\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            // Update database (Update)\r\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n            window.calendar.props.refetchData();\r\n\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n\r\n            window.calendar.setState({\r\n                key: window.calendar.state.key + 1\r\n            })\r\n        }\r\n        function deleteButtonClicked() {\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n\r\n            // Update database\r\n            window.calendar.props.onDeleteClick(event.database_id);\r\n            window.calendar.props.refetchData();\r\n\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n\r\n            window.calendar.setState({\r\n                viewModel: schedulerData,\r\n                key: window.calendar.state.key + 1\r\n            })\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day =  day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.startDate.substring(0,4) +\r\n                                      window.calendar.props.startDate.substring(5,7) +\r\n                                      window.calendar.props.startDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    var newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Checking for achievements\r\n                    window.calendar.updateScheduleAchievements()\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData,\r\n                        key: window.calendar.state.key + 1\r\n                    })\r\n\r\n//                    window.calendar.props.refetchData();\r\n//                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={newStart}\r\n                event_end={event.end}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    updateEventEnd = (schedulerData, event, newEnd) => {\r\n        var old_end = event.end;\r\n        schedulerData.updateEventEnd(event, newEnd);\r\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(event.start).format('HH:mm')) + \" - \" + from24to12(moment(newEnd).format('HH:mm')) + \")\";\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Update database (Update)\r\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n            window.calendar.props.refetchData();\r\n\r\n            window.calendar.setState({\r\n                key: window.calendar.state.key + 1\r\n            })\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n        }\r\n        function deleteButtonClicked() {\r\n            // Update database (Delete)\r\n            window.calendar.props.onDeleteClick(event.database_id)\r\n            window.calendar.props.refetchData();\r\n\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData,\r\n                key: window.calendar.state.key + 1\r\n            })\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.startDate.substring(0,4) +\r\n                                      window.calendar.props.startDate.substring(5,7) +\r\n                                      window.calendar.props.startDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    let newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1;\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Checking for achievements\r\n                    window.calendar.updateScheduleAchievements()\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData,\r\n                        key: window.calendar.state.key + 1\r\n                    })\r\n\r\n//                    window.calendar.props.refetchData();\r\n//                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        var slotName = schedulerData.getSlotById(event.resourceId).name;\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={event.start}\r\n                event_end={newEnd}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    moveEvent = (schedulerData, event, slotId, slotName, start, end) => {\r\n        var old_start = event.start;\r\n        var old_end = event.end;\r\n        schedulerData.updateEventStart(event, start);\r\n        schedulerData.updateEventEnd(event, end);\r\n        event.title = event.title.substring(0, event.title.length - 22) + \" (\" + from24to12(moment(start).format('HH:mm')) + \" - \" + from24to12(moment(end).format('HH:mm')) + \")\";\r\n        this.setState({\r\n            viewModel: schedulerData\r\n        })\r\n\r\n        function closeButtonClicked() {\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Update database (Update)\r\n            window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n            window.calendar.props.refetchData();\r\n\r\n            window.calendar.setState({\r\n                key: window.calendar.state.key + 1\r\n            })\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n        }\r\n\r\n        function deleteButtonClicked() {\r\n            // Update database (Delete)\r\n            window.calendar.props.onDeleteClick(event.database_id);\r\n            window.calendar.props.refetchData();\r\n\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n            // Checking for achievements\r\n            window.calendar.updateScheduleAchievements()\r\n\r\n            // Update calendar\r\n            schedulerData.removeEvent(event);\r\n            window.calendar.setState({\r\n                viewModel: schedulerData,\r\n                key: window.calendar.state.key + 1\r\n            })\r\n        }\r\n\r\n        function okButtonClicked() {\r\n            var check_start_time = \"2020-01-01 \" + from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n            var check_end_time = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n            if (check_end_time === \"00:00:00\") {\r\n                check_end_time = \"2020-01-02 \" + check_end_time\r\n            } else {\r\n                check_end_time = \"2020-01-01 \" + check_end_time\r\n            }\r\n            if (check_start_time >= check_end_time) {\r\n                ReactDOM.render(\r\n                    <OnlyAlert\r\n                        message=\"Check your timings! Start time should be before end time.\"\r\n                        onOK={function() {\r\n                            ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                        }}\r\n                    />, document.getElementById(\"confirm-alert\")\r\n                )\r\n            } else {\r\n                // Checking conflicts\r\n                var hasConflict = false;\r\n                var conflictedEvents = [];\r\n                var plugload_option = document.querySelectorAll('input[name=\"ScheduleApplyOption\"]:checked');\r\n                var repeat_option = document.querySelectorAll('input[name=\"ScheduleRepeatOption\"]:checked');\r\n                var new_days_to_loop_over = [];\r\n                for (var repeat_day of repeat_option) {\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatMonday\")) {\r\n                        new_days_to_loop_over.push(getDates()[0])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatTuesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[1])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatWednesday\")) {\r\n                        new_days_to_loop_over.push(getDates()[2])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatThursday\")) {\r\n                        new_days_to_loop_over.push(getDates()[3])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatFriday\")) {\r\n                        new_days_to_loop_over.push(getDates()[4])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSaturday\")) {\r\n                        new_days_to_loop_over.push(getDates()[5])\r\n                    }\r\n                    if (repeat_day === document.getElementById(\"ScheduleRepeatSunday\")) {\r\n                        new_days_to_loop_over.push(getDates()[6])\r\n                    }\r\n                }\r\n\r\n                var new_start = from12to24(document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" + document.getElementById(\"StartAMPM\").value)\r\n                var new_end = from12to24(document.getElementById(\"EndHour\").value + \":\" + document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value)\r\n\r\n                var new_start_for_this = \"\";\r\n                var new_end_for_this = \"\";\r\n                var existing_start_for_this = \"\";\r\n                var existing_end_for_this = \"\";\r\n                for (var new_day of new_days_to_loop_over) {\r\n                    new_start_for_this = new_day + \" \" + new_start;\r\n                    new_end_for_this = new_day + \" \" + new_end;\r\n                    for (var plugload of plugload_option) {\r\n                        schedulerData.events.forEach(function(e) {\r\n                            var current_resource_id = 0\r\n                            if (plugload === document.getElementById(\"ScheduleApplyDesktop\")) {\r\n                                current_resource_id = 1\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyLaptop\")) {\r\n                                current_resource_id = 2\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyMonitor\")) {\r\n                                current_resource_id = 3\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyTaskLamp\")) {\r\n                                current_resource_id = 4\r\n                            }\r\n                            if (plugload === document.getElementById(\"ScheduleApplyFan\")) {\r\n                                current_resource_id = 5\r\n                            }\r\n                            if (e.resourceId === current_resource_id) {\r\n                                var existing_days_to_loop_over = [];\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"MO\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[0])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[1])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"WE\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[2])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"TH\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[3])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"FR\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[4])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SA\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[5])\r\n                                }\r\n                                if (e.rrule.substring(60, e.rrule.length).includes(\"SU\")) {\r\n                                    existing_days_to_loop_over.push(getDates()[6])\r\n                                }\r\n\r\n                                for (var existing_day of existing_days_to_loop_over) {\r\n                                    existing_start_for_this = existing_day + e.start.substring(10,19);\r\n                                    existing_end_for_this = existing_day + e.end.substring(10,19);\r\n                                    if (((new_start_for_this >= existing_start_for_this &&\r\n                                          new_start_for_this < existing_end_for_this) || (\r\n                                          new_end_for_this > existing_start_for_this &&\r\n                                          new_end_for_this <= existing_end_for_this) || (\r\n                                          existing_start_for_this >= new_start_for_this &&\r\n                                          existing_start_for_this < new_end_for_this) || (\r\n                                          existing_end_for_this > new_start_for_this &&\r\n                                          existing_end_for_this <= new_end_for_this)) && (\r\n                                          e.id !== event.id)) {\r\n                                            hasConflict = true;\r\n                                            if (!conflictedEvents.includes(e)) {\r\n                                                conflictedEvents.push(e)\r\n                                            }\r\n                                          }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                if (hasConflict) {\r\n                    var message = \"Conflict occurred for the following events:\"\r\n                    for (var events of conflictedEvents) {\r\n                        var day = \"\"\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"MO\")) {\r\n                            day = day + \"Monday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TU\")) {\r\n                            day = day + \"Tuesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"WE\")) {\r\n                            day = day + \"Wednesday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"TH\")) {\r\n                            day = day + \"Thursday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"FR\")) {\r\n                            day = day + \"Friday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SA\")) {\r\n                            day = day + \"Saturday, \"\r\n                        }\r\n                        if (events.rrule.substring(60,events.rrule.length).includes(\"SU\")) {\r\n                            day = day + \"Sunday, \"\r\n                        }\r\n                        var current_plugload_conflicted = schedulerData.getSlotById(events.resourceId).name\r\n                        message += `<new>- ${events.title} for ${current_plugload_conflicted} on ${day.substring(0,day.length-2)}`\r\n                    }\r\n                    ReactDOM.render(\r\n                        <ConflictAlert\r\n                            message={message}\r\n                            onOK={function() {\r\n                                ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                            }}\r\n                        />, document.getElementById(\"confirm-alert\")\r\n                    )\r\n                } else {\r\n                    // Rename\r\n                    event.title = document.getElementById(\"schedule_name_input\").value + \" (\" +\r\n                                  document.getElementById(\"StartHour\").value + \":\" + document.getElementById(\"StartMinute\").value + \" \" +\r\n                                  document.getElementById(\"StartAMPM\").value + \" - \" + document.getElementById(\"EndHour\").value + \":\" +\r\n                                  document.getElementById(\"EndMinute\").value + \" \" + document.getElementById(\"EndAMPM\").value + \")\";\r\n\r\n                    // Update start\r\n                    schedulerData.updateEventStart(event, window.calendar.props.date + \" \" + processHourInput(\"Start\") + \":\" + document.getElementById(\"StartMinute\").value + \":00\");\r\n\r\n                    // Update end\r\n                    schedulerData.updateEventEnd(event, window.calendar.props.date + \" \" + processHourInput(\"End\") + \":\" + document.getElementById(\"EndMinute\").value + \":00\")\r\n\r\n                    // Update repeat\r\n                    var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + window.calendar.props.startDate.substring(0,4) +\r\n                                      window.calendar.props.startDate.substring(5,7) +\r\n                                      window.calendar.props.startDate.substring(8,10) + \"T000000Z;UNTIL=\" +\r\n                                      window.calendar.props.sundayDate.substring(0,4) +\r\n                                      window.calendar.props.sundayDate.substring(5,7) +\r\n                                      window.calendar.props.sundayDate.substring(8,10) + \"T235900Z;BYDAY=\"\r\n                    if (document.getElementById(\"ScheduleRepeatEveryDay\").checked) {\r\n                        // Repeat Every Day\r\n                        event.rrule = event_rrule + \"MO,TU,WE,TH,FR,SA,SU\";\r\n                    } else {\r\n                        if (document.getElementById(\"ScheduleRepeatMonday\").checked) {\r\n                            event_rrule = event_rrule + \"MO,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatTuesday\").checked) {\r\n                            event_rrule = event_rrule + \"TU,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatWednesday\").checked) {\r\n                            event_rrule = event_rrule + \"WE,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatThursday\").checked) {\r\n                            event_rrule = event_rrule + \"TH,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatFriday\").checked) {\r\n                            event_rrule = event_rrule + \"FR,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSaturday\").checked) {\r\n                            event_rrule = event_rrule + \"SA,\"\r\n                        }\r\n                        if (document.getElementById(\"ScheduleRepeatSunday\").checked) {\r\n                            event_rrule = event_rrule + \"SU,\"\r\n                        }\r\n                        event.rrule = event_rrule.substring(0,event_rrule.length-1)\r\n                    }\r\n\r\n                    // Apply to other devices\r\n                    var newFreshId = 0;\r\n                    schedulerData.events.forEach(item => {\r\n                        if (item.database_id >= newFreshId || item.id >= newFreshId) {\r\n                            newFreshId = item.database_id;\r\n                        }\r\n                    })\r\n                    document.getElementById(\"ScheduleApply\" + slotName.replace(/\\s/g, '')).checked = false;\r\n                    if (document.getElementById(\"ScheduleApplyDesktop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 1,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyMonitor\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 3,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyLaptop\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 2,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyTaskLamp\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 4,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n                    if (document.getElementById(\"ScheduleApplyFan\").checked) {\r\n                        newFreshId = newFreshId + 1\r\n                        let newEvent = {\r\n                            id: newFreshId,\r\n                            title: event.title,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            resourceId: 5,\r\n                            bgColor: \"#06D6A0\",\r\n                            showPopover: false,\r\n                            rrule: event.rrule\r\n                        }\r\n                        window.calendar.props.onAddClick(formatForDatabaseAdd(newEvent, window.calendar.props.current_user_id));\r\n                        schedulerData.addEvent(newEvent);\r\n                        window.calendar.setState({\r\n                            viewModel: schedulerData\r\n                        })\r\n                    }\r\n\r\n                    // Update database (Update)\r\n                    window.calendar.props.onUpdateClick(formatForDatabaseUpdate(event, window.calendar.props.current_user_id));\r\n                    window.calendar.props.refetchData();\r\n\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"popup-container-schedule\"));\r\n\r\n                    // Checking for achievements\r\n                    window.calendar.updateScheduleAchievements()\r\n\r\n                    // Update calendar\r\n                    window.calendar.setState({\r\n                        viewModel: schedulerData,\r\n                        key: window.calendar.state.key + 1\r\n                    })\r\n\r\n//                    window.calendar.props.refetchData();\r\n//                    setTimeout(function() {document.getElementById(window.calendar.props.day + \"Calendar\").click()}, 1000)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        ReactDOM.render(\r\n            <ScheduleControlPopup\r\n                device_type={\"Edit Schedule: \" + slotName}\r\n                event_rrule={event.rrule}\r\n                event_start={start}\r\n                event_end={end}\r\n                event_name={event.title}\r\n                okButtonClicked={okButtonClicked}\r\n                closeButtonClicked={closeButtonClicked}\r\n                deleteButtonClicked={deleteButtonClicked}\r\n            />, document.getElementById(\"popup-container-schedule\")\r\n        )\r\n    }\r\n\r\n    conflictOccurred = (schedulerData, action, event, type, slotId, slotName, start, end) => {\r\n        ReactDOM.render(\r\n            <OnlyAlert\r\n                message={\"This is conflicting with a schedule set for \" + slotName + \".\"}\r\n                onOK={function() {\r\n                    ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"))\r\n                }}\r\n            />, document.getElementById(\"confirm-alert\")\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default withDragDropContext(Calendar);","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport ConfirmAlert from './ConfirmAlert';\r\nimport Calendar from './Calendar';\r\n\r\nfunction compare(a,b) {\r\n    let comparison = 0;\r\n    if (a.device_type > b.device_type) {\r\n        comparison = 1;\r\n    } else if (a.device_type < b.device_type) {\r\n        comparison = -1\r\n    }\r\n    return comparison\r\n}\r\n\r\n// Remote Control\r\n\r\nclass RemoteControlDashboard extends Component {\r\n    state = {\r\n        books: [],\r\n        key: 1\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = () => {\r\n        // Fetch data from database\r\n        fetch('/control_interface/api/remote/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            data.sort(compare);\r\n            this.setState({books: data, key: this.state.key+1})\r\n        })\r\n\r\n        setTimeout(this.fetchData, 5000)\r\n    }\r\n\r\n    updateBook = (newBook) => {\r\n        fetch('/control_interface/api/remote/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook)\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({books: newBooks});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div id=\"remote_control_space\">\r\n                    <RemoteControlList\r\n                        key={this.state.key}\r\n                        books={this.state.books}\r\n                        onUpdateClick={this.updateBook}\r\n                    />\r\n                </div>\r\n                <p style={{float:\"right\"}}> Note: It will take around 5 seconds for your devices to be switched ON/OFF. </p>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass RemoteControlList extends Component {\r\n    render() {\r\n        const books = this.props.books.map(book => (\r\n            <RemoteControlEditableItem\r\n                key={book.id}\r\n                id={book.id}\r\n                user_id={book.user_id}\r\n                device_type={book.device_type}\r\n                device_state={book.device_state}\r\n                onUpdateClick={this.props.onUpdateClick}\r\n            />\r\n        ));\r\n        return (\r\n            <>\r\n                <div style={{float:\"right\"}}>\r\n                    <p style={{marginLeft:\"50px\", marginBottom:\"5px\"}}> Master </p>\r\n                    <RemoteToggleButton id=\"master\" defaultChecked={true} books={this.props.books} />\r\n                </div>\r\n                <br/>\r\n                <br/>\r\n                <div style={{margin:\"auto\", width:\"fit-content\"}}>\r\n                    {books}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass RemoteControlEditableItem extends Component {\r\n    handleUpdate = (book) => {\r\n        book.id = this.props.id;\r\n        this.props.onUpdateClick(book);\r\n    }\r\n\r\n    render() {\r\n        const component = () => {\r\n            return (\r\n                <>\r\n                    <RemoteControlItem\r\n                        id={this.props.id}\r\n                        user_id={this.props.user_id}\r\n                        device_type={this.props.device_type}\r\n                        device_state={this.props.device_state}\r\n                        onFormSubmit={this.handleUpdate}\r\n                    />\r\n                </>\r\n            )\r\n        }\r\n        return (\r\n            component()\r\n        )\r\n    }\r\n}\r\n\r\nclass RemoteControlItem extends Component {\r\n    state = {\r\n        user_id: this.props.user_id,\r\n        device_type: this.props.device_type,\r\n        device_state: this.props.device_state,\r\n        achievements_books: [],\r\n        points_wallet_books: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        Main();\r\n    }\r\n\r\n    updateAchievementsBooks = (newBook) => {\r\n        fetch('/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    updatePointsWalletBooks = (newBook) => {\r\n        fetch('/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.points_wallet_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({points_wallet_books: newBooks})\r\n        })\r\n    }\r\n\r\n    handleAchievementsUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updateAchievementsBooks(book);\r\n    }\r\n\r\n    handlePointsWalletUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updatePointsWalletBooks(book);\r\n    }\r\n\r\n    updateRemoteAchievements = () => {\r\n        fetch('/control_interface/api/achievements_bonus/')\r\n        .then(response => response.json())\r\n        .then(bonus_data => {\r\n            this.setState({achievements_books: bonus_data}, function() {\r\n                if (bonus_data[0].first_remote === 0) {\r\n                    // First remote achievement completed\r\n                    bonus_data[0].first_remote = 60\r\n                    this.handleAchievementsUpdate(bonus_data[0])\r\n\r\n                    fetch('/control_interface/api/points_wallet/')\r\n                    .then(response => response.json())\r\n                    .then(points_data => {\r\n                        this.setState({points_wallet_books: points_data}, function() {\r\n                            points_data[0].points = points_data[0].points + 60\r\n                            this.handlePointsWalletUpdate(points_data[0])\r\n                        })\r\n                    })\r\n\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    handleFormSubmit = () => {\r\n        this.props.onFormSubmit({...this.state});\r\n    }\r\n\r\n    onConfirm1 = () => {\r\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_confirmed).checked = false;\r\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n        Main();\r\n\r\n        // Checking for achievements\r\n        this.updateRemoteAchievements()\r\n    }\r\n\r\n    onConfirm2 = () => {\r\n        var to_be_confirmed = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_confirmed).checked = true;\r\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n        Main();\r\n\r\n        // Checking for achievements\r\n        this.updateRemoteAchievements()\r\n    }\r\n\r\n    onCancel1 = () => {\r\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_cancelled).checked = true;\r\n        this.setState({device_state: true}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onCancel2 = () => {\r\n        var to_be_cancelled = this.state.device_type + \"ToggleRemote\";\r\n        document.getElementById(to_be_cancelled).checked = false;\r\n        this.setState({device_state: false}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onChange = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.device_type === \"Desktop\" || this.state.device_type === \"Laptop\") {\r\n            if (this.state.device_state === true) {\r\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\r\n                    // Switch OFF\r\n                    this.setState({device_state: false}, function() {this.handleFormSubmit()})\r\n                } else {\r\n                    ReactDOM.render(<ConfirmAlert\r\n                                        message={\"You are switching off your \" + this.state.device_type + \".\"}\r\n                                        onConfirm = {this.onConfirm1}\r\n                                        onCancel = {this.onCancel1}\r\n                                    />, document.getElementById(\"confirm-alert\"))\r\n                }\r\n            } else {\r\n                if (document.getElementById(\"confirm-alert\").childNodes.length > 0) {\r\n                    // Switch ON\r\n                    this.setState({device_state: true}, function() {this.handleFormSubmit()})\r\n                } else {\r\n                    ReactDOM.render(<ConfirmAlert\r\n                                        message={\"You are switching on your \" + this.state.device_type + \".\"}\r\n                                        onConfirm = {this.onConfirm2}\r\n                                        onCancel = {this.onCancel2}\r\n                                    />, document.getElementById(\"confirm-alert\"))\r\n                }\r\n            }\r\n        } else {\r\n            // Update database\r\n            this.setState({device_state: e.target.checked}, function() {this.handleFormSubmit()})\r\n            Main();\r\n\r\n            // Checking for achievements\r\n            this.updateRemoteAchievements()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.device_state === false) {\r\n            var remote_control_outer_ring = \"greyRing\";\r\n            var remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\r\n        } else {\r\n            remote_control_outer_ring = \"greenRing\";\r\n            remote_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\r\n        }\r\n        return (\r\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxRemote\"} className=\"containerRemote\">\r\n                <p style={{textAlign:\"center\", fontWeight:\"bold\", color:\"black\"}}> {this.state.device_type} </p>\r\n                <div id={this.state.device_type.replace(/\\s/g,'') + \"IconRemote\"}>\r\n                    <div class={remote_control_outer_ring}>\r\n                        <div class=\"whiteRing\">\r\n                            <img class=\"PlugLoadIcon\" src={remote_control_image} alt=\"Icon\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br/>\r\n                <div className=\"toggle-switch\">\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        className=\"toggle-switch-checkbox\"\r\n                        id={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}\r\n                        checked={this.state.device_state}\r\n                        defaultChecked={this.state.device_state}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    <label className=\"toggle-switch-label\" htmlFor={this.state.device_type.replace(/\\s/g,'') + \"ToggleRemote\"}>\r\n                        <span className=\"toggle-switch-inner\" data-yes=\"ON\" data-no=\"OFF\" />\r\n                        <span className=\"toggle-switch-switch\" />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass RemoteToggleButton extends Component {\r\n    state = {\r\n        checked: this.props.defaultChecked\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        window.master = this;\r\n    }\r\n\r\n    onConfirm1 = () => {\r\n        // Switch OFF all plug loads\r\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"DesktopToggleRemote\").checked === true) {\r\n                document.getElementById(\"DesktopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\r\n            if (document.getElementById(\"MonitorToggleRemote\").checked === true) {\r\n                document.getElementById(\"MonitorToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"LaptopToggleRemote\").checked === true) {\r\n                document.getElementById(\"LaptopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\r\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === true) {\r\n                document.getElementById(\"TaskLampToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\r\n            if (document.getElementById(\"FanToggleRemote\").checked === true) {\r\n                document.getElementById(\"FanToggleRemote\").click();\r\n            }\r\n        }\r\n        document.getElementById(\"master\").checked = false;\r\n        this.setState({checked: false})\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onConfirm2 = () => {\r\n        // Switch ON all plug loads\r\n        if (document.getElementById(\"DesktopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"DesktopToggleRemote\").checked === false) {\r\n                document.getElementById(\"DesktopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"MonitorToggleRemote\") !== null) {\r\n            if (document.getElementById(\"MonitorToggleRemote\").checked === false) {\r\n                document.getElementById(\"MonitorToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"LaptopToggleRemote\") !== null) {\r\n            if (document.getElementById(\"LaptopToggleRemote\").checked === false) {\r\n                document.getElementById(\"LaptopToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"TaskLampToggleRemote\") !== null) {\r\n            if (document.getElementById(\"TaskLampToggleRemote\").checked === false) {\r\n                document.getElementById(\"TaskLampToggleRemote\").click();\r\n            }\r\n        }\r\n        if (document.getElementById(\"FanToggleRemote\") !== null) {\r\n            if (document.getElementById(\"FanToggleRemote\").checked === false) {\r\n                document.getElementById(\"FanToggleRemote\").click();\r\n            }\r\n        }\r\n        document.getElementById(\"master\").checked = true;\r\n        this.setState({checked: true});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onCancel1 = () => {\r\n        document.getElementById(\"master\").checked = true;\r\n        this.setState({checked: true});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onCancel2 = () => {\r\n        document.getElementById(\"master\").checked = false;\r\n        this.setState({checked: false});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    onChange = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.checked === true) {\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message=\"You are switching off all your devices.\"\r\n                                onConfirm = {this.onConfirm1}\r\n                                onCancel = {this.onCancel1}\r\n                             />, document.getElementById(\"confirm-alert\"))\r\n        } else {\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message=\"You are switching on all your devices.\"\r\n                                onConfirm = {this.onConfirm2}\r\n                                onCancel = {this.onCancel2}\r\n                            />, document.getElementById(\"confirm-alert\"))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var defaultChecked = false\r\n        for (var book of this.props.books) {\r\n            if (book.device_state === true) {\r\n                defaultChecked = true\r\n            }\r\n        }\r\n        return (\r\n            <div className={\"toggle-switch\" + (this.props.Small ? \" small-switch\" : \"\")}>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name={this.props.Name}\r\n                    className=\"toggle-switch-checkbox\"\r\n                    id={this.props.id}\r\n                    checked={this.checked}\r\n                    defaultChecked={defaultChecked}\r\n                    onClick={this.onChange}\r\n                    disabled={this.props.disabled}\r\n                />\r\n                {this.props.id ? (\r\n                    <label className=\"toggle-switch-label\" htmlFor={this.props.id}>\r\n                        <span\r\n                            className={this.props.disabled ? \"toggle-switch-inner toggle-switch-disabled\" : \"toggle-switch-inner\"}\r\n                            data-yes=\"ON\"\r\n                            data-no=\"OFF\"\r\n                        />\r\n                        <span\r\n                            className={this.props.disabled ? \"toggle-switch-switch toggle-switch-disabled\": \"toggle-switch-switch\"}\r\n                        />\r\n                    </label>\r\n                ) : null}\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(<RemoteControlDashboard />, document.getElementById('remote-control'))\r\n\r\nfunction Main() {\r\n    // If at least one plug load is ON, master button is automatically toggled to ON.\r\n    if (document.getElementById(\"DesktopToggleRemote\").checked || document.getElementById(\"MonitorToggleRemote\").checked ||\r\n        document.getElementById(\"LaptopToggleRemote\").checked || document.getElementById(\"TaskLampToggleRemote\").checked ||\r\n        document.getElementById(\"FanToggleRemote\").checked) {\r\n        window.master.setState({checked: true});\r\n        document.getElementById(\"master\").checked = true;\r\n    } else {\r\n        // If all plug loads are OFF, master button is automatically toggled to OFF.\r\n        if (!document.getElementById(\"DesktopToggleRemote\").checked && !document.getElementById(\"MonitorToggleRemote\").checked &&\r\n            !document.getElementById(\"LaptopToggleRemote\").checked && !document.getElementById(\"TaskLampToggleRemote\").checked &&\r\n            !document.getElementById(\"FanToggleRemote\").checked) {\r\n            window.master.setState({checked: false});\r\n            document.getElementById(\"master\").checked = false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// Schedule Based control\r\n\r\nfunction sort_events(a,b) {\r\n    let comparison = 0;\r\n    if (a.start > b.start) {\r\n        comparison = 1;\r\n    } else if (a.start < b.start) {\r\n        comparison = -1\r\n    }\r\n    return comparison\r\n}\r\n\r\nfunction from24to12(hour) {\r\n    var new_hour = Number(hour.substring(0,2));\r\n    var am_or_pm = new_hour >= 12 ? \"PM\" : \"AM\";\r\n    new_hour = (new_hour % 12) || 12;\r\n    var finalTime = new_hour + \":\" + hour.substring(3,5) + \" \" + am_or_pm;\r\n\r\n    if (finalTime.length !== 8) {\r\n        finalTime = \"0\" + finalTime\r\n    }\r\n    return (finalTime);\r\n}\r\n\r\nfunction getDates() {\r\n    var today = new Date();\r\n    var mondayDate = new Date();\r\n    var tuesdayDate = new Date();\r\n    var wednesdayDate = new Date();\r\n    var thursdayDate = new Date();\r\n    var fridayDate = new Date();\r\n    var saturdayDate = new Date();\r\n    var sundayDate = new Date();\r\n    var startDate = new Date();\r\n\r\n    if (today.getDay() === 0) {\r\n        // Today is Sunday\r\n        startDate.setDate(today.getDate() - 7)\r\n        mondayDate.setDate(today.getDate() - 6);\r\n        tuesdayDate.setDate(today.getDate() - 5);\r\n        wednesdayDate.setDate(today.getDate() - 4);\r\n        thursdayDate.setDate(today.getDate() - 3);\r\n        fridayDate.setDate(today.getDate() - 2);\r\n        saturdayDate.setDate(today.getDate() - 1);\r\n        sundayDate.setDate(today.getDate());\r\n    } else {\r\n        startDate.setDate(today.getDate() + (0 - today.getDay()))\r\n        mondayDate.setDate(today.getDate() + (1 - today.getDay()));\r\n        tuesdayDate.setDate(today.getDate() + (2 - today.getDay()));\r\n        wednesdayDate.setDate(today.getDate() + (3 - today.getDay()));\r\n        thursdayDate.setDate(today.getDate() + (4 - today.getDay()));\r\n        fridayDate.setDate(today.getDate() + (5 - today.getDay()));\r\n        saturdayDate.setDate(today.getDate() + (6 - today.getDay()));\r\n        sundayDate.setDate(today.getDate() + (7 - today.getDay()));\r\n    }\r\n\r\n    startDate = startDate.getFullYear() + \"-\" + ((startDate.getMonth() + 1).toString().length === 1 ? \"0\" + (startDate.getMonth() + 1).toString() : (startDate.getMonth() + 1)) + \"-\" + (startDate.getDate().toString().length === 1 ? \"0\" + startDate.getDate().toString() : startDate.getDate())\r\n    mondayDate = mondayDate.getFullYear() + \"-\" + ((mondayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (mondayDate.getMonth() + 1).toString() : (mondayDate.getMonth() + 1)) + \"-\" + (mondayDate.getDate().toString().length === 1 ? \"0\" + mondayDate.getDate().toString() : mondayDate.getDate())\r\n    tuesdayDate = tuesdayDate.getFullYear() + \"-\" + ((tuesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (tuesdayDate.getMonth() + 1).toString() : (tuesdayDate.getMonth() + 1)) + \"-\" + (tuesdayDate.getDate().toString().length === 1 ? \"0\" + tuesdayDate.getDate().toString() : tuesdayDate.getDate())\r\n    wednesdayDate = wednesdayDate.getFullYear() + \"-\" + ((wednesdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (wednesdayDate.getMonth() + 1).toString() : (wednesdayDate.getMonth() + 1)) + \"-\" + (wednesdayDate.getDate().toString().length === 1 ? \"0\" + wednesdayDate.getDate().toString() : wednesdayDate.getDate())\r\n    thursdayDate = thursdayDate.getFullYear() + \"-\" + ((thursdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (thursdayDate.getMonth() + 1).toString() : (thursdayDate.getMonth() + 1))  + \"-\" + (thursdayDate.getDate().toString().length === 1 ? \"0\" + thursdayDate.getDate().toString() : thursdayDate.getDate())\r\n    fridayDate = fridayDate.getFullYear() + \"-\" + ((fridayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (fridayDate.getMonth() + 1).toString() : (fridayDate.getMonth() + 1)) + \"-\" + (fridayDate.getDate().toString().length === 1 ? \"0\" + fridayDate.getDate().toString() : fridayDate.getDate())\r\n    saturdayDate = saturdayDate.getFullYear() + \"-\" + ((saturdayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (saturdayDate.getMonth() + 1).toString() : (saturdayDate.getMonth() + 1)) + \"-\" + (saturdayDate.getDate().toString().length === 1 ? \"0\" + saturdayDate.getDate().toString() : saturdayDate.getDate())\r\n    sundayDate = sundayDate.getFullYear() + \"-\" + ((sundayDate.getMonth() + 1).toString().length === 1 ? \"0\" + (sundayDate.getMonth() + 1).toString() : (sundayDate.getMonth() + 1)) + \"-\" + (sundayDate.getDate().toString().length === 1 ? \"0\" + sundayDate.getDate().toString() : sundayDate.getDate())\r\n\r\n    return([mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate, startDate])\r\n}\r\n\r\nfunction getCookie(name) {\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            if (cookie.substring(0,name.length+1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue\r\n}\r\n\r\nclass ScheduleControlDashboard extends Component {\r\n    state = {\r\n        events: [],\r\n        dates: [],\r\n        chosen_day: \"\",\r\n        books: [],\r\n        key: 1\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch data from database\r\n        fetch('/control_interface/api/schedule/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({books: data})\r\n            var events_datas = [];\r\n            for (var input of data) {\r\n                this.setState({current_user_id: input.user_id})\r\n                var resourceId = input.device_type_id;\r\n                var eventId = input.event_id;\r\n                var event_start = input.event_start;\r\n                var event_end = input.event_end;\r\n\r\n                // Format the title to be shown for each event on the scheduler\r\n                var finalStart = from24to12(event_start);\r\n                var finalEnd = from24to12(event_end)\r\n                var event_name = input.event_name + \" (\" + finalStart + \" - \" + finalEnd + \")\"\r\n\r\n                var [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate, startDate] = getDates();\r\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + startDate.substring(0,4) + startDate.substring(5,7) + startDate.substring(8,10) + \"T000000Z;UNTIL=\" + sundayDate.substring(0,4) + sundayDate.substring(5,7) + sundayDate.substring(8,10) + \"T235900Z;BYDAY=\";\r\n//                event_start = mondayDate + \" \" + event_start;\r\n                event_start = \"2020-01-01 \" + event_start\r\n\r\n                if (event_end === \"00:00:00\") {\r\n//                    event_end = tuesdayDate + \" \" + event_end;\r\n                    event_end = \"2020-01-02 \" + event_end\r\n                } else {\r\n//                    event_end = mondayDate + \" \" + event_end;\r\n                    event_end = \"2020-01-01 \" + event_end\r\n                }\r\n                if (input.event_rrule.includes(\"Monday\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"MO\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",MO\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"BeforeTue\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"MO\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",MO\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Tuesday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"TU\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",TU\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeWed\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"TU\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",TU\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Wednesday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"WE\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",WE\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeThu\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"WE\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",WE\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Thursday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"TH\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",TH\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeFri\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"TH\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",TH\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Friday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"FR\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",FR\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeSat\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"FR\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",FR\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Saturday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"SA\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",SA\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeSun\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"SA\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",SA\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Sunday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"SU\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",SU\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeMon\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"SU\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",SU\";\r\n                    }\r\n                }\r\n\r\n                // Set the events for the scheduler\r\n                events_datas.push({id: eventId, start: event_start, end: event_end, title: event_name, rrule: event_rrule, resourceId: resourceId, showPopover: false, bgColor: '#06D6A0', database_id: input.id})\r\n\r\n                // Open the calendar for today\r\n                const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n                var today = new Date();\r\n                var wanted_id = days[today.getDay()] + \"Calendar\";\r\n                document.getElementById(wanted_id).className=\"selected\";\r\n                setTimeout(function() {document.getElementById(wanted_id).click()}, 0.1)\r\n            }\r\n            events_datas.sort(sort_events)\r\n            this.setState({\r\n                events: events_datas,\r\n                dates: [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate, startDate]\r\n            })\r\n        })\r\n    }\r\n\r\n    refetchData = () => {\r\n        // Fetch data from database\r\n        fetch('/control_interface/api/schedule/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({books: data})\r\n            var events_datas = [];\r\n            for (var input of data) {\r\n                this.setState({current_user_id: input.user_id})\r\n                var resourceId = input.device_type_id;\r\n                var eventId = input.event_id;\r\n                var event_start = input.event_start;\r\n                var event_end = input.event_end;\r\n\r\n                // Format the title to be shown for each event on the scheduler\r\n                var finalStart = from24to12(event_start);\r\n                var finalEnd = from24to12(event_end)\r\n                var event_name = input.event_name + \" (\" + finalStart + \" - \" + finalEnd + \")\"\r\n\r\n                var [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate, startDate] = getDates();\r\n                var event_rrule = \"FREQ=WEEKLY;DTSTART=\" + startDate.substring(0,4) + startDate.substring(5,7) + startDate.substring(8,10) + \"T000000Z;UNTIL=\" + sundayDate.substring(0,4) + sundayDate.substring(5,7) + sundayDate.substring(8,10) + \"T235900Z;BYDAY=\";\r\n//                event_start = mondayDate + \" \" + event_start;\r\n                event_start = \"2020-01-01 \" + event_start\r\n\r\n                if (event_end === \"00:00:00\") {\r\n//                    event_end = tuesdayDate + \" \" + event_end;\r\n                    event_end = \"2020-01-02 \" + event_end\r\n                } else {\r\n//                    event_end = mondayDate + \" \" + event_end;\r\n                    event_end = \"2020-01-01 \" + event_end\r\n                }\r\n                if (input.event_rrule.includes(\"Monday\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"MO\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",MO\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"BeforeTue\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"MO\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",MO\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Tuesday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"TU\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",TU\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeWed\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"TU\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",TU\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Wednesday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"WE\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",WE\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeThu\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"WE\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",WE\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Thursday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"TH\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",TH\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeFri\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"TH\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",TH\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Friday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"FR\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",FR\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeSat\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"FR\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",FR\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Saturday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"SA\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",SA\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeSun\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"SA\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",SA\";\r\n                    }\r\n                }\r\n                if (input.event_rrule.includes(\"Sunday\")) {\r\n                            if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                                event_rrule = event_rrule + \"SU\";\r\n                            } else {\r\n                                event_rrule = event_rrule + \",SU\";\r\n                            }\r\n                        }\r\n                if (input.event_rrule.includes(\"BeforeMon\")) {\r\n                    if (event_rrule.charAt(event_rrule.length-1) === \"=\") {\r\n                        event_rrule = event_rrule + \"SU\";\r\n                    } else {\r\n                        event_rrule = event_rrule + \",SU\";\r\n                    }\r\n                }\r\n\r\n                // Set the events for the scheduler\r\n                events_datas.push({id: eventId, start: event_start, end: event_end, title: event_name, rrule: event_rrule, resourceId: resourceId, showPopover: false, bgColor: '#06D6A0', database_id: input.id})\r\n            }\r\n            events_datas.sort(sort_events)\r\n            this.setState({\r\n                events: events_datas,\r\n                dates: [mondayDate, tuesdayDate, wednesdayDate, thursdayDate, fridayDate, saturdayDate, sundayDate, startDate]\r\n            })\r\n        })\r\n    }\r\n\r\n    createNewBook = (book) => {\r\n        const csrftoken = getCookie('csrftoken');\r\n        fetch('/control_interface/api/schedule/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'X-CSRFToken': csrftoken\r\n            },\r\n            body: JSON.stringify(book),\r\n        })\r\n        .then(response => response.json())\r\n        .then(book => {\r\n            this.setState({books: this.state.books.concat([book])});\r\n        })\r\n    }\r\n\r\n    updateBook = (newBook) => {\r\n        fetch('/control_interface/api/schedule/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook)\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n\r\n            this.setState({books: newBooks});\r\n        })\r\n    }\r\n\r\n    deleteBook = (bookId) => {\r\n        fetch('/control_interface/api/schedule/' + bookId + '/', {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        })\r\n        .then(() => {\r\n            this.setState({books: this.state.books.filter(book => book.id !== bookId)})\r\n        })\r\n    }\r\n\r\n    removeCalendarHeader = () => {\r\n        document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0].removeChild(document.getElementById(\"root\").childNodes[0].childNodes[0].childNodes[0].childNodes[0]);\r\n    }\r\n\r\n    addLines = () => {\r\n        document.getElementsByClassName(\"scheduler-bg-table\")[0].childNodes[0].childNodes[0].childNodes[23].style.borderRight = 0;\r\n\r\n        var i;\r\n        var j;\r\n        for (i=0; i<5; i++) {\r\n            for (j=3; j<93; j+=4) {\r\n                document.getElementsByClassName(\"scheduler-bg-table\")[1].childNodes[0].childNodes[i].childNodes[j].style.borderRight = \"1px solid #707070\";\r\n            }\r\n        }\r\n    }\r\n\r\n    chooseMonday = () => {\r\n        this.refetchData();\r\n        // Update chosen_day state\r\n        this.setState({chosen_day: \"Monday\"})\r\n\r\n        // Adjust colour of tabs\r\n        document.getElementById(\"MondayCalendar\").className = \"selected\";\r\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\r\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\r\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\r\n        document.getElementById(\"FridayCalendar\").className = \"\";\r\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\r\n        document.getElementById(\"SundayCalendar\").className = \"\";\r\n\r\n        // Adjust calendar shown\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n        ReactDOM.render(\r\n            <Calendar\r\n                refetchData={this.refetchData}\r\n                events={this.state.events}\r\n                date={this.state.dates[0]}\r\n                onDeleteClick={this.deleteBook}\r\n                onAddClick={this.createNewBook}\r\n                onUpdateClick={this.updateBook}\r\n                books={this.state.books}\r\n                startDate={this.state.dates[7]}\r\n                mondayDate={this.state.dates[0]}\r\n                sundayDate={this.state.dates[6]}\r\n                day=\"Monday\"\r\n                current_user_id={this.state.current_user_id}\r\n            />, document.getElementById(\"root\"));\r\n        this.removeCalendarHeader();\r\n        this.addLines();\r\n    }\r\n\r\n    chooseTuesday = () => {\r\n        this.refetchData();\r\n        // Update chosen_day state\r\n        this.setState({chosen_day: \"Tuesday\"})\r\n\r\n        // Adjust colour of tabs\r\n        document.getElementById(\"MondayCalendar\").className = \"\";\r\n        document.getElementById(\"TuesdayCalendar\").className = \"selected\";\r\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\r\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\r\n        document.getElementById(\"FridayCalendar\").className = \"\";\r\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\r\n        document.getElementById(\"SundayCalendar\").className = \"\";\r\n\r\n        // Adjust calendar shown\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n        ReactDOM.render(\r\n            <Calendar\r\n                refetchData={this.refetchData}\r\n                events={this.state.events}\r\n                date={this.state.dates[1]}\r\n                onDeleteClick={this.deleteBook}\r\n                onAddClick={this.createNewBook}\r\n                onUpdateClick={this.updateBook}\r\n                books={this.state.books}\r\n                startDate={this.state.dates[7]}\r\n                mondayDate={this.state.dates[0]}\r\n                sundayDate={this.state.dates[6]}\r\n                day=\"Tuesday\"\r\n                current_user_id={this.state.current_user_id}\r\n            />, document.getElementById(\"root\"));\r\n        this.removeCalendarHeader();\r\n        this.addLines();\r\n    }\r\n\r\n    chooseWednesday = () => {\r\n        this.refetchData();\r\n        // Update chosen_day state\r\n        this.setState({chosen_day: \"Wednesday\"})\r\n\r\n        // Adjust colour of tabs\r\n        document.getElementById(\"MondayCalendar\").className = \"\";\r\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\r\n        document.getElementById(\"WednesdayCalendar\").className = \"selected\";\r\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\r\n        document.getElementById(\"FridayCalendar\").className = \"\";\r\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\r\n        document.getElementById(\"SundayCalendar\").className = \"\";\r\n\r\n        // Adjust calendar shown\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n        ReactDOM.render(\r\n            <Calendar\r\n                refetchData={this.refetchData}\r\n                events={this.state.events}\r\n                date={this.state.dates[2]}\r\n                onDeleteClick={this.deleteBook}\r\n                onAddClick={this.createNewBook}\r\n                onUpdateClick={this.updateBook}\r\n                books={this.state.books}\r\n                startDate={this.state.dates[7]}\r\n                mondayDate={this.state.dates[0]}\r\n                sundayDate={this.state.dates[6]}\r\n                day=\"Wednesday\"\r\n                current_user_id={this.state.current_user_id}\r\n            />, document.getElementById(\"root\"));\r\n        this.removeCalendarHeader();\r\n        this.addLines();\r\n    }\r\n\r\n    chooseThursday = () => {\r\n        this.refetchData();\r\n        // Update chosen_day state\r\n        this.setState({chosen_day: \"Thursday\"})\r\n\r\n        // Adjust colour of tabs\r\n        document.getElementById(\"MondayCalendar\").className = \"\";\r\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\r\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\r\n        document.getElementById(\"ThursdayCalendar\").className = \"selected\";\r\n        document.getElementById(\"FridayCalendar\").className = \"\";\r\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\r\n        document.getElementById(\"SundayCalendar\").className = \"\";\r\n\r\n        // Adjust calendar shown\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n        ReactDOM.render(\r\n            <Calendar\r\n                refetchData={this.refetchData}\r\n                events={this.state.events}\r\n                date={this.state.dates[3]}\r\n                onDeleteClick={this.deleteBook}\r\n                onAddClick={this.createNewBook}\r\n                onUpdateClick={this.updateBook}\r\n                books={this.state.books}\r\n                startDate={this.state.dates[7]}\r\n                mondayDate={this.state.dates[0]}\r\n                sundayDate={this.state.dates[6]}\r\n                day=\"Thursday\"\r\n                current_user_id={this.state.current_user_id}\r\n            />, document.getElementById(\"root\"));\r\n        this.removeCalendarHeader();\r\n        this.addLines();\r\n    }\r\n\r\n    chooseFriday = () => {\r\n        this.refetchData();\r\n        // Update chosen_day state\r\n        this.setState({chosen_day: \"Friday\"})\r\n\r\n        // Adjust colour of tabs\r\n        document.getElementById(\"MondayCalendar\").className = \"\";\r\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\r\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\r\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\r\n        document.getElementById(\"FridayCalendar\").className = \"selected\";\r\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\r\n        document.getElementById(\"SundayCalendar\").className = \"\";\r\n\r\n        // Adjust calendar shown\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n        ReactDOM.render(\r\n            <Calendar\r\n                refetchData={this.refetchData}\r\n                events={this.state.events}\r\n                date={this.state.dates[4]}\r\n                onDeleteClick={this.deleteBook}\r\n                onAddClick={this.createNewBook}\r\n                onUpdateClick={this.updateBook}\r\n                books={this.state.books}\r\n                startDate={this.state.dates[7]}\r\n                mondayDate={this.state.dates[0]}\r\n                sundayDate={this.state.dates[6]}\r\n                day=\"Friday\"\r\n                current_user_id={this.state.current_user_id}\r\n            />, document.getElementById(\"root\"));\r\n        this.removeCalendarHeader();\r\n        this.addLines();\r\n    }\r\n\r\n    chooseSaturday = () => {\r\n        this.refetchData();\r\n        // Update chosen_day state\r\n        this.setState({chosen_day: \"Saturday\"})\r\n\r\n        // Adjust colour of tabs\r\n        document.getElementById(\"MondayCalendar\").className = \"\";\r\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\r\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\r\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\r\n        document.getElementById(\"FridayCalendar\").className = \"\";\r\n        document.getElementById(\"SaturdayCalendar\").className = \"selected\";\r\n        document.getElementById(\"SundayCalendar\").className = \"\";\r\n\r\n        // Adjust calendar shown\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n        ReactDOM.render(\r\n            <Calendar\r\n                refetchData={this.refetchData}\r\n                events={this.state.events}\r\n                date={this.state.dates[5]}\r\n                onDeleteClick={this.deleteBook}\r\n                onAddClick={this.createNewBook}\r\n                onUpdateClick={this.updateBook}\r\n                books={this.state.books}\r\n                startDate={this.state.dates[7]}\r\n                mondayDate={this.state.dates[0]}\r\n                sundayDate={this.state.dates[6]}\r\n                day=\"Saturday\"\r\n                current_user_id={this.state.current_user_id}\r\n            />, document.getElementById(\"root\"));\r\n        this.removeCalendarHeader();\r\n        this.addLines();\r\n    }\r\n\r\n    chooseSunday = () => {\r\n        this.refetchData();\r\n        // Update chosen_day state\r\n        this.setState({chosen_day: \"Sunday\"})\r\n\r\n        // Adjust colour of tabs\r\n        document.getElementById(\"MondayCalendar\").className = \"\";\r\n        document.getElementById(\"TuesdayCalendar\").className = \"\";\r\n        document.getElementById(\"WednesdayCalendar\").className = \"\";\r\n        document.getElementById(\"ThursdayCalendar\").className = \"\";\r\n        document.getElementById(\"FridayCalendar\").className = \"\";\r\n        document.getElementById(\"SaturdayCalendar\").className = \"\";\r\n        document.getElementById(\"SundayCalendar\").className = \"selected\";\r\n\r\n        // Adjust calendar shown\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n        ReactDOM.render(\r\n            <Calendar\r\n                refetchData={this.refetchData}\r\n                events={this.state.events}\r\n                date={this.state.dates[6]}\r\n                onDeleteClick={this.deleteBook}\r\n                onAddClick={this.createNewBook}\r\n                onUpdateClick={this.updateBook}\r\n                books={this.state.books}\r\n                startDate={this.state.dates[7]}\r\n                mondayDate={this.state.dates[0]}\r\n                sundayDate={this.state.dates[6]}\r\n                day=\"Sunday\"\r\n                current_user_id={this.state.current_user_id}\r\n            />, document.getElementById(\"root\"));\r\n        this.removeCalendarHeader();\r\n        this.addLines();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"tab\">\r\n                    <button id=\"MondayCalendar\" onClick={this.chooseMonday}> Monday </button>\r\n                    <button id=\"TuesdayCalendar\" onClick={this.chooseTuesday}> Tuesday </button>\r\n                    <button id=\"WednesdayCalendar\" onClick={this.chooseWednesday}> Wednesday </button>\r\n                    <button id=\"ThursdayCalendar\" onClick={this.chooseThursday}> Thursday </button>\r\n                    <button id=\"FridayCalendar\" onClick={this.chooseFriday}> Friday </button>\r\n                    <button id=\"SaturdayCalendar\" onClick={this.chooseSaturday}> Saturday </button>\r\n                    <button id=\"SundayCalendar\" onClick={this.chooseSunday}> Sunday </button>\r\n                </div>\r\n                <ScheduleControlItem\r\n                    key={this.state.key}\r\n                    refetchData={this.refetchData}\r\n                    events={this.state.events}\r\n                    dates={this.state.dates}\r\n                    onDeleteClick={this.deleteBook}\r\n                    onAddClick={this.createNewBook}\r\n                    onUpdateClick={this.updateBook}\r\n                    books={this.state.books}\r\n                    current_user_id={this.state.current_user_id}\r\n                />\r\n                <div id=\"popup-container-schedule\"> </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass ScheduleControlItem extends Component {\r\n    render() {\r\n        const days=[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\r\n        var today = new Date()\r\n        var today_date = today.getFullYear() + \"-\" + ((today.getMonth() + 1).toString().length === 1 ? \"0\" + (today.getMonth() + 1).toString() : (today.getMonth() + 1)) + \"-\" + (today.getDate().toString().length === 1 ? \"0\" + today.getDate().toString() : today.getDate())\r\n        return (\r\n            <div id=\"root\">\r\n                <Calendar\r\n                    refetchData={this.props.refetchData}\r\n                    events={this.props.events}\r\n                    date={today_date}\r\n                    onDeleteClick={this.props.onDeleteClick}\r\n                    onAddClick={this.props.onAddClick}\r\n                    onUpdateClick={this.props.onUpdateClick}\r\n                    books={this.props.books}\r\n                    startDate={this.props.dates[7]}\r\n                    mondayDate={this.props.dates[0]}\r\n                    sundayDate={this.props.dates[6]}\r\n                    day={days[today.getDay()]}\r\n                    current_user_id={this.props.current_user_id}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(<ScheduleControlDashboard />, document.getElementById('schedule-based-control'))\r\n\r\n// Presence Based Control\r\n\r\nclass PresenceControlDashboard extends Component {\r\n    state = {\r\n        books: [],\r\n        key: 1\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        window.presencecontrol = this;\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch data from database\r\n        fetch('/control_interface/api/presence/')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            data.sort(compare);\r\n            this.setState({books: data})\r\n        })\r\n    }\r\n\r\n    updateBook = (newBook) => {\r\n        fetch('/control_interface/api/presence/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook)\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({books: newBooks});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n              <br/>\r\n\r\n                  <PresenceControlList\r\n                      key={this.state.key}\r\n                      books={this.state.books}\r\n                      onUpdateClick={this.updateBook}\r\n                  />\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nclass PresenceControlList extends Component {\r\n    render() {\r\n        const books = this.props.books.map(book => (\r\n            <PresenceControlEditableItem\r\n                key={book.id}\r\n                id={book.id}\r\n                user_id={book.user_id}\r\n                device_type={book.device_type}\r\n                presence_setting={book.presence_setting}\r\n                onUpdateClick={this.props.onUpdateClick}\r\n            />\r\n        ));\r\n        return (\r\n            <div class=\"plugloadboxes\">\r\n                {books}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass PresenceControlEditableItem extends Component {\r\n    handleUpdate = (book) => {\r\n        book.id = this.props.id;\r\n        this.props.onUpdateClick(book);\r\n    }\r\n\r\n    render() {\r\n        const component = () => {\r\n            return (\r\n                <>\r\n                    <PresenceControlItem\r\n                        id={this.props.id}\r\n                        user_id={this.props.user_id}\r\n                        device_type={this.props.device_type}\r\n                        presence_setting={this.props.presence_setting}\r\n                        onFormSubmit={this.handleUpdate}\r\n                    />\r\n                </>\r\n            )\r\n        }\r\n        return (\r\n            component()\r\n        )\r\n    }\r\n}\r\n\r\nclass PresenceControlItem extends Component {\r\n    state = {\r\n        user_id: this.props.user_id,\r\n        device_type: this.props.device_type,\r\n        presence_setting: this.props.presence_setting,\r\n        achievements_books: [],\r\n        points_wallet_books: []\r\n    }\r\n\r\n    updateAchievementsBooks = (newBook) => {\r\n        fetch('/control_interface/api/achievements_bonus/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.achievements_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({achievements_books: newBooks})\r\n        })\r\n    }\r\n\r\n    updatePointsWalletBooks = (newBook) => {\r\n        fetch('/control_interface/api/points_wallet/' + newBook.id.toString() + '/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(newBook)\r\n        }).then(response => response.json())\r\n        .then(newBook => {\r\n            const newBooks = this.state.points_wallet_books.map(book => {\r\n                if (book.id === newBook.id) {\r\n                    return Object.assign({}, newBook);\r\n                } else {\r\n                    return book;\r\n                }\r\n            });\r\n            this.setState({points_wallet_books: newBooks})\r\n        })\r\n    }\r\n\r\n    handleAchievementsUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updateAchievementsBooks(book);\r\n    }\r\n\r\n    handlePointsWalletUpdate = (book) => {\r\n        book.id = this.props.user_id;\r\n        this.updatePointsWalletBooks(book);\r\n    }\r\n\r\n    updatePresenceAchievements = () => {\r\n        fetch('/control_interface/api/achievements_bonus/')\r\n        .then(response => response.json())\r\n        .then(bonus_data => {\r\n            this.setState({achievements_books: bonus_data}, function() {\r\n                if (bonus_data[0].first_presence === 0) {\r\n                    // First remote achievement completed\r\n                    bonus_data[0].first_presence = 70\r\n                    this.handleAchievementsUpdate(bonus_data[0])\r\n\r\n                    fetch('/control_interface/api/points_wallet/')\r\n                    .then(response => response.json())\r\n                    .then(points_data => {\r\n                        this.setState({points_wallet_books: points_data}, function() {\r\n                            points_data[0].points = points_data[0].points + 70\r\n                            this.handlePointsWalletUpdate(points_data[0])\r\n                        })\r\n                    })\r\n\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    onConfirm1 = () => {\r\n        // Update database\r\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()});\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n\r\n        // Checking for achievements\r\n        this.updatePresenceAchievements()\r\n    }\r\n\r\n    onCancel1 = () => {\r\n        document.getElementById(this.state.device_type.replace(/\\s/g, '') + \"Select\").value = this.state.presence_setting;\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    handleFormSubmit = () => {\r\n        this.props.onFormSubmit({...this.state});\r\n    }\r\n\r\n    handleSettingUpdate = (evt) => {\r\n        if (evt.target.value !== \"other\" && evt.target.value !== \"1000000\") {\r\n            // Hide popup\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n            // Update database\r\n            this.setState({presence_setting: evt.target.value}, function() {this.handleFormSubmit()})\r\n\r\n            // Checking for achievements\r\n            this.updatePresenceAchievements()\r\n        }\r\n        if (evt.target.value === \"other\") {\r\n            // Show popup\r\n            ReactDOM.render(\r\n                <PresenceControlPopup\r\n                    device_type={this.state.device_type}\r\n                    handleOtherUpdate={this.handleOtherUpdate}\r\n                    handleEnterClick={this.handleEnterClick}\r\n                    cancelButtonClicked={this.cancelButtonClicked}\r\n                    okButtonClicked={this.okButtonClicked}\r\n                />, document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\")\r\n            )\r\n        }\r\n        if (evt.target.value === \"1000000\") {\r\n            // Hide popup\r\n            ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\r\n                                onConfirm = {this.onConfirm1}\r\n                                onCancel = {this.onCancel1}\r\n                            />, document.getElementById(\"confirm-alert\"))\r\n        }\r\n    }\r\n\r\n    handleOtherUpdate = (evt) => {\r\n        this.setState({presence_setting: evt.target.value});\r\n    }\r\n\r\n    handleEnterClick = (evt) => {\r\n        if (evt.key === \"Enter\" || evt.keyCode === 13) {\r\n            this.okButtonClicked();\r\n        }\r\n    }\r\n\r\n    onConfirm2 = () => {\r\n        // Change outer ring to red\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"redRing\";\r\n        // Change image to OFF\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\r\n        // Set value to OFF\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"1000000\";\r\n        // Update database\r\n        this.setState({presence_setting: \"1000000\"}, function() {this.handleFormSubmit()})\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n\r\n       // Checking for achievements\r\n       this.updatePresenceAchievements()\r\n    }\r\n\r\n    onCancel2 = () => {\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(\"confirm-alert\"));\r\n    }\r\n\r\n    handlePresenceIconClick = () => {\r\n        if (document.getElementById(this.state.device_type.replace(/\\s/g,'')).className === \"greenRing\") {\r\n            ReactDOM.render(<ConfirmAlert\r\n                                message={\"You are deactivating presence-based control for \" + this.state.device_type + \".\"}\r\n                                onConfirm = {this.onConfirm2}\r\n                                onCancel = {this.onCancel2}\r\n                            />, document.getElementById(\"confirm-alert\"))\r\n        } else {\r\n            // Change outer ring to green\r\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).className = \"greenRing\"\r\n            // Change image to ON\r\n            document.getElementById(this.state.device_type.replace(/\\s/g,'')).childNodes[0].childNodes[0].src = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\r\n            // Set value to 5 minutes\r\n            document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\r\n            // Update database\r\n            this.setState({presence_setting: \"5\"}, function() {this.handleFormSubmit()})\r\n\r\n            // Checking for achievements\r\n            this.updatePresenceAchievements()\r\n        }\r\n    }\r\n\r\n    cancelButtonClicked = () => {\r\n        // Hide popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n        // Set value to 5 minutes\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = \"5\";\r\n        this.setState({presence_setting: 5}, function() {this.handleFormSubmit()})\r\n\r\n    }\r\n\r\n    okButtonClicked = () => {\r\n        // Display value on dropdown\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"Select\").value = document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value;\r\n        // Clear text box on popup\r\n        document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"TextOther\").value = \"\";\r\n        // Hide popup\r\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"))\r\n        // Update database\r\n        this.handleFormSubmit();\r\n\r\n        // Checking for achievements\r\n        this.updatePresenceAchievements()\r\n    }\r\n\r\n    render() {\r\n        const possible_option = [\"1000000\", \"5\", \"10\", \"20\", \"30\", \"60\", \"other\"]\r\n        if (possible_option.includes(this.state.presence_setting.toString())) {\r\n            var disabled = true;\r\n            var display_value = \"\";\r\n            var display_text = \"\";\r\n        } else {\r\n            disabled = false;\r\n            display_value = this.state.presence_setting;\r\n            display_text = this.state.presence_setting + \" minutes\";\r\n        }\r\n\r\n        if (this.state.presence_setting.toString() === \"1000000\") {\r\n            var presence_control_outer_ring = \"redRing\";\r\n            var presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" OFF.png\";\r\n        } else {\r\n            presence_control_outer_ring = \"greenRing\";\r\n            presence_control_image = \"/static/Images/\" + this.state.device_type.toString() + \" ON.png\";\r\n        }\r\n\r\n        return (\r\n            <div id={this.state.device_type.replace(/\\s/g,'') + \"BoxPresence\"} className=\"containerPresence\" onClick={this.exitClick}>\r\n                <div className=\"iconPresence\">\r\n                    <div className={presence_control_outer_ring} id={this.state.device_type.replace(/\\s/g,'')} onClick={this.handlePresenceIconClick}>\r\n                        <div className=\"whiteRing\">\r\n                            <img class=\"PlugLoadIcon\" src={presence_control_image} alt=\"Icon\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{width:\"200px\", height:\"10px\", overflowY:\"visible\"}}>\r\n                    <div style={{position:\"relative\", width:\"200px\", height:\"1px\", overflowY:\"visible\"}}>\r\n                        <div className=\"dropdownPresence\" id={this.state.device_type.replace(/\\s/g,'') + \"Dropdown\"}>\r\n                            <div class=\"wordPresence\">\r\n                                <p> {this.state.device_type} </p>\r\n                            </div>\r\n                            <select defaultValue={this.state.presence_setting} onChange={this.handleSettingUpdate} id={this.state.device_type.replace(/\\s/g,'') + \"Select\"}>\r\n                                <option value=\"1000000\"> Deactivate </option>\r\n                                <optgroup label=\"Off after I leave for:\">\r\n                                    <option value=\"5\"> 5 minutes </option>\r\n                                    <option value=\"10\"> 10 minutes </option>\r\n                                    <option value=\"20\"> 20 minutes </option>\r\n                                    <option value=\"30\"> 30 minutes </option>\r\n                                    <option value=\"60\"> 1 hour </option>\r\n                                    <option value=\"other\"> Custom Time </option>\r\n                                </optgroup>\r\n                                <option value={display_value} disabled={disabled}> {display_text} </option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div id={this.state.device_type.replace(/\\s/g,'') + \"PopupPresenceBox\"}> </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass PresenceControlPopup extends Component {\r\n    exitClick = () => {\r\n        this.props.cancelButtonClicked();\r\n    }\r\n    render() {\r\n        return (\r\n        <>\r\n            <div id=\"PopupPresenceOverlay\" className=\"popup_presence_overlay\" onClick={this.exitClick}></div>\r\n            <div id={this.props.device_type.replace(/\\s/g,'') + \"PopupPresence\"} className=\"visiblePresence\">\r\n                <input type=\"text\" id={this.props.device_type.replace(/\\s/g,'') + \"TextOther\"} onChange={this.props.handleOtherUpdate} onKeyUp={this.props.handleEnterClick} />\r\n                <p class=\"minutes\"> minutes </p>\r\n                <br />\r\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"CancelButton\"} onClick={this.props.cancelButtonClicked}> Cancel </button>\r\n                <button id={this.props.device_type.replace(/\\s/g,'') + \"OkButton\"} onClick={this.props.okButtonClicked}> OK </button>\r\n            </div>\r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(<PresenceControlDashboard />, document.getElementById('presence-based-control'))\r\n\r\n// Others\r\n\r\n// Information icons\r\nvar remotecontrolelement = document.getElementById(\"remotecontrolrect\");\r\nvar infoiconremote = document.getElementById(\"infoIconRemote\");\r\nvar scheduleelement = document.getElementById(\"schedulebasedrect\");\r\nvar infoiconschedule = document.getElementById(\"infoIcon\");\r\nvar presenceelement = document.getElementById(\"presencebasedrect\");\r\nvar infoiconpresence = document.getElementById(\"infoIconPresence\");\r\n\r\nwindow.onload = function() {\r\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\r\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\r\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\r\n  infoiconremote.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxRemote\"}>\r\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\r\n        </div>, document.getElementById(\"infoBoxRemote\"));\r\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\r\n    }\r\n  infoiconremote.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\r\n  }\r\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\r\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\r\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\r\n  infoiconschedule.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBox\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\r\n        </div>, document.getElementById(\"infoBox\"));\r\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\r\n    }\r\n  infoiconschedule.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\r\n  }\r\n  let presenceelemRect = presenceelement.getBoundingClientRect();\r\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\r\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\r\n  infoiconpresence.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxPresence\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\r\n        </div>, document.getElementById(\"infoBoxPresence\"));\r\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\r\n    }\r\n  infoiconpresence.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\r\n  }\r\n}\r\n\r\nwindow.onresize = function() {\r\n\r\n  let remotecontrolelemRect = remotecontrolelement.getBoundingClientRect();\r\n  let infoiconremoteRect = infoiconremote.getBoundingClientRect();\r\n  let offsetremote = remotecontrolelemRect.right - infoiconremoteRect.right - 10;\r\n  infoiconremote.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxRemote\"}>\r\n          <p style={{color:\"black\"}}> This control feature allows you to manually switch your plug loads ON / OFF wirelessly without having to be physically present at your desk. </p>\r\n        </div>, document.getElementById(\"infoBoxRemote\"));\r\n    document.getElementById(\"informationBoxRemote\").style.width = offsetremote.toString() + \"px\";\r\n    }\r\n  infoiconremote.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxRemote\"));\r\n  }\r\n  let scheduleelemRect = scheduleelement.getBoundingClientRect();\r\n  let infoiconscheduleRect = infoiconschedule.getBoundingClientRect();\r\n  let offsetschedule = scheduleelemRect.right - infoiconscheduleRect.right - 10;\r\n  infoiconschedule.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBox\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps you to automatically switch ON / OFF your plug loads based on a specific schedule that you have defined. </p>\r\n        </div>, document.getElementById(\"infoBox\"));\r\n    document.getElementById(\"informationBox\").style.width = offsetschedule.toString() + \"px\";\r\n    }\r\n  infoiconschedule.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBox\"));\r\n  }\r\n  let presenceelemRect = presenceelement.getBoundingClientRect();\r\n  let infoiconpresenceRect = infoiconpresence.getBoundingClientRect();\r\n  let offsetpresence = presenceelemRect.right - infoiconpresenceRect.right - 10;\r\n  infoiconpresence.onmouseover = function() {\r\n    ReactDOM.render(\r\n        <div id={\"informationBoxPresence\"}>\r\n          <p style={{color:\"black\"}}> This control feature helps to automatically switch ON your devices when you arrive at your desk and switch them OFF after you have left your desk after some time. </p>\r\n        </div>, document.getElementById(\"infoBoxPresence\"));\r\n    document.getElementById(\"informationBoxPresence\").style.width = offsetpresence.toString() + \"px\";\r\n    }\r\n  infoiconpresence.onmouseout = function() {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"infoBoxPresence\"));\r\n  }\r\n}\r\n\r\n// Fix for Google Chrome\r\nvar isChromium = window.chrome;\r\nvar winNav = window.navigator;\r\nvar vendorName = winNav.vendor;\r\nvar isOpera = typeof window.opr !== \"undefined\";\r\nvar isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1;\r\nvar isIOSChrome = winNav.userAgent.match(\"CriOS\");\r\n\r\nif (isIOSChrome) {\r\n   // is Google Chrome on IOS\r\n   document.onkeydown = function(event) {\r\nif (event.ctrlKey===true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\r\n        event.preventDefault();\r\n     }\r\n    // 107 Num Key  +\r\n    // 109 Num Key  -\r\n    // 173 Min Key  hyphen/underscore key\r\n    // 61 Plus key  +/= key\r\n};\r\n} else if(\r\n  isChromium !== null &&\r\n  typeof isChromium !== \"undefined\" &&\r\n  vendorName === \"Google Inc.\" &&\r\n  isOpera === false &&\r\n  isIEedge === false\r\n) {\r\n   // is Google Chrome\r\n   document.onkeydown = function(event) {\r\nif (event.ctrlKey === true || (event.which === '61' || event.which === '107' || event.which === '173' || event.which === '109'  || event.which === '187'  || event.which === '189'  ) ) {\r\n        event.preventDefault();\r\n     }\r\n    // 107 Num Key  +\r\n    // 109 Num Key  -\r\n    // 173 Min Key  hyphen/underscore key\r\n    // 61 Plus key  +/= key\r\n};\r\n} else {\r\n   // not Google Chrome\r\n}\r\n\r\n"],"sourceRoot":""}